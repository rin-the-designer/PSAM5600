var strudel=function(a){"use strict";var au=typeof document<"u"?document.currentScript:null;typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const se=BigInt(0),me=BigInt(1),Ri=BigInt(2),ou=BigInt(5),gt=BigInt(10),rM=2e3,Y={s:me,n:se,d:me};function dn(e,t){try{e=BigInt(e)}catch{throw Sn()}return e*t}function Rt(e){return typeof e=="bigint"?e:Math.floor(e)}function Ze(e,t){if(t===se)throw cu();const n=Object.create(Te.prototype);n.s=e<se?-me:me,e=e<se?-e:e;const i=zn(e,t);return n.n=e/i,n.d=t/i,n}function ui(e){const t={};let n=e,i=Ri,r=ou-me;for(;r<=n;){for(;n%i===se;)n/=i,t[i]=(t[i]||se)+me;r+=me+Ri*i++}return n!==e?n>1&&(t[n]=(t[n]||se)+me):t[e]=(t[e]||se)+me,t}const tt=function(e,t){let n=se,i=me,r=me;if(e!=null)if(t!==void 0){if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Sn();if(e%1!==0)throw ld();n=BigInt(e)}if(typeof t=="bigint")i=t;else{if(isNaN(t))throw Sn();if(t%1!==0)throw ld();i=BigInt(t)}r=n*i}else if(typeof e=="object"){if("d"in e&&"n"in e)n=BigInt(e.n),i=BigInt(e.d),"s"in e&&(n*=BigInt(e.s));else if(0 in e)n=BigInt(e[0]),1 in e&&(i=BigInt(e[1]));else if(typeof e=="bigint")n=e;else throw Sn();r=n*i}else if(typeof e=="number"){if(isNaN(e))throw Sn();if(e<0&&(r=-me,e=-e),e%1===0)n=BigInt(e);else if(e>0){let s=1,u=0,o=1,c=1,h=1,d=1e7;for(e>=1&&(s=10**Math.floor(1+Math.log10(e)),e/=s);o<=d&&h<=d;){let g=(u+c)/(o+h);if(e===g){o+h<=d?(n=u+c,i=o+h):h>o?(n=c,i=h):(n=u,i=o);break}else e>g?(u+=c,o+=h):(c+=u,h+=o),o>d?(n=c,i=h):(n=u,i=o)}n=BigInt(n)*BigInt(s),i=BigInt(i)}}else if(typeof e=="string"){let s=0,u=se,o=se,c=se,h=me,d=me,g=e.replace(/_/g,"").match(/\d+|./g);if(g===null)throw Sn();if(g[s]==="-"?(r=-me,s++):g[s]==="+"&&s++,g.length===s+1?o=dn(g[s++],r):g[s+1]==="."||g[s]==="."?(g[s]!=="."&&(u=dn(g[s++],r)),s++,(s+1===g.length||g[s+1]==="("&&g[s+3]===")"||g[s+1]==="'"&&g[s+3]==="'")&&(o=dn(g[s],r),h=gt**BigInt(g[s].length),s++),(g[s]==="("&&g[s+2]===")"||g[s]==="'"&&g[s+2]==="'")&&(c=dn(g[s+1],r),d=gt**BigInt(g[s+1].length)-me,s+=3)):g[s+1]==="/"||g[s+1]===":"?(o=dn(g[s],r),h=dn(g[s+2],me),s+=3):g[s+3]==="/"&&g[s+1]===" "&&(u=dn(g[s],r),o=dn(g[s+2],r),h=dn(g[s+4],me),s+=5),g.length<=s)i=h*d,r=n=c+i*u+d*o;else throw Sn()}else if(typeof e=="bigint")n=e,r=e,i=me;else throw Sn();if(i===se)throw cu();Y.s=r<se?-me:me,Y.n=n<se?-n:n,Y.d=i<se?-i:i};function sM(e,t,n){let i=me;for(;t>se;e=e*e%n,t>>=me)t&me&&(i=i*e%n);return i}function uM(e,t){for(;t%Ri===se;t/=Ri);for(;t%ou===se;t/=ou);if(t===me)return se;let n=gt%t,i=1;for(;n!==me;i++)if(n=n*gt%t,i>rM)return se;return BigInt(i)}function aM(e,t,n){let i=me,r=sM(gt,n,t);for(let s=0;s<300;s++){if(i===r)return BigInt(s);i=i*gt%t,r=r*gt%t}return 0}function zn(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Te(e,t){if(tt(e,t),this instanceof Te)e=zn(Y.d,Y.n),this.s=Y.s,this.n=Y.n/e,this.d=Y.d/e;else return Ze(Y.s*Y.n,Y.d)}var cu=function(){return new Error("Division by Zero")},Sn=function(){return new Error("Invalid argument")},ld=function(){return new Error("Parameters must be integer")};Te.prototype={s:me,n:se,d:me,abs:function(){return Ze(this.n,this.d)},neg:function(){return Ze(-this.s*this.n,this.d)},add:function(e,t){return tt(e,t),Ze(this.s*this.n*Y.d+Y.s*this.d*Y.n,this.d*Y.d)},sub:function(e,t){return tt(e,t),Ze(this.s*this.n*Y.d-Y.s*this.d*Y.n,this.d*Y.d)},mul:function(e,t){return tt(e,t),Ze(this.s*Y.s*this.n*Y.n,this.d*Y.d)},div:function(e,t){return tt(e,t),Ze(this.s*Y.s*this.n*Y.d,this.d*Y.n)},clone:function(){return Ze(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Ze(this.s*this.n%this.d,me);if(tt(e,t),se===Y.n*this.d)throw cu();return Ze(this.s*(Y.d*this.n)%(Y.n*this.d),Y.d*this.d)},gcd:function(e,t){return tt(e,t),Ze(zn(Y.n,this.n)*zn(Y.d,this.d),Y.d*this.d)},lcm:function(e,t){return tt(e,t),Y.n===se&&this.n===se?Ze(se,me):Ze(Y.n*this.n,zn(Y.n,this.n)*zn(Y.d,this.d))},inverse:function(){return Ze(this.s*this.d,this.n)},pow:function(e,t){if(tt(e,t),Y.d===me)return Y.s<se?Ze((this.s*this.d)**Y.n,this.n**Y.n):Ze((this.s*this.n)**Y.n,this.d**Y.n);if(this.s<se)return null;let n=ui(this.n),i=ui(this.d),r=me,s=me;for(let u in n)if(u!=="1"){if(u==="0"){r=se;break}if(n[u]*=Y.n,n[u]%Y.d===se)n[u]/=Y.d;else return null;r*=BigInt(u)**n[u]}for(let u in i)if(u!=="1"){if(i[u]*=Y.n,i[u]%Y.d===se)i[u]/=Y.d;else return null;s*=BigInt(u)**i[u]}return Y.s<se?Ze(s,r):Ze(r,s)},log:function(e,t){if(tt(e,t),this.s<=se||Y.s<=se)return null;const n={},i=ui(Y.n),r=ui(Y.d),s=ui(this.n),u=ui(this.d);for(const h in r)i[h]=(i[h]||se)-r[h];for(const h in u)s[h]=(s[h]||se)-u[h];for(const h in i)h!=="1"&&(n[h]=!0);for(const h in s)h!=="1"&&(n[h]=!0);let o=null,c=null;for(const h in n){const d=i[h]||se,g=s[h]||se;if(d===se){if(g!==se)return null;continue}let m=g,A=d;const C=zn(m,A);if(m/=C,A/=C,o===null&&c===null)o=m,c=A;else if(m*c!==o*A)return null}return o!==null&&c!==null?Ze(o,c):null},equals:function(e,t){return tt(e,t),this.s*this.n*Y.d===Y.s*Y.n*this.d},lt:function(e,t){return tt(e,t),this.s*this.n*Y.d<Y.s*Y.n*this.d},lte:function(e,t){return tt(e,t),this.s*this.n*Y.d<=Y.s*Y.n*this.d},gt:function(e,t){return tt(e,t),this.s*this.n*Y.d>Y.s*Y.n*this.d},gte:function(e,t){return tt(e,t),this.s*this.n*Y.d>=Y.s*Y.n*this.d},compare:function(e,t){tt(e,t);let n=this.s*this.n*Y.d-Y.s*Y.n*this.d;return(se<n)-(n<se)},ceil:function(e){return e=gt**BigInt(e||0),Ze(Rt(this.s*e*this.n/this.d)+(e*this.n%this.d>se&&this.s>=se?me:se),e)},floor:function(e){return e=gt**BigInt(e||0),Ze(Rt(this.s*e*this.n/this.d)-(e*this.n%this.d>se&&this.s<se?me:se),e)},round:function(e){return e=gt**BigInt(e||0),Ze(Rt(this.s*e*this.n/this.d)+this.s*((this.s>=se?me:se)+Ri*(e*this.n%this.d)>this.d?me:se),e)},roundTo:function(e,t){tt(e,t);const n=this.n*Y.d,i=this.d*Y.n,r=n%i;let s=Rt(n/i);return r+r>=i&&s++,Ze(this.s*s*Y.n,Y.d)},divisible:function(e,t){return tt(e,t),!(!(Y.n*this.d)||this.n*Y.d%(Y.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,n=this.d;e=e||15;let i=uM(t,n),r=aM(t,n,i),s=this.s<se?"-":"";if(s+=Rt(t/n),t%=n,t*=gt,t&&(s+="."),i){for(let u=r;u--;)s+=Rt(t/n),t%=n,t*=gt;s+="(";for(let u=i;u--;)s+=Rt(t/n),t%=n,t*=gt;s+=")"}else for(let u=e;t&&u--;)s+=Rt(t/n),t%=n,t*=gt;return s},toFraction:function(e){let t=this.n,n=this.d,i=this.s<se?"-":"";if(n===me)i+=t;else{let r=Rt(t/n);e&&r>se&&(i+=r,i+=" ",t%=n),i+=t,i+="/",i+=n}return i},toLatex:function(e){let t=this.n,n=this.d,i=this.s<se?"-":"";if(n===me)i+=t;else{let r=Rt(t/n);e&&r>se&&(i+=r,t%=n),i+="\\frac{",i+=t,i+="}{",i+=n,i+="}"}return i},toContinued:function(){let e=this.n,t=this.d,n=[];do{n.push(Rt(e/t));let i=e%t;e=t,t=i}while(e!==me);return n},simplify:function(e){const t=BigInt(1/(e||.001)|0),n=this.abs(),i=n.toContinued();for(let r=1;r<i.length;r++){let s=Ze(i[r-1],me);for(let o=r-2;o>=0;o--)s=s.inverse().add(i[o]);let u=s.sub(n);if(u.n*t<u.d)return s.mul(this.s)}return this}};const xr="strudel.log";let oM=1e3,fd,hd;function lu(e,t="cyclist"){Qe(`[${t}] error: ${e.message}`)}function Qe(e,t,n={}){let i=performance.now();fd===e&&i-hd<oM||(fd=e,hd=i,console.log(`%c${e}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(xr,{detail:{message:e,type:t,data:n}})))}Qe.key=xr;const dd=e=>/^[a-gA-G][#bs]*[0-9]$/.test(e),Bn=e=>/^[a-gA-G][#bsf]*[0-9]?$/.test(e),fu=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},cM={c:0,d:2,e:4,f:5,g:7,a:9,b:11},lM={"#":1,b:-1,s:1,f:-1},mn=(e,t=3)=>{const[n,i,r=t]=fu(e);if(!n)throw new Error('not a note: "'+e+'"');const s=cM[n.toLowerCase()],u=i?.split("").reduce((o,c)=>o+lM[c],0)||0;return(Number(r)+1)*12+s+u},_n=e=>Math.pow(2,(e-69)/12)*440,kr=e=>12*Math.log(e/440)/Math.LN2+69,md=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;if(typeof n=="number")return kr(n);if(typeof i=="string")return mn(i);if(typeof i=="number")return i;if(!t)throw new Error("valueToMidi: expected freq or note to be set");return t},pd=(e,t)=>(e-t)*1e3,hu=e=>_n(typeof e=="number"?e:mn(e)),fM=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],gd=e=>{const t=Math.floor(e/12)-1;return fM[e%12]+t},Ct=(e,t)=>(e%t+t)%t,du=e=>e.reduce((t,n)=>t+n)/e.length;function mu(e,t=0){return isNaN(Number(e))?(Qe(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const yd=(e,t)=>Ct(Math.round(mu(e??0,0)),t),bd=e=>{let{value:t,context:n}=e,i=t;if(typeof i=="object"&&!Array.isArray(i)&&(i=i.note||i.n||i.value,i===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(t)}`);if(typeof i=="number"&&n.type!=="frequency")i=_n(e.value);else if(typeof i=="number"&&n.type==="frequency")i=e.value;else if(typeof i!="string"||!Bn(i))throw new Error("not a note: "+JSON.stringify(i));return i},pu=e=>{let{value:t,context:n}=e;if(typeof t=="object")return t.freq?t.freq:hu(t.note||t.n||t.value);if(typeof t=="number"&&n.type!=="frequency")t=_n(e.value);else if(typeof t=="string"&&Bn(t))t=_n(mn(e.value));else if(typeof t!="number")throw new Error("not a note or frequency: "+t);return t},gu=(e,t)=>e.slice(t).concat(e.slice(0,t)),yu=(...e)=>e.reduce((t,n)=>(...i)=>t(n(...i)),t=>t),Ad=(...e)=>yu(...e.reverse()),jn=e=>e.filter(t=>t!=null),Qt=e=>[].concat(...e),$n=e=>e,Md=(e,t)=>e,Vr=(e,t)=>Array.from({length:t-e+1},(n,i)=>i+e);function ge(e,t,n=e.length){const i=function r(...s){if(s.length>=n)return e.apply(this,s);{const u=function(...o){return r.apply(this,s.concat(o))};return t&&t(u,s),u}};return t&&t(i,[]),i}function Tr(e){const t=Number(e);if(!isNaN(t))return t;if(Bn(e))return mn(e);throw new Error(`cannot parse as numeral: "${e}"`)}function Ir(e,t){return(...n)=>e(...n.map(t))}function yt(e){return Ir(e,Tr)}function bu(e){const t=Number(e);if(!isNaN(t))return t;const n={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[e];if(typeof n<"u")return n;throw new Error(`cannot parse as fractional: "${e}"`)}const Cd=e=>Ir(e,bu),Nr=function(e,t){return[t.slice(0,e),t.slice(e)]},Gi=(e,t,n)=>t.map((i,r)=>e(i,n[r])),Au=function(e){const t=[];for(let n=0;n<e.length-1;++n)t.push([e[n],e[n+1]]);return t},Zi=(e,t,n)=>Math.min(Math.max(e,t),n),hM=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],dM=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],mM=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],pM=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],gM=["I","Ro","Ha","Ni","Ho","He","To"],yM=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],vd=(e,t="letters")=>{const i=(t==="solfeggio"?hM:t==="indian"?dM:t==="german"?mM:t==="byzantine"?pM:t==="japanese"?gM:yM)[e%12],r=Math.floor(e/12)-1;return i+r};function Pd(e){var t={};return e.filter(function(n){return t.hasOwn(n)?!1:t[n]=!0})}function Dd(e){return e.sort().filter(function(t,n,i){return!n||t!=i[n-1]})}function Mu(e){return e.sort((t,n)=>t.compare(n)).filter(function(t,n,i){return!n||t.ne(i[n-1])})}function Cu(e){const t=new TextEncoder().encode(e);return btoa(String.fromCharCode(...t))}function vu(e){const t=new Uint8Array(atob(e).split("").map(i=>i.charCodeAt(0)));return new TextDecoder().decode(t)}function Fd(e){return encodeURIComponent(Cu(e))}function Ed(e){return vu(decodeURIComponent(e))}function Pu(e,t){return Array.isArray(e)?e.map(t):Object.fromEntries(Object.entries(e).map(([n,i],r)=>[n,t(i,n,r)]))}function Lr(e,t){return e/t}class Du{constructor({getTargetClockTime:t=bM,weight:n=16,offsetDelta:i=.005,checkAfterTime:r=2,resetAfterTime:s=8}){this.offsetTime,this.timeAtPrevOffsetSample,this.prevOffsetTimes=[],this.getTargetClockTime=t,this.weight=n,this.offsetDelta=i,this.checkAfterTime=r,this.resetAfterTime=s,this.reset=()=>{this.prevOffsetTimes=[],this.offsetTime=null,this.timeAtPrevOffsetSample=null}}calculateOffset(t){const n=this.getTargetClockTime(),i=n-this.timeAtPrevOffsetSample,r=n-t;if(i>this.resetAfterTime&&this.reset(),this.offsetTime==null&&(this.offsetTime=r),this.prevOffsetTimes.push(r),this.prevOffsetTimes.length>this.weight&&this.prevOffsetTimes.shift(),this.timeAtPrevOffsetSample==null||i>this.checkAfterTime){this.timeAtPrevOffsetSample=n;const s=du(this.prevOffsetTimes);Math.abs(s-this.offsetTime)>this.offsetDelta&&(this.offsetTime=s)}return this.offsetTime}calculateTimestamp(t,n){return this.calculateOffset(t)+n}}function wd(){return performance.now()*.001}function bM(){return Date.now()*.001}const Fu=new Map([["control","Control"],["ctrl","Control"],["alt","Alt"],["shift","Shift"],["down","ArrowDown"],["up","ArrowUp"],["left","ArrowLeft"],["right","ArrowRight"]]);let Xi;function Eu(){if(Xi==null){if(typeof window>"u")return;Xi={},window.addEventListener("keydown",e=>{Xi[e.key]=!0}),window.addEventListener("keyup",e=>{Xi[e.key]=!1})}return{...Xi}}function Rr(e,t=!1){return typeof e=="object"?t?JSON.stringify(e).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(e):e}Te.prototype.sam=function(){return this.floor()},Te.prototype.nextSam=function(){return this.sam().add(1)},Te.prototype.wholeCycle=function(){return new qe(this.sam(),this.nextSam())},Te.prototype.cyclePos=function(){return this.sub(this.sam())},Te.prototype.lt=function(e){return this.compare(e)<0},Te.prototype.gt=function(e){return this.compare(e)>0},Te.prototype.lte=function(e){return this.compare(e)<=0},Te.prototype.gte=function(e){return this.compare(e)>=0},Te.prototype.eq=function(e){return this.compare(e)==0},Te.prototype.ne=function(e){return this.compare(e)!=0},Te.prototype.max=function(e){return this.gt(e)?this:e},Te.prototype.maximum=function(...e){return e=e.map(t=>new Te(t)),e.reduce((t,n)=>n.max(t),this)},Te.prototype.min=function(e){return this.lt(e)?this:e},Te.prototype.mulmaybe=function(e){return e!==void 0?this.mul(e):void 0},Te.prototype.divmaybe=function(e){return e!==void 0?this.div(e):void 0},Te.prototype.addmaybe=function(e){return e!==void 0?this.add(e):void 0},Te.prototype.submaybe=function(e){return e!==void 0?this.sub(e):void 0},Te.prototype.show=function(){return this.s*this.n+"/"+this.d},Te.prototype.or=function(e){return this.eq(0)?e:this};const $=e=>Te(e),AM=(...e)=>{if(e=jn(e),e.length!==0)return e.reduce((t,n)=>t.gcd(n),$(1))},Gt=(...e)=>{if(e=jn(e),e.length===0)return;const t=e.pop();return e.reduce((n,i)=>n===void 0||i===void 0?void 0:n.lcm(i),t)};$._original=Te;class qe{constructor(t,n){this.begin=$(t),this.end=$(n)}get spanCycles(){const t=[];var n=this.begin;const i=this.end,r=i.sam();if(n.equals(i))return[new qe(n,i)];for(;i.gt(n);){if(n.sam().equals(r)){t.push(new qe(n,this.end));break}const s=n.nextSam();t.push(new qe(n,s)),n=s}return t}get duration(){return this.end.sub(this.begin)}cycleArc(){const t=this.begin.cyclePos(),n=t.add(this.duration);return new qe(t,n)}withTime(t){return new qe(t(this.begin),t(this.end))}withEnd(t){return new qe(this.begin,t(this.end))}withCycle(t){const n=this.begin.sam(),i=n.add(t(this.begin.sub(n))),r=n.add(t(this.end.sub(n)));return new qe(i,r)}intersection(t){const n=this.begin.max(t.begin),i=this.end.min(t.end);if(!n.gt(i)&&!(n.equals(i)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(t.end)&&t.begin.lt(t.end))))return new qe(n,i)}intersection_e(t){const n=this.intersection(t);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div($(2)))}equals(t){return this.begin.equals(t.begin)&&this.end.equals(t.end)}show(){return this.begin.show()+" → "+this.end.show()}}class ze{constructor(t,n,i,r={},s=!1){this.whole=t,this.part=n,this.value=i,this.context=r,this.stateful=s,s&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let t;return typeof this.value?.duration=="number"?t=$(this.value.duration):t=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?t.mul(this.value.clip):t}get endClipped(){return this.whole.begin.add(this.duration)}isActive(t){return this.whole.begin<=t&&this.endClipped>=t}isInPast(t){return t>this.endClipped}isInNearPast(t,n){return n-t<=this.endClipped}isInFuture(t){return t<this.whole.begin}isInNearFuture(t,n){return n<this.whole.begin&&n>this.whole.begin-t}isWithinTime(t,n){return this.whole.begin<=n&&this.endClipped>=t}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(t){const n=this.whole?t(this.whole):void 0;return new ze(n,t(this.part),this.value,this.context)}withValue(t){return new ze(this.whole,this.part,t(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(t){return this.context.tags?.includes(t)}resolveState(t){if(this.stateful&&this.hasOnset()){console.log("stateful");const n=this.value,[i,r]=n(t);return[i,new ze(this.whole,this.part,r,this.context,!1)]}return[t,this]}spanEquals(t){return this.whole==null&&t.whole==null||this.whole.equals(t.whole)}equals(t){return this.spanEquals(t)&&this.part.equals(t.part)&&this.value===t.value}show(t=!1){const n=typeof this.value=="object"?t?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var i="";if(this.whole==null)i="~"+this.part.show;else{var r=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(i=this.whole.begin.show()+" ⇜ "),r||(i+="("),i+=this.part.show(),r||(i+=")"),this.whole.end.equals(this.part.end)||(i+=" ⇝ "+this.whole.end.show())}return"[ "+i+" | "+n+" ]"}showWhole(t=!1){return`${this.whole==null?"~":this.whole.show()}: ${Rr(this.value,t)}`}combineContext(t){const n=this;return{...n.context,...t.context,locations:(n.context.locations||[]).concat(t.context.locations||[])}}setContext(t){return new ze(this.whole,this.part,this.value,t)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}}class qn{constructor(t,n={}){this.span=t,this.controls=n}setSpan(t){return new qn(t,this.controls)}withSpan(t){return this.setSpan(t(this.span))}setControls(t){return new qn(this.span,t)}}function MM(e,t,n){if(t?.value!==void 0&&Object.keys(t).length===1)return Qe("[warn]: Can't do arithmetic on control pattern."),e;const i=Object.keys(e).filter(r=>Object.keys(t).includes(r));return Object.assign({},e,t,Object.fromEntries(i.map(r=>[r,n(e[r],t[r])])))}ge((e,t)=>e*t),ge((e,t)=>t.map(e));function wu(e,t=60){let n=0,i=$(0),r=[""],s="";for(;r[0].length<t;){const u=e.queryArc(n,n+1),o=u.filter(d=>d.hasOnset()).map(d=>d.duration),c=AM(...o),h=c.inverse();r=r.map(d=>d+"|"),s+="|";for(let d=0;d<h;d++){const[g,m]=[i,i.add(c)],A=u.filter(v=>v.whole.begin.lte(g)&&v.whole.end.gte(m)),C=A.length-r.length;C>0&&(r=r.concat(Array(C).fill(s))),r=r.map((v,E)=>{const k=A[E];if(k){const R=k.whole.begin.eq(g)?""+k.value:"-";return v+R}return v+"."}),s+=".",i=i.add(c)}n++}return r.join(`
`)}let Su,Zt=!0;const Sd=function(e){Zt=!!e},Bu=e=>Su=e;let q=class ot{constructor(t,n=void 0){this.query=t,this._Pattern=!0,this._steps=n}get _steps(){return this.__steps}set _steps(t){this.__steps=t===void 0?void 0:$(t)}setSteps(t){return this._steps=t,this}withSteps(t){return Zt?new ot(this.query,this._steps===void 0?void 0:t(this._steps)):this}get hasSteps(){return this._steps!==void 0}withValue(t){const n=new ot(i=>this.query(i).map(r=>r.withValue(t)));return n._steps=this._steps,n}withState(t){return this.withHaps((n,i)=>(t(i),n))}fmap(t){return this.withValue(t)}appWhole(t,n){const i=this,r=function(s){const u=i.query(s),o=n.query(s),c=function(h,d){const g=h.part.intersection(d.part);if(g!=null)return new ze(t(h.whole,d.whole),g,h.value(d.value),d.combineContext(h))};return Qt(u.map(h=>jn(o.map(d=>c(h,d)))))};return new ot(r)}appBoth(t){const n=this,i=function(s,u){if(!(s==null||u==null))return s.intersection_e(u)},r=n.appWhole(i,t);return Zt&&(r._steps=Gt(t._steps,n._steps)),r}appLeft(t){const n=this,i=function(s){const u=[];for(const o of n.query(s)){const c=t.query(s.setSpan(o.wholeOrPart()));for(const h of c){const d=o.whole,g=o.part.intersection(h.part);if(g){const m=o.value(h.value),A=h.combineContext(o),C=new ze(d,g,m,A);u.push(C)}}}return u},r=new ot(i);return r._steps=this._steps,r}appRight(t){const n=this,i=function(s){const u=[];for(const o of t.query(s)){const c=n.query(s.setSpan(o.wholeOrPart()));for(const h of c){const d=o.whole,g=h.part.intersection(o.part);if(g){const m=h.value(o.value),A=o.combineContext(h),C=new ze(d,g,m,A);u.push(C)}}}return u},r=new ot(i);return r._steps=t._steps,r}bindWhole(t,n){const i=this,r=function(s){const u=function(c,h){return new ze(t(c.whole,h.whole),h.part,h.value,Object.assign({},c.context,h.context,{locations:(c.context.locations||[]).concat(h.context.locations||[])}))},o=function(c){return n(c.value).query(s.setSpan(c.part)).map(h=>u(c,h))};return Qt(i.query(s).map(c=>o(c)))};return new ot(r)}bind(t){const n=function(i,r){if(!(i==null||r==null))return i.intersection_e(r)};return this.bindWhole(n,t)}join(){return this.bind($n)}outerBind(t){return this.bindWhole(n=>n,t).setSteps(this._steps)}outerJoin(){return this.outerBind($n)}innerBind(t){return this.bindWhole((n,i)=>i,t)}innerJoin(){return this.innerBind($n)}resetJoin(t=!1){const n=this;return new ot(i=>n.discreteOnly().query(i).map(r=>r.value.late(t?r.whole.begin:r.whole.begin.cyclePos()).query(i).map(s=>new ze(s.whole?s.whole.intersection(r.whole):void 0,s.part.intersection(r.part),s.value).setContext(r.combineContext(s))).filter(s=>s.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const t=this;function n(i){const r=t.discreteOnly().query(i);function s(o){const h=o.value._focusSpan(o.wholeOrPart()).query(i.setSpan(o.part));function d(g,m){let A;if(m.whole&&g.whole&&(A=m.whole.intersection(g.whole),!A))return;const C=m.part.intersection(g.part);if(!C)return;const v=m.combineContext(g);return new ze(A,C,m.value,v)}return h.map(g=>d(o,g))}return Qt(r.map(s)).filter(o=>o)}return new ot(n)}squeezeBind(t){return this.fmap(t).squeezeJoin()}polyJoin=function(){const t=this;return t.fmap(n=>n.extend(t._steps.div(n._steps))).outerJoin()};polyBind(t){return this.fmap(t).polyJoin()}queryArc(t,n,i={}){try{return this.query(new qn(new qe(t,n),i))}catch(r){return Qe(`[query]: ${r.message}`,"error"),[]}}splitQueries(){const t=this,n=i=>Qt(i.span.spanCycles.map(r=>t.query(i.setSpan(r))));return new ot(n)}withQuerySpan(t){return new ot(n=>this.query(n.withSpan(t)))}withQuerySpanMaybe(t){const n=this;return new ot(i=>{const r=i.withSpan(t);return r.span?n.query(r):[]})}withQueryTime(t){return new ot(n=>this.query(n.withSpan(i=>i.withTime(t))))}withHapSpan(t){return new ot(n=>this.query(n).map(i=>i.withSpan(t)))}withHapTime(t){return this.withHapSpan(n=>n.withTime(t))}withHaps(t){const n=new ot(i=>t(this.query(i),i));return n._steps=this._steps,n}withHap(t){return this.withHaps(n=>n.map(t))}setContext(t){return this.withHap(n=>n.setContext(t))}withContext(t){const n=this.withHap(i=>i.setContext(t(i.context)));return this.__pure!==void 0&&(n.__pure=this.__pure,n.__pure_loc=this.__pure_loc),n}stripContext(){return this.withHap(t=>t.setContext({}))}withLoc(t,n){const i={start:t,end:n},r=this.withContext(s=>{const u=(s.locations||[]).concat([i]);return{...s,locations:u}});return this.__pure&&(r.__pure=this.__pure,r.__pure_loc=i),r}filterHaps(t){return new ot(n=>this.query(n).filter(t))}filterValues(t){return new ot(n=>this.query(n).filter(i=>t(i.value))).setSteps(this._steps)}removeUndefineds(){return this.filterValues(t=>t!=null)}onsetsOnly(){return this.filterHaps(t=>t.hasOnset())}discreteOnly(){return this.filterHaps(t=>t.whole)}defragmentHaps(){return this.discreteOnly().withHaps(n=>{const i=[];for(var r=0;r<n.length;++r){for(var s=!0,u=n[r];s;){const h=JSON.stringify(n[r].value);for(var o=!1,c=r+1;c<n.length;c++){const d=n[c];if(u.whole.equals(d.whole)){if(u.part.begin.eq(d.part.end)){if(h===JSON.stringify(d.value)){u=new ze(u.whole,new qe(d.part.begin,u.part.end),u.value),n.splice(c,1),o=!0;break}}else if(d.part.begin.eq(u.part.end)&&h==JSON.stringify(d.value)){u=new ze(u.whole,new qe(u.part.begin,d.part.end),u.value),n.splice(c,1),o=!0;break}}}s=o}i.push(u)}return i})}firstCycle(t=!1){var n=this;return t||(n=n.stripContext()),n.query(new qn(new qe($(0),$(1))))}get firstCycleValues(){return this.firstCycle().map(t=>t.value)}get showFirstCycle(){return this.firstCycle().map(t=>`${t.value}: ${t.whole.begin.toFraction()} - ${t.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(t=>t.sort((n,i)=>n.part.begin.sub(i.part.begin).or(n.part.end.sub(i.part.end)).or(n.whole.begin.sub(i.whole.begin).or(n.whole.end.sub(i.whole.end)))))}asNumber(){return this.fmap(Tr)}_opIn(t,n){return this.fmap(n).appLeft(H(t))}_opOut(t,n){return this.fmap(n).appRight(H(t))}_opMix(t,n){return this.fmap(n).appBoth(H(t))}_opSqueeze(t,n){const i=H(t);return this.fmap(r=>i.fmap(s=>n(r)(s))).squeezeJoin()}_opSqueezeOut(t,n){const i=this;return H(t).fmap(s=>i.fmap(u=>n(u)(s))).squeezeJoin()}_opReset(t,n){return H(t).fmap(r=>this.fmap(s=>n(s)(r))).resetJoin()}_opRestart(t,n){return H(t).fmap(r=>this.fmap(s=>n(s)(r))).restartJoin()}_opPoly(t,n){const i=H(t);return this.fmap(r=>i.fmap(s=>n(s)(r))).polyJoin()}layer(...t){return ke(...t.map(n=>n(this)))}superimpose(...t){return this.stack(...t.map(n=>n(this)))}stack(...t){return ke(this,...t)}sequence(...t){return wt(this,...t)}seq(...t){return wt(this,...t)}cat(...t){return Iu(this,...t)}fastcat(...t){return rt(this,...t)}slowcat(...t){return pn(this,...t)}onTrigger(t,n=!0){return this.withHap(i=>i.setContext({...i.context,onTrigger:(...r)=>{i.context.onTrigger?.(...r),t(...r)},dominantTrigger:i.context.dominantTrigger||n}))}log(t=i=>`[hap] ${i.showWhole(!0)}`,n=i=>({hap:i})){return this.onTrigger((...i)=>{Qe(t(...i),void 0,n(...i))},!1)}logValues(t=n=>`[hap] ${Rr(n,!0)}`){return this.log(n=>t(n.value))}drawLine(){return console.log(wu(this)),this}unjoin(t,n=$n){return t.withHap(i=>i.withValue(r=>r?n(this.ribbon(i.whole.begin,i.whole.duration)):this))}into(t,n){return this.unjoin(t,n).innerJoin()}};function CM(e,t){let n=[];return t.forEach(i=>{const r=n.findIndex(([s])=>e(i,s));r===-1?n.push([i]):n[r].push(i)}),n}const vM=(e,t)=>e.spanEquals(t);q.prototype.collect=function(){return this.withHaps(e=>CM(vM,e).map(t=>new ze(t[0].whole,t[0].part,t,{})))};const Bd=L("arpWith",(e,t)=>t.collect().fmap(n=>H(e(n))).innerJoin().withHap(n=>new ze(n.whole,n.part,n.value.value,n.combineContext(n.value)))),_d=L("arp",(e,t)=>t.arpWith(n=>H(e).fmap(i=>n[i%n.length])),!1);function Gr(e){return!Array.isArray(e)&&typeof e=="object"}function PM(e,t,n){return Gr(e)||Gr(t)?(Gr(e)||(e={value:e}),Gr(t)||(t={value:t}),MM(e,t,n)):n(e,t)}(function(){const e={set:[(n,i)=>i],keep:[n=>n],keepif:[(n,i)=>i?n:void 0],add:[yt((n,i)=>n+i)],sub:[yt((n,i)=>n-i)],mul:[yt((n,i)=>n*i)],div:[yt((n,i)=>n/i)],mod:[yt(Ct)],pow:[yt(Math.pow)],log2:[yt(Math.log2)],band:[yt((n,i)=>n&i)],bor:[yt((n,i)=>n|i)],bxor:[yt((n,i)=>n^i)],blshift:[yt((n,i)=>n<<i)],brshift:[yt((n,i)=>n>>i)],lt:[(n,i)=>n<i],gt:[(n,i)=>n>i],lte:[(n,i)=>n<=i],gte:[(n,i)=>n>=i],eq:[(n,i)=>n==i],eqt:[(n,i)=>n===i],ne:[(n,i)=>n!=i],net:[(n,i)=>n!==i],and:[(n,i)=>n&&i],or:[(n,i)=>n||i],func:[(n,i)=>i(n)]},t=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart","Poly"];for(const[n,[i,r]]of Object.entries(e)){q.prototype["_"+n]=function(s){return this.fmap(u=>i(u,s))},Object.defineProperty(q.prototype,n,{get:function(){const s=this,u=(...o)=>s[n].in(...o);for(const o of t)u[o.toLowerCase()]=function(...c){var h=s;c=wt(c),r&&(h=r(h),c=r(c));var d;return n==="keepif"?(d=h["_op"+o](c,g=>m=>i(g,m)),d=d.removeUndefineds()):d=h["_op"+o](c,g=>m=>PM(g,m,i)),d};return u.squeezein=u.squeeze,u}});for(const s of t)q.prototype[s.toLowerCase()]=function(...u){return this.set[s.toLowerCase()](u)}}q.prototype.struct=function(...n){return this.keepif.out(...n)},q.prototype.structAll=function(...n){return this.keep.out(...n)},q.prototype.mask=function(...n){return this.keepif.in(...n)},q.prototype.maskAll=function(...n){return this.keep.in(...n)},q.prototype.reset=function(...n){return this.keepif.reset(...n)},q.prototype.resetAll=function(...n){return this.keep.reset(...n)},q.prototype.restart=function(...n){return this.keepif.restart(...n)},q.prototype.restartAll=function(...n){return this.keep.restart(...n)}})();const xd=ke,kd=ke,Vd=Oi,Hn=e=>new q(()=>[],e),Se=Hn(1),bt=Hn(0);function He(e){function t(i){return i.span.spanCycles.map(r=>new ze($(r.begin).wholeCycle(),r,e))}const n=new q(t,1);return n.__pure=e,n}function Zr(e){return e instanceof q||e?._Pattern}function H(e){return Zr(e)?e:Su&&typeof e=="string"?Su(e):He(e)}function _u(e){let t=He([]);for(const n of e)t=t.bind(i=>n.fmap(r=>i.concat([r])));return t}function ke(...e){e=e.map(i=>Array.isArray(i)?wt(...i):H(i));const t=i=>Qt(e.map(r=>r.query(i))),n=new q(t);return Zt&&(n._steps=Gt(...e.map(i=>i._steps))),n}function xu(e,t){if(t=t.map(s=>Array.isArray(s)?wt(...s):H(s)),t.length===0)return Se;if(t.length===1)return t[0];const[n,...i]=t.map(s=>s._steps),r=Zt?n.maximum(...i):void 0;return ke(...e(r,t))}function ku(...e){return xu((t,n)=>n.map(i=>i._steps.eq(t)?i:ft(i,Hn(t.sub(i._steps)))),e)}function Vu(...e){return xu((t,n)=>n.map(i=>i._steps.eq(t)?i:ft(Hn(t.sub(i._steps)),i)),e)}function Tu(...e){return xu((t,n)=>n.map(i=>{if(i._steps.eq(t))return i;const r=Hn(t.sub(i._steps).div(2));return ft(r,i,r)}),e)}function Td(e,...t){const[n,...i]=t.map(u=>u._steps),r=n.maximum(...i),s={centre:Tu,left:ku,right:Vu,expand:ke,repeat:(...u)=>Oi(...u).steps(r)};return e.inhabit(s).fmap(u=>u(...t)).innerJoin().setSteps(r)}function pn(...e){if(e=e.map(i=>Array.isArray(i)?rt(...i):H(i)),e.length==1)return e[0];const t=function(i){const r=i.span,s=Ct(r.begin.sam(),e.length),u=e[s];if(!u)return[];const o=r.begin.floor().sub(r.begin.div(e.length).floor());return u.withHapTime(c=>c.add(o)).query(i.setSpan(r.withTime(c=>c.sub(o))))},n=Zt?Gt(...e.map(i=>i._steps)):void 0;return new q(t).splitQueries().setSteps(n)}function Xr(...e){e=e.map(H);const t=function(n){const i=Math.floor(n.span.begin)%e.length;return e[i]?.query(n)||[]};return new q(t).splitQueries()}function Iu(...e){return pn(...e)}function Id(...e){const t=e.reduce((n,[i])=>n+i,0);return e=e.map(([n,i])=>[n,i.fast(n)]),ft(...e).slow(t)}function Nd(...e){let t=$(0);for(let n of e)n.length==2&&n.unshift(t),t=n[1];return ke(...e.map(([n,i,r])=>He(H(r)).compress($(n).div(t),$(i).div(t)))).slow(t).innerJoin()}function rt(...e){let t=pn(...e);return e.length>1&&(t=t._fast(e.length),t._steps=e.length),e.length==1&&e[0].__steps_source&&(e._steps=e[0]._steps),t}function wt(...e){return rt(...e)}function Nu(...e){return rt(...e)}function Lu(e){return Array.isArray(e)?e.length==0?[Se,0]:e.length==1?Lu(e[0]):[rt(...e.map(t=>Lu(t)[0])),e.length]:[H(e),1]}const Ld=ge((e,t)=>H(t).mask(e)),Rd=ge((e,t)=>H(t).struct(e)),Gd=ge((e,t)=>H(t).superimpose(...e)),Zd=ge((e,t)=>H(t).withValue(e)),Xd=ge((e,t)=>H(t).bind(e)),Wd=ge((e,t)=>H(t).innerBind(e)),Od=ge((e,t)=>H(t).outerBind(e)),zd=ge((e,t)=>H(t).squeezeBind(e)),jd=ge((e,t)=>H(t).stepBind(e)),$d=ge((e,t)=>H(t).polyBind(e)),qd=ge((e,t)=>H(t).set(e)),Hd=ge((e,t)=>H(t).keep(e)),Kd=ge((e,t)=>H(t).keepif(e)),Yd=ge((e,t)=>H(t).add(e)),Jd=ge((e,t)=>H(t).sub(e)),Ud=ge((e,t)=>H(t).mul(e)),Qd=ge((e,t)=>H(t).div(e)),em=ge((e,t)=>H(t).mod(e)),tm=ge((e,t)=>H(t).pow(e)),nm=ge((e,t)=>H(t).band(e)),im=ge((e,t)=>H(t).bor(e)),rm=ge((e,t)=>H(t).bxor(e)),sm=ge((e,t)=>H(t).blshift(e)),um=ge((e,t)=>H(t).brshift(e)),am=ge((e,t)=>H(t).lt(e)),om=ge((e,t)=>H(t).gt(e)),cm=ge((e,t)=>H(t).lte(e)),lm=ge((e,t)=>H(t).gte(e)),fm=ge((e,t)=>H(t).eq(e)),hm=ge((e,t)=>H(t).eqt(e)),dm=ge((e,t)=>H(t).ne(e)),mm=ge((e,t)=>H(t).net(e)),pm=ge((e,t)=>H(t).and(e)),gm=ge((e,t)=>H(t).or(e)),ym=ge((e,t)=>H(t).func(e));function L(e,t,n=!0,i=!1,r=s=>s.innerJoin()){if(Array.isArray(e)){const o={};for(const c of e)o[c]=L(c,t,n,i,r);return o}const s=t.length;var u;return n?u=function(...o){o=o.map(H);const c=o[o.length-1];let h;if(s===1)h=t(c);else{const d=o.slice(0,-1);if(d.every(g=>g.__pure!=null)){const g=d.map(A=>A.__pure),m=d.filter(A=>A.__pure_loc).map(A=>A.__pure_loc);h=t(...g,c),h=h.withContext(A=>{const C=(A.locations||[]).concat(m);return{...A,locations:C}})}else{const[g,...m]=d;let A=(...C)=>t(...C,c);A=ge(A,null,s-1),h=r(m.reduce((C,v)=>C.appLeft(v),g.fmap(A)))}}return i&&(h._steps=c._steps),h}:u=function(...o){o=o.map(H);const c=t(...o);return i&&(c._steps=o[o.length-1]._steps),c},q.prototype[e]=function(...o){if(s===2&&o.length!==1)o=[wt(...o)];else if(s!==o.length+1)throw new Error(`.${e}() expects ${s-1} inputs but got ${o.length}.`);return o=o.map(H),u(...o,this)},s>1&&(q.prototype["_"+e]=function(...o){const c=t(...o,this);return i&&c.setSteps(this._steps),c}),ge(u,null,s)}function Wi(e,t,n=!0,i=!1,r=s=>s.stepJoin()){return L(e,t,n,i,r)}const bm=L("round",function(e){return e.asNumber().fmap(t=>Math.round(t))}),Am=L("floor",function(e){return e.asNumber().fmap(t=>Math.floor(t))}),Mm=L("ceil",function(e){return e.asNumber().fmap(t=>Math.ceil(t))}),Cm=L("toBipolar",function(e){return e.fmap(t=>t*2-1)}),vm=L("fromBipolar",function(e){return e.fmap(t=>(t+1)/2)}),Pm=L("range",function(e,t,n){return n.mul(t-e).add(e)}),Dm=L("rangex",function(e,t,n){return n._range(Math.log(e),Math.log(t)).fmap(Math.exp)}),Fm=L("range2",function(e,t,n){return n.fromBipolar()._range(e,t)}),Em=L("ratio",e=>e.fmap(t=>Array.isArray(t)?t.slice(1).reduce((n,i)=>n/i,t[0]):t)),wm=L("compress",function(e,t,n){return e=$(e),t=$(t),e.gt(t)||e.gt(1)||t.gt(1)||e.lt(0)||t.lt(0)?Se:n._fastGap($(1).div(t.sub(e)))._late(e)}),{compressSpan:Sm,compressspan:Bm}=L(["compressSpan","compressspan"],function(e,t){return t._compress(e.begin,e.end)}),{fastGap:_m,fastgap:xm}=L(["fastGap","fastgap"],function(e,t){const n=function(r){const s=r.begin.sam(),u=r.begin.sub(s).mul(e).min(1),o=r.end.sub(s).mul(e).min(1);if(!(u>=1))return new qe(s.add(u),s.add(o))},i=function(r){const s=r.part.begin,u=r.part.end,o=s.sam(),c=s.sub(o).div(e).min(1),h=u.sub(o).div(e).min(1),d=new qe(o.add(c),o.add(h)),g=r.whole?new qe(d.begin.sub(s.sub(r.whole.begin).div(e)),d.end.add(r.whole.end.sub(u).div(e))):void 0;return new ze(g,d,r.value,r.context)};return t.withQuerySpanMaybe(n).withHap(i).splitQueries()}),km=L("focus",function(e,t,n){return e=$(e),t=$(t),n._early(e.sam())._fast($(1).div(t.sub(e)))._late(e)}),{focusSpan:Vm,focusspan:Tm}=L(["focusSpan","focusspan"],function(e,t){return t._focus(e.begin,e.end)}),Im=L("ply",function(e,t){const n=t.fmap(i=>He(i)._fast(e)).squeezeJoin();return Zt&&(n._steps=$(e).mulmaybe(t._steps)),n}),{fast:Nm,density:UF}=L(["fast","density"],function(e,t){return e===0?Se:(e=$(e),t.withQueryTime(i=>i.mul(e)).withHapTime(i=>i.div(e)).setSteps(t._steps))},!0,!0),Lm=L("hurry",function(e,t){return t._fast(e).mul(He({speed:e}))}),{slow:Rm,sparsity:Gm}=L(["slow","sparsity"],function(e,t){return e===0?Se:t._fast($(1).div(e))}),Zm=L("inside",function(e,t,n){return t(n._slow(e))._fast(e)}),Xm=L("outside",function(e,t,n){return t(n._fast(e))._slow(e)}),Wm=L("lastOf",function(e,t,n){const i=Array(e-1).fill(n);return i.push(t(n)),Xr(...i)}),{firstOf:Om,every:zm}=L(["firstOf","every"],function(e,t,n){const i=Array(e-1).fill(n);return i.unshift(t(n)),Xr(...i)}),jm=L("apply",function(e,t){return e(t)}),$m=L("cpm",function(e,t){return t._fast(e/60/1)}),qm=L("early",function(e,t){return e=$(e),t.withQueryTime(n=>n.add(e)).withHapTime(n=>n.sub(e))},!0,!0),Ru=L("late",function(e,t){return e=$(e),t._early($(0).sub(e))},!0,!0),Hm=L("zoom",function(e,t,n){if(t=$(t),e=$(e),e.gte(t))return bt;const i=t.sub(e),r=Zt?n._steps?.mulmaybe(i):void 0;return n.withQuerySpan(s=>s.withCycle(u=>u.mul(i).add(e))).withHapSpan(s=>s.withCycle(u=>u.sub(e).div(i))).splitQueries().setSteps(r)}),{zoomArc:Km,zoomarc:Ym}=L(["zoomArc","zoomarc"],function(e,t){return t.zoom(e.begin,e.end)}),Jm=L("bite",(e,t,n)=>t.fmap(i=>r=>{const s=$(i).div(r).mod(1),u=s.add($(1).div(r));return n.zoom(s,u)}).appLeft(e).squeezeJoin(),!1),Um=L("linger",function(e,t){return e==0?Se:e<0?t._zoom(e.add(1),1)._slow(e):t._zoom(0,e)._slow(e)},!0,!0),{segment:Qm,seg:ep}=L(["segment","seg"],function(e,t){return t.struct(He(!0)._fast(e)).setSteps(e)}),tp=L("swingBy",(e,t,n)=>n.inside(t,Ru(Nu(0,e/2)))),np=L("swing",(e,t)=>t.swingBy(1/3,e)),{invert:ip,inv:rp}=L(["invert","inv"],function(e){return e.fmap(t=>!t)},!0,!0),sp=L("when",function(e,t,n){return e?t(n):n}),up=L("off",function(e,t,n){return ke(n,t(n.late(e)))}),ap=L("brak",function(e){return e.when(pn(!1,!0),t=>rt(t,Se)._late(.25))}),Gu=L("rev",function(e){const t=function(n){const i=n.span,r=i.begin.sam(),s=i.begin.nextSam(),u=function(c){const h=c.withTime(g=>r.add(s.sub(g))),d=h.begin;return h.begin=h.end,h.end=d,h};return e.query(n.setSpan(u(i))).map(c=>c.withSpan(u))};return new q(t).splitQueries()},!1,!0),op=L("pressBy",function(e,t){return t.fmap(n=>He(n).compress(e,1)).squeezeJoin()}),cp=L("press",function(e){return e._pressBy(.5)});q.prototype.hush=function(){return Se};const lp=L("palindrome",function(e){return e.lastOf(2,Gu)},!0,!0),{juxBy:fp,juxby:hp}=L(["juxBy","juxby"],function(e,t,n){e/=2;const i=function(u,o,c){return o in u?u[o]:c},r=n.withValue(u=>Object.assign({},u,{pan:i(u,"pan",.5)-e})),s=t(n.withValue(u=>Object.assign({},u,{pan:i(u,"pan",.5)+e})));return ke(r,s).setSteps(Zt?Gt(r._steps,s._steps):void 0)}),dp=L("jux",function(e,t){return t._juxBy(1,e,t)}),{echoWith:mp,echowith:pp,stutWith:gp,stutwith:yp}=L(["echoWith","echowith","stutWith","stutwith"],function(e,t,n,i){return ke(...Vr(0,e-1).map(r=>n(i.late($(t).mul(r)),r)))}),bp=L("echo",function(e,t,n,i){return i._echoWith(e,t,(r,s)=>r.gain(Math.pow(n,s)))}),Ap=L("stut",function(e,t,n,i){return i._echoWith(e,n,(r,s)=>r.gain(Math.pow(t,s)))}),Zu=function(e,t,n=!1){return e=$(e),pn(...Vr(0,e.sub(1)).map(i=>n?t.late($(i).div(e)):t.early($(i).div(e))))},Mp=L("iter",function(e,t){return Zu(e,t,!1)},!0,!0),{iterBack:Cp,iterback:vp}=L(["iterBack","iterback"],function(e,t){return Zu(e,t,!0)},!0,!0),{repeatCycles:Pp}=L("repeatCycles",function(e,t){return new q(function(n){const i=n.span.begin.sam(),r=i.div(e).sam(),s=i.sub(r);return n=n.withSpan(u=>u.withTime(o=>o.sub(s))),t.query(n).map(u=>u.withSpan(o=>o.withTime(c=>c.add(s))))}).splitQueries()},!0,!0),Xu=function(e,t,n,i=!1,r=!1){const s=Array(e-1).fill(!1);s.unshift(!0);const u=Zu(e,wt(...s),!i);return r||(n=n.repeatCycles(e)),n.when(u,t)},{chunk:Dp,slowchunk:Fp,slowChunk:Ep}=L(["chunk","slowchunk","slowChunk"],function(e,t,n){return Xu(e,t,n,!1,!1)},!0,!0),{chunkBack:wp,chunkback:Sp}=L(["chunkBack","chunkback"],function(e,t,n){return Xu(e,t,n,!0)},!0,!0),{fastchunk:Bp,fastChunk:_p}=L(["fastchunk","fastChunk"],function(e,t,n){return Xu(e,t,n,!1,!0)},!0,!0),{chunkinto:xp,chunkInto:kp}=L(["chunkinto","chunkInto"],function(e,t,n){return n.into(rt(!0,...Array(e-1).fill(!1))._iterback(e),t)}),{chunkbackinto:Vp,chunkBackInto:Tp}=L(["chunkbackinto","chunkBackInto"],function(e,t,n){return n.into(rt(!0,...Array(e-1).fill(!1))._iter(e)._early(1),t)}),Ip=L("bypass",function(e,t){return e=!!parseInt(e),e?Se:t},!0,!0),{ribbon:Np,rib:Lp}=L(["ribbon","rib"],(e,t,n)=>n.early(e).restart(He(1).slow(t))),Rp=L("hsla",(e,t,n,i,r)=>r.color(`hsla(${e}turn,${t*100}%,${n*100}%,${i})`)),Gp=L("hsl",(e,t,n,i)=>i.color(`hsl(${e}turn,${t*100}%,${n*100}%)`));q.prototype.tag=function(e){return this.withContext(t=>({...t,tags:(t.tags||[]).concat([e])}))};const Zp=L("filter",(e,t)=>t.withHaps(n=>n.filter(e))),Xp=L("filterWhen",(e,t)=>t.filter(n=>e(n.whole.begin))),Wp=L("within",(e,t,n,i)=>ke(n(i.filterWhen(r=>r.cyclePos()>=e&&r.cyclePos()<=t)),i.filterWhen(r=>r.cyclePos()<e||r.cyclePos()>t)));q.prototype.stepJoin=function(){const e=this,t=ft(...Wr(Or(e.queryArc(0,1))))._steps,n=function(i){const s=e.early(i.span.begin.sam()).query(i.setSpan(new qe($(0),$(1))));return ft(...Wr(Or(s))).query(i)};return new q(n,t)},q.prototype.stepBind=function(e){return this.fmap(e).stepJoin()};function Wr(e){const t=e.filter((s,u)=>u.hasSteps).reduce((s,u)=>s.add(u),$(0)),n=jn(e.map((s,u)=>u._steps)).reduce((s,u)=>s.add(u),$(0)),i=t.eq(0)?void 0:n.div(t);function r(s,u){return u._steps===void 0?[s.mulmaybe(i),u]:[u._steps,u]}return e.map(s=>r(...s))}function Or(e){const t=Qt(e.map(r=>[r.part.begin,r.part.end])),n=Mu([$(0),$(1),...t]);return Au(n).map(r=>[r[1].sub(r[0]),ke(...Wu(new qe(...r),e).map(s=>s.value.withHap(u=>u.setContext(u.combineContext(s)))))])}function Wu(e,t){return jn(t.map(n=>Ou(e,n)))}function Ou(e,t){const n=e.intersection(t.part);if(n!=null)return new ze(t.whole,n,t.value,t.context)}const zu=L("pace",function(e,t){return t._steps===void 0?t:t._steps.eq($(0))?bt:t._fast($(e).div(t._steps)).setSteps(e)});function ju(e,...t){const n=t.map(r=>Lu(r));if(n.length==0)return Se;e==0&&(e=n[0][1]);const i=[];for(const r of n)r[1]!=0&&(e==r[1]?i.push(r[0]):i.push(r[0]._fast($(e).div($(r[1])))));return ke(...i)}function Oi(...e){if(Array.isArray(e[0]))return ju(0,...e);if(e=e.filter(i=>i.hasSteps),e.length==0)return Se;const t=Gt(...e.map(i=>i._steps));if(t.eq($(0)))return bt;const n=ke(...e.map(i=>i.pace(t)));return n._steps=t,n}function ft(...e){if(e.length===0)return bt;const t=u=>Array.isArray(u)?u:[u._steps??1,u];if(e=e.map(t),e.find(u=>u[0]===void 0)){const u=e.map(c=>c[0]).filter(c=>c!==void 0);if(u.length===0)return rt(...e.map(c=>c[1]));if(u.length===e.length)return bt;const o=u.reduce((c,h)=>c.add(h),$(0)).div(u.length);for(let c of e)c[0]===void 0&&(c[0]=o)}if(e.length==1)return H(e[0][1]).withSteps(o=>e[0][0]);const n=e.map(u=>u[0]).reduce((u,o)=>u.add(o),$(0));let i=$(0);const r=[];for(const[u,o]of e){if($(u).eq(0))continue;const c=i.add(u);r.push(H(o)._compress(i.div(n),c.div(n))),i=c}const s=ke(...r);return s._steps=n,s}function $u(...e){e=e.map(r=>Array.isArray(r)?r.map(H):[H(r)]);const t=Gt(...e.map(r=>$(r.length)));let n=[];for(let r=0;r<t;++r)n.push(...e.map(s=>s.length==0?Se:s[r%s.length]));n=n.filter(r=>r.hasSteps&&r._steps>0);const i=n.reduce((r,s)=>r.add(s._steps),$(0));return n=ft(...n),n._steps=i,n}const qu=Wi("take",function(e,t){if(!t.hasSteps||t._steps.lte(0)||(e=$(e),e.eq(0)))return bt;const n=e<0;n&&(e=e.abs());const i=e.div(t._steps);return i.lte(0)?bt:i.gte(1)?t:n?t.zoom($(1).sub(i),1):t.zoom(0,i)}),Hu=Wi("drop",function(e,t){return t.hasSteps?(e=$(e),e.lt(0)?t.take(t._steps.add(e)):t.take($(0).sub(t._steps.sub(e)))):bt}),Ku=Wi("extend",function(e,t){return t.fast(e).expand(e)}),Yu=Wi("expand",function(e,t){return t.withSteps(n=>n.mul($(e)))}),Ju=Wi("contract",function(e,t){return t.withSteps(n=>n.div($(e)))});q.prototype.shrinklist=function(e){const t=this;if(!t.hasSteps)return[t];let[n,i]=Array.isArray(e)?e:[e,t._steps];if(n=$(n),i===0||n===0)return[t];const r=n>0,s=[];if(r){const u=$(1).div(t._steps).mul(n);for(let o=0;o<i;++o){const c=u.mul(o);if(c.gt(1))break;s.push([c,1])}}else{n=$(0).sub(n);const u=$(1).div(t._steps).mul(n);for(let o=0;o<i;++o){const c=$(1).sub(u.mul(o));if(c.lt(0))break;s.push([$(0),c])}}return s.map(u=>t.zoom(...u))};const Uu=(e,t)=>t.shrinklist(e),Qu=L("shrink",function(e,t){if(!t.hasSteps)return bt;const n=t.shrinklist(e),i=ft(...n);return i._steps=n.reduce((r,s)=>r.add(s._steps),$(0)),i},!0,!1,e=>e.stepJoin()),Op=L("grow",function(e,t){if(!t.hasSteps)return bt;const n=t.shrinklist($(0).sub(e));n.reverse();const i=ft(...n);return i._steps=n.reduce((r,s)=>r.add(s._steps),$(0)),i},!0,!1,e=>e.stepJoin()),ea=function(e,...t){return e.tour(...t)};q.prototype.tour=function(...e){return ft(...[].concat(...e.map((t,n)=>[...e.slice(0,e.length-n),this,...e.slice(e.length-n)]),this,...e))};const ta=function(...e){e=e.filter(i=>i.hasSteps);const t=pn(...e.map(i=>i._slow(i._steps))),n=Gt(...e.map(i=>i._steps));return t._fast(n).setSteps(n)},zp=ft,zr=ft,jp=ft,$p=$u,qp=Oi;q.prototype.s_polymeter=q.prototype.polymeter;const Hp=Qu;q.prototype.s_taper=q.prototype.shrink;const Kp=Uu;q.prototype.s_taperlist=q.prototype.shrinklist;const Yp=qu;q.prototype.s_add=q.prototype.take;const Jp=Hu;q.prototype.s_sub=q.prototype.drop;const Up=Yu;q.prototype.s_expand=q.prototype.expand;const Qp=Ku;q.prototype.s_extend=q.prototype.extend;const eg=Ju;q.prototype.s_contract=q.prototype.contract;const tg=ea;q.prototype.s_tour=q.prototype.tour;const ng=ta;q.prototype.s_zip=q.prototype.zip;const ig=zu;q.prototype.steps=q.prototype.pace;const rg=L("chop",function(e,t){const i=Array.from({length:e},(u,o)=>o).map(u=>({begin:u/e,end:(u+1)/e})),r=function(u,o){if("begin"in u&&"end"in u&&u.begin!==void 0&&u.end!==void 0){const c=u.end-u.begin;o={begin:u.begin+o.begin*c,end:u.begin+o.end*c}}return Object.assign({},u,o)},s=function(u){return wt(i.map(o=>r(u,o)))};return t.squeezeBind(s).setSteps(Zt?$(e).mulmaybe(t._steps):void 0)}),sg=L("striate",function(e,t){const i=Array.from({length:e},(s,u)=>u).map(s=>({begin:s/e,end:(s+1)/e})),r=pn(...i);return t.set(r)._fast(e).setSteps(Zt?$(e).mulmaybe(t._steps):void 0)}),ug=function(e,t,n=.5){return t.speed(1/e*n).unit("c").slow(e)},na=L("slice",function(e,t,n){return e.innerBind(i=>t.outerBind(r=>n.outerBind(s=>{s=s instanceof Object?s:{s};const u=Array.isArray(i)?i[r]:r/i,o=Array.isArray(i)?i[r+1]:(r+1)/i;return He({begin:u,end:o,_slices:i,...s})}))).setSteps(t._steps)},!1);q.prototype.onTriggerTime=function(e){return this.onTrigger((t,n,i,r)=>{const s=r-n;window.setTimeout(()=>{e(t)},s*1e3)},!1)};const ag=L("splice",function(e,t,n){const i=na(e,t,n);return new q(r=>{const s=r.controls._cps||1;return i.query(r).map(o=>o.withValue(c=>({speed:s/c._slices/o.whole.duration*(c.speed||1),unit:"c",...c})))}).setSteps(t._steps)},!1),{loopAt:og,loopat:cg}=L(["loopAt","loopat"],function(e,t){const n=t._steps?t._steps.div(e):void 0;return new q(i=>ug(e,t,i.controls._cps).query(i),n)}),lg=L("fit",e=>e.withHaps((t,n)=>t.map(i=>i.withValue(r=>{const s=("end"in r?r.end:1)-("begin"in r?r.begin:0);return{...r,speed:(n.controls._cps||1)/i.whole.duration*s,unit:"c"}})))),{loopAtCps:fg,loopatcps:hg}=L(["loopAtCps","loopatcps"],function(e,t,n){return ug(e,n,t)}),dg=e=>He(1).withValue(()=>H(e())).innerJoin();let mg=e=>e<.5?1:1-(e-.5)/.5,ia=(e,t,n)=>{t=H(t),e=H(e),n=H(n);let i=t.fmap(s=>({gain:mg(s)})),r=t.fmap(s=>({gain:mg(1-s)}));return ke(e.mul(i),n.mul(r))};q.prototype.xfade=function(e,t){return ia(this,e,t)};const DM=e=>(t,n,i)=>{t=$(t).mod(n),n=$(n);const r=t.div(n),s=t.add(1).div(n);return e(i.fmap(u=>He(u)._compress(r,s)))},{beat:pg}=L(["beat"],DM(e=>e.innerJoin())),jr=(e,t,n)=>{n=$(n);const i=$(1).div(e.length),r=o=>{const c=[];for(const[h,d]of o.entries())d&&c.push([$(h).div(o.length),d]);return c},s=Gi(([o,c],[h,d])=>{const g=n.mul(h-o).add(o),m=g.add(i);return new qe(g,m)},r(e),r(t));function u(o){const c=o.span.begin.sam(),h=o.span.cycleArc(),d=[];for(const g of s){const m=g.intersection(h);m!==void 0&&d.push(new ze(g.withTime(A=>A.add(c)),m.withTime(A=>A.add(c)),!0))}return d}return new q(u).splitQueries()},gg=(e,t,n)=>(e=H(e),t=H(t),n=H(n),e.innerBind(i=>t.innerBind(r=>n.innerBind(s=>jr(i,r,s)))));function zi(e){let t=Array.isArray(e);e=t?e:[e];const n=e[0],i=s=>{let u;if(typeof s=="object"&&s.value!==void 0&&(u={...s},s=s.value,delete u.value),t&&Array.isArray(s)){const o=u||{};return s.forEach((c,h)=>{h<e.length&&(o[e[h]]=c)}),o}else return u?(u[n]=s,u):{[n]:s}},r=function(s,u){return u?typeof s>"u"?u.fmap(i):u.set(H(s).withValue(i)):H(s).withValue(i)};return q.prototype[n]=function(s){return r(s,this)},r}const ji=new Map;function ra(e){return ji.has(e)}function B(e,...t){const n=Array.isArray(e)?e[0]:e;let i={};return i[n]=zi(e),ji.set(n,n),t.forEach(r=>{i[r]=i[n],ji.set(r,n),q.prototype[r]=q.prototype[n]}),i}const{s:sa,sound:ua}=B(["s","n","gain"],"sound"),{source:aa,src:oa}=B("source","src"),{n:ca}=B("n"),{note:la}=B(["note","n"]),{accelerate:fa}=B("accelerate"),{velocity:ha}=B("velocity"),{gain:da}=B("gain"),{postgain:ma}=B("postgain"),{amp:pa}=B("amp"),{attack:ga,att:ya}=B("attack","att"),{fmh:ba}=B(["fmh","fmi"],"fmh"),{fmi:Aa,fm:Ma}=B(["fmi","fmh"],"fm"),{fmenv:Ca}=B("fmenv"),{fmattack:va}=B("fmattack"),{fmwave:Pa}=B("fmwave"),{fmdecay:Da}=B("fmdecay"),{fmsustain:Fa}=B("fmsustain"),{fmrelease:Ea}=B("fmrelease"),{fmvelocity:wa}=B("fmvelocity"),{bank:Sa}=B("bank"),{analyze:Ba}=B("analyze"),{fft:_a}=B("fft"),{decay:xa,dec:ka}=B("decay","dec"),{sustain:Va,sus:Ta}=B("sustain","sus"),{release:Ia,rel:Na}=B("release","rel"),{hold:La}=B("hold"),{bandf:Ra,bpf:Ga,bp:Za}=B(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:Xa,bpq:Wa}=B("bandq","bpq"),{begin:Oa}=B("begin"),{end:za}=B("end"),{loop:ja}=B("loop"),{loopBegin:$a,loopb:qa}=B("loopBegin","loopb"),{loopEnd:Ha,loope:Ka}=B("loopEnd","loope"),{crush:Ya}=B("crush"),{coarse:Ja}=B("coarse"),{tremolo:Ua}=B(["tremolo","tremolodepth","tremoloskew","tremolophase"],"trem"),{tremolosync:Qa}=B(["tremolosync","tremolodepth","tremoloskew","tremolophase"],"tremsync"),{tremolodepth:eo}=B("tremolodepth","tremdepth"),{tremoloskew:to}=B("tremoloskew","tremskew"),{tremolophase:no}=B("tremolophase","tremphase"),{tremoloshape:io}=B("tremoloshape","tremshape"),{duck:ro}=B("duckorbit","duck"),{duckdepth:so}=B("duckdepth"),{duckattack:uo}=B("duckattack","duckatt"),{drive:ao}=B("drive"),{byteBeatExpression:oo,bbexpr:co}=B("byteBeatExpression","bbexpr"),{byteBeatStartTime:lo,bbst:fo}=B("byteBeatStartTime","bbst"),{channels:ho,ch:mo}=B("channels","ch"),{pw:po}=B(["pw","pwrate","pwsweep"]),{pwrate:go}=B("pwrate"),{pwsweep:yo}=B("pwsweep"),{phaserrate:bo,ph:Ao,phaser:Mo}=B(["phaserrate","phaserdepth","phasercenter","phasersweep"],"ph","phaser"),{phasersweep:Co,phs:vo}=B("phasersweep","phs"),{phasercenter:Po,phc:Do}=B("phasercenter","phc"),{phaserdepth:Fo,phd:Eo,phasdp:wo}=B("phaserdepth","phd","phasdp"),{channel:So}=B("channel"),{cut:Bo}=B("cut"),{cutoff:_o,ctf:xo,lpf:ko,lp:Vo}=B(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:To,lpe:Io}=B("lpenv","lpe"),{hpenv:No,hpe:Lo}=B("hpenv","hpe"),{bpenv:Ro,bpe:Go}=B("bpenv","bpe"),{lpattack:Zo,lpa:Xo}=B("lpattack","lpa"),{hpattack:Wo,hpa:Oo}=B("hpattack","hpa"),{bpattack:zo,bpa:jo}=B("bpattack","bpa"),{lpdecay:$o,lpd:qo}=B("lpdecay","lpd"),{hpdecay:Ho,hpd:Ko}=B("hpdecay","hpd"),{bpdecay:Yo,bpd:Jo}=B("bpdecay","bpd"),{lpsustain:Uo,lps:Qo}=B("lpsustain","lps"),{hpsustain:ec,hps:tc}=B("hpsustain","hps"),{bpsustain:nc,bps:ic}=B("bpsustain","bps"),{lprelease:rc,lpr:sc}=B("lprelease","lpr"),{hprelease:uc,hpr:ac}=B("hprelease","hpr"),{bprelease:oc,bpr:cc}=B("bprelease","bpr"),{ftype:lc}=B("ftype"),{fanchor:fc}=B("fanchor"),{vib:hc,vibrato:dc,v:mc}=B(["vib","vibmod"],"vibrato","v"),{noise:pc}=B("noise"),{vibmod:gc,vmod:yc}=B(["vibmod","vib"],"vmod"),{hcutoff:bc,hpf:Ac,hp:Mc}=B(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:Cc,hpq:vc}=B("hresonance","hpq"),{resonance:Pc,lpq:Dc}=B("resonance","lpq"),{djf:Fc}=B("djf"),{delay:Ec}=B(["delay","delaytime","delayfeedback"]),{delayfeedback:wc,delayfb:Sc,dfb:Bc}=B("delayfeedback","delayfb","dfb"),{delaytime:_c,delayt:xc,dt:kc}=B("delaytime","delayt","dt"),{delaysync:Vc}=B("delaysync"),{lock:Tc}=B("lock"),{detune:Ic,det:Nc}=B("detune","det"),{unison:Lc}=B("unison"),{spread:Rc}=B("spread"),{dry:Gc}=B("dry"),{fadeTime:Zc,fadeOutTime:Xc}=B("fadeTime","fadeOutTime"),{fadeInTime:Wc}=B("fadeInTime"),{freq:Oc}=B("freq"),{pattack:zc,patt:jc}=B("pattack","patt"),{pdecay:$c,pdec:qc}=B("pdecay","pdec"),{psustain:Hc,psus:Kc}=B("psustain","psus"),{prelease:Yc,prel:Jc}=B("prelease","prel"),{penv:Uc}=B("penv"),{pcurve:Qc}=B("pcurve"),{panchor:el}=B("panchor"),{gate:tl,gat:nl}=B("gate","gat"),{leslie:il}=B("leslie"),{lrate:rl}=B("lrate"),{lsize:sl}=B("lsize"),{activeLabel:ul}=B("activeLabel"),{label:al}=B(["label","activeLabel"]),{degree:ol}=B("degree"),{mtranspose:cl}=B("mtranspose"),{ctranspose:ll}=B("ctranspose"),{harmonic:fl}=B("harmonic"),{stepsPerOctave:hl}=B("stepsPerOctave"),{octaveR:dl}=B("octaveR"),{nudge:ml}=B("nudge"),{octave:pl}=B("octave"),{orbit:gl}=B("orbit"),{overgain:yl}=B("overgain"),{overshape:bl}=B("overshape"),{pan:Al}=B("pan"),{panspan:Ml}=B("panspan"),{pansplay:Cl}=B("pansplay"),{panwidth:vl}=B("panwidth"),{panorient:Pl}=B("panorient"),{rate:Dl}=B("rate"),{slide:Fl}=B("slide"),{semitone:El}=B("semitone"),{voice:wl}=B("voice"),{chord:Sl}=B("chord"),{dictionary:Bl,dict:_l}=B("dictionary","dict"),{anchor:xl}=B("anchor"),{offset:kl}=B("offset"),{octaves:Vl}=B("octaves"),{mode:Tl}=B(["mode","anchor"]),{room:Il}=B(["room","size"]),{roomlp:Nl,rlp:Ll}=B("roomlp","rlp"),{roomdim:Rl,rdim:Gl}=B("roomdim","rdim"),{roomfade:Zl,rfade:Xl}=B("roomfade","rfade"),{ir:Wl,iresponse:Ol}=B(["ir","i"],"iresponse"),{irspeed:zl}=B("irspeed"),{irbegin:jl}=B("irbegin"),{roomsize:$l,size:ql,sz:Hl,rsize:Kl}=B("roomsize","size","sz","rsize"),{shape:Yl}=B(["shape","shapevol"]),{distort:Jl,dist:Ul}=B(["distort","distortvol"],"dist"),{compressor:Ql}=B(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:e0}=B("compressorKnee"),{compressorRatio:t0}=B("compressorRatio"),{compressorAttack:n0}=B("compressorAttack"),{compressorRelease:i0}=B("compressorRelease"),{speed:$r}=B("speed"),{stretch:r0}=B("stretch"),{unit:s0}=B("unit"),{squiz:u0}=B("squiz"),{vowel:a0}=B("vowel"),{waveloss:o0}=B("waveloss"),{density:FM}=B("density"),{expression:c0}=B("expression"),{sustainpedal:l0}=B("sustainpedal"),{fshift:f0}=B("fshift"),{fshiftnote:h0}=B("fshiftnote"),{fshiftphase:d0}=B("fshiftphase"),{triode:m0}=B("triode"),{krush:p0}=B("krush"),{kcutoff:g0}=B("kcutoff"),{octer:y0}=B("octer"),{octersub:b0}=B("octersub"),{octersubsub:A0}=B("octersubsub"),{ring:M0}=B("ring"),{ringf:C0}=B("ringf"),{ringdf:v0}=B("ringdf"),{freeze:P0}=B("freeze"),{xsdelay:D0}=B("xsdelay"),{tsdelay:F0}=B("tsdelay"),{real:E0}=B("real"),{imag:w0}=B("imag"),{enhance:S0}=B("enhance"),{partials:B0}=B("partials"),{comb:_0}=B("comb"),{smear:x0}=B("smear"),{scram:k0}=B("scram"),{binshift:V0}=B("binshift"),{hbrick:T0}=B("hbrick"),{lbrick:I0}=B("lbrick"),{frameRate:N0}=B("frameRate"),{frames:L0}=B("frames"),{hours:R0}=B("hours"),{minutes:G0}=B("minutes"),{seconds:Z0}=B("seconds"),{songPtr:X0}=B("songPtr"),{uid:W0}=B("uid"),{val:O0}=B("val"),{cps:z0}=B("cps"),{clip:j0,legato:$0}=B("clip","legato"),{duration:q0,dur:H0}=B("duration","dur"),{zrand:K0}=B("zrand"),{curve:Y0}=B("curve"),{deltaSlide:J0}=B("deltaSlide"),{pitchJump:U0}=B("pitchJump"),{pitchJumpTime:Q0}=B("pitchJumpTime"),{lfo:ef,repeatTime:tf}=B("lfo","repeatTime"),{znoise:nf}=B("znoise"),{zmod:rf}=B("zmod"),{zcrush:sf}=B("zcrush"),{zdelay:uf}=B("zdelay"),{zzfx:af}=B("zzfx"),{color:of,colour:cf}=B(["color","colour"]);let qr=(...e)=>e.reduce((t,n)=>Object.assign(t,{[n]:zi(n)}),{});const lf=L("adsr",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i,r,s]=e;return t.set({attack:n,decay:i,sustain:r,release:s})}),ff=L("ad",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.attack(n).decay(i)}),hf=L("ds",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=0]=e;return t.set({decay:n,sustain:i})}),df=L("ar",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.set({attack:n,release:i})}),{midichan:mf}=B("midichan"),{midimap:pf}=B("midimap"),{midiport:gf}=B("midiport"),{midicmd:yf}=B("midicmd"),bf=L("control",(e,t)=>{if(!Array.isArray(e))throw new Error("control expects an array of [ccn, ccv]");const[n,i]=e;return t.ccn(n).ccv(i)}),{ccn:Af}=B("ccn"),{ccv:Mf}=B("ccv"),{ctlNum:Cf}=B("ctlNum"),{nrpnn:vf}=B("nrpnn"),{nrpv:Pf}=B("nrpv"),{progNum:Df}=B("progNum"),Ff=L("sysex",(e,t)=>{if(!Array.isArray(e))throw new Error("sysex expects an array of [id, data]");const[n,i]=e;return t.sysexid(n).sysexdata(i)}),{sysexid:Ef}=B("sysexid"),{sysexdata:wf}=B("sysexdata"),{midibend:Sf}=B("midibend"),{miditouch:Bf}=B("miditouch"),{polyTouch:_f}=B("polyTouch"),Hr=e=>ji.has(e)?ji.get(e):e,xf=L("as",(e,t)=>(e=Array.isArray(e)?e:[e],t.fmap(n=>(n=Array.isArray(n)?n:[n],n=Object.fromEntries(e.map((i,r)=>[Hr(i),n[r]])),n)))),kf=L("scrub",(e,t)=>e.outerBind(n=>{Array.isArray(n)||(n=[n]);const[i,r=1]=n;return t.begin(i).mul($r(r)).clip(1)}),!1),yg=Object.freeze(Object.defineProperty({__proto__:null,accelerate:fa,activeLabel:ul,ad:ff,adsr:lf,amp:pa,analyze:Ba,anchor:xl,ar:df,as:xf,att:ya,attack:ga,bandf:Ra,bandq:Xa,bank:Sa,bbexpr:co,bbst:fo,begin:Oa,binshift:V0,bp:Za,bpa:jo,bpattack:zo,bpd:Jo,bpdecay:Yo,bpe:Go,bpenv:Ro,bpf:Ga,bpq:Wa,bpr:cc,bprelease:oc,bps:ic,bpsustain:nc,byteBeatExpression:oo,byteBeatStartTime:lo,ccn:Af,ccv:Mf,ch:mo,channel:So,channels:ho,chord:Sl,clip:j0,coarse:Ja,color:of,colour:cf,comb:_0,compressor:Ql,compressorAttack:n0,compressorKnee:e0,compressorRatio:t0,compressorRelease:i0,control:bf,cps:z0,createParam:zi,createParams:qr,crush:Ya,ctf:xo,ctlNum:Cf,ctranspose:ll,curve:Y0,cut:Bo,cutoff:_o,dec:ka,decay:xa,degree:ol,delay:Ec,delayfb:Sc,delayfeedback:wc,delaysync:Vc,delayt:xc,delaytime:_c,deltaSlide:J0,density:FM,det:Nc,detune:Ic,dfb:Bc,dict:_l,dictionary:Bl,dist:Ul,distort:Jl,djf:Fc,drive:ao,dry:Gc,ds:hf,dt:kc,duck:ro,duckattack:uo,duckdepth:so,dur:H0,duration:q0,end:za,enhance:S0,expression:c0,fadeInTime:Wc,fadeOutTime:Xc,fadeTime:Zc,fanchor:fc,fft:_a,fm:Ma,fmattack:va,fmdecay:Da,fmenv:Ca,fmh:ba,fmi:Aa,fmrelease:Ea,fmsustain:Fa,fmvelocity:wa,fmwave:Pa,frameRate:N0,frames:L0,freeze:P0,freq:Oc,fshift:f0,fshiftnote:h0,fshiftphase:d0,ftype:lc,gain:da,gat:nl,gate:tl,getControlName:Hr,harmonic:fl,hbrick:T0,hcutoff:bc,hold:La,hours:R0,hp:Mc,hpa:Oo,hpattack:Wo,hpd:Ko,hpdecay:Ho,hpe:Lo,hpenv:No,hpf:Ac,hpq:vc,hpr:ac,hprelease:uc,hps:tc,hpsustain:ec,hresonance:Cc,imag:w0,ir:Wl,irbegin:jl,iresponse:Ol,irspeed:zl,isControlName:ra,kcutoff:g0,krush:p0,label:al,lbrick:I0,legato:$0,leslie:il,lfo:ef,lock:Tc,loop:ja,loopBegin:$a,loopEnd:Ha,loopb:qa,loope:Ka,lp:Vo,lpa:Xo,lpattack:Zo,lpd:qo,lpdecay:$o,lpe:Io,lpenv:To,lpf:ko,lpq:Dc,lpr:sc,lprelease:rc,lps:Qo,lpsustain:Uo,lrate:rl,lsize:sl,midibend:Sf,midichan:mf,midicmd:yf,midimap:pf,midiport:gf,miditouch:Bf,minutes:G0,mode:Tl,mtranspose:cl,n:ca,noise:pc,note:la,nrpnn:vf,nrpv:Pf,nudge:ml,octave:pl,octaveR:dl,octaves:Vl,octer:y0,octersub:b0,octersubsub:A0,offset:kl,orbit:gl,overgain:yl,overshape:bl,pan:Al,panchor:el,panorient:Pl,panspan:Ml,pansplay:Cl,panwidth:vl,partials:B0,patt:jc,pattack:zc,pcurve:Qc,pdec:qc,pdecay:$c,penv:Uc,ph:Ao,phasdp:wo,phaser:Mo,phasercenter:Po,phaserdepth:Fo,phaserrate:bo,phasersweep:Co,phc:Do,phd:Eo,phs:vo,pitchJump:U0,pitchJumpTime:Q0,polyTouch:_f,postgain:ma,prel:Jc,prelease:Yc,progNum:Df,psus:Kc,psustain:Hc,pw:po,pwrate:go,pwsweep:yo,rate:Dl,rdim:Gl,real:E0,registerControl:B,rel:Na,release:Ia,repeatTime:tf,resonance:Pc,rfade:Xl,ring:M0,ringdf:v0,ringf:C0,rlp:Ll,room:Il,roomdim:Rl,roomfade:Zl,roomlp:Nl,roomsize:$l,rsize:Kl,s:sa,scram:k0,scrub:kf,seconds:Z0,semitone:El,shape:Yl,size:ql,slide:Fl,smear:x0,songPtr:X0,sound:ua,source:aa,speed:$r,spread:Rc,squiz:u0,src:oa,stepsPerOctave:hl,stretch:r0,sus:Ta,sustain:Va,sustainpedal:l0,sysex:Ff,sysexdata:wf,sysexid:Ef,sz:Hl,tremolo:Ua,tremolodepth:eo,tremolophase:no,tremoloshape:io,tremoloskew:to,tremolosync:Qa,triode:m0,tsdelay:F0,uid:W0,unison:Lc,unit:s0,v:mc,val:O0,velocity:ha,vib:hc,vibmod:gc,vibrato:dc,vmod:yc,voice:wl,vowel:a0,waveloss:o0,xsdelay:D0,zcrush:sf,zdelay:uf,zmod:rf,znoise:nf,zrand:K0,zzfx:af},Symbol.toStringTag,{value:"Module"})),EM=function(e,t){const[n,i]=e,[r,s]=t,[u,o]=Nr(i,r);return[[i,n-i],[Gi((c,h)=>c.concat(h),u,s),o]]},wM=function(e,t){const[n,i]=e,[r,s]=t,[u,o]=Nr(n,s);return[[n,i-n],[Gi((h,d)=>h.concat(d),r,u),o]]},bg=function(e,t){const[n,i]=e;return Math.min(n,i)<=1?[e,t]:bg(...n>i?EM(e,t):wM(e,t))},Kr=function(e,t){const n=e<0,i=Math.abs(e),r=t-i,s=Array(i).fill([1]),u=Array(r).fill([0]),o=bg([i,r],[s,u]),c=Qt(o[1][0]).concat(Qt(o[1][1]));return n?c.map(h=>1-h):c},Yr=function(e,t,n){const i=Kr(e,t);return n?gu(i,-n):i},Ag=L("euclid",function(e,t,n){return n.struct(Yr(e,t,0))}),Mg=L("e",function(e,t){Array.isArray(e)||(e=[e]);const[n,i=n,r=0]=e;return t.struct(Yr(n,i,r))}),{euclidrot:Cg,euclidRot:vg}=L(["euclidrot","euclidRot"],function(e,t,n,i){return i.struct(Yr(e,t,n))}),Pg=function(e,t,n,i){if(e<1)return Se;const s=Yr(e,t,0).join("").split("1").slice(1).map(u=>[u.length+1,!0]);return i.struct(zr(...s)).late($(n).div(t))},Dg=L(["euclidLegato"],function(e,t,n){return Pg(e,t,0,n)}),Fg=L(["euclidLegatoRot"],function(e,t,n,i){return Pg(e,t,n,i)}),{euclidish:Eg,eish:wg}=L(["euclidish","eish"],function(e,t,n,i){const r=jr(Kr(e,t),new Array(e).fill(1),n);return i.struct(r).setSteps(t)});function Vf(e,t,n=.05,i=.1,r=.1,s=globalThis.setInterval,u=globalThis.clearInterval,o=!0){let c=0,h=0,d=10**4,g=.01;const m=_=>n=_(n);r=r||i/2;const A=()=>{const _=e(),S=_+i+r;for(h===0&&(h=_+g);h<S;)h=o?Math.round(h*d)/d:h,t(h,n,c,_),h+=n,c++};let C;const v=()=>{E(),A(),C=s(A,i*1e3)},E=()=>{C!==void 0&&u(C),C=void 0};return{setDuration:m,start:v,stop:()=>{c=0,h=0,E()},pause:()=>E(),duration:n,interval:i,getPhase:()=>h,minLatency:g}}function Sg(e){return new q(t=>[new ze(void 0,t.span,e)])}const vt=e=>{const t=n=>[new ze(void 0,n.span,e(n.span.begin))];return new q(t)},ai=vt(e=>e%1),Jr=ai.toBipolar(),$i=vt(e=>1-e%1),Ur=$i.toBipolar(),Qr=vt(e=>Math.sin(Math.PI*2*e)),Tf=Qr.fromBipolar(),Bg=Tf._early($(1).div(4)),_g=Qr._early($(1).div(4)),If=vt(e=>Math.floor(e*2%2)),xg=If.toBipolar(),kg=rt(ai,$i),Vg=rt(Jr,Ur),Tg=rt($i,ai),Ig=rt(Ur,Jr),es=vt($n);let Nf=0,Lf=0;typeof window<"u"&&document.addEventListener("mousemove",e=>{Nf=e.clientY/document.body.clientHeight,Lf=e.clientX/document.body.clientWidth});const Ng=vt(()=>Nf),Lg=vt(()=>Nf),Rg=vt(()=>Lf),Gg=vt(()=>Lf),Zg=e=>{const t=e<<13^e,n=t>>17^t;return n<<5^n},SM=e=>e-Math.trunc(e),Xg=e=>Zg(Math.trunc(SM(e/300)*536870912)),Wg=e=>e%536870912/536870912,qi=e=>Math.abs(Wg(Xg(e))),BM=(e,t)=>{const n=[];for(let i=0;i<t;++i)n.push(Wg(e)),e=Zg(e);return n},_M=(e,t)=>BM(Xg(e),t),Rf=e=>ai.range(0,e).round().segment(e),Og=e=>{const t=H(e).log2(0).floor().add(1);return Gf(e,t)},Gf=(e,t=16)=>{t=H(t);const n=Rf(t).mul(-1).add(t.sub(1));return H(e).segment(t).brshift(n).band(He(1))},Zf=e=>vt(t=>{const i=_M(t.floor().add(.5),e).map((s,u)=>[s,u]).sort((s,u)=>(s[0]>u[0])-(s[0]<u[0])).map(s=>s[1]),r=t.cyclePos().mul(e).floor()%e;return i[r]})._segment(e),zg=(e,t,n)=>{const i=[...Array(t).keys()].map(r=>n.zoom($(r).div(t),$(r+1).div(t)));return e.fmap(r=>i[r].repeatCycles(t)._fast(t)).innerJoin()},jg=L("shuffle",(e,t)=>zg(Zf(e),e,t)),$g=L("scramble",(e,t)=>zg(ns(e)._segment(e),e,t)),ct=vt(qi),qg=ct.toBipolar(),ts=e=>ct.fmap(t=>t<e),Hg=e=>H(e).fmap(ts).innerJoin(),Kg=ts(.5),ns=e=>ct.fmap(t=>Math.trunc(t*e)),Yg=e=>H(e).fmap(ns).innerJoin(),is=(e,t)=>(t=t.map(H),t.length==0?Se:e.range(0,t.length).fmap(n=>{const i=Math.min(Math.max(Math.floor(n),0),t.length-1);return t[i]})),Hi=(e,t)=>is(e,t).outerJoin(),Ki=(e,t)=>is(e,t).innerJoin(),Xf=(...e)=>Hi(ct,e),Jg=(...e)=>Ki(ct,e),Ug=Xf;q.prototype.choose=function(...e){return Hi(this,e)},q.prototype.choose2=function(...e){return Hi(this.fromBipolar(),e)};const Wf=(...e)=>Ki(ct.segment(1),e),Qg=Wf,ey=function(e,...t){const n=t.map(o=>H(o[0])),i=[];let r=He(0);for(const o of t)r=r.add(o[1]),i.push(r);const s=_u(i),u=function(o){const c=r.mul(o);return s.fmap(h=>d=>n[h.findIndex(g=>g>d,h)]).appLeft(c)};return e.bind(u)},xM=(...e)=>ey(...e).outerJoin(),ty=(...e)=>xM(ct,...e),Of=(...e)=>ey(ct.segment(1),...e).innerJoin(),ny=Of;function kM(e){let t=Math.floor(e),n=t+1;const i=u=>6*u**5-15*u**4+10*u**3;return(u=>o=>c=>o+i(u)*(c-o))(e-t)(qi(t))(qi(n))}const zf=e=>e.fmap(kM);function VM(e){const t=Math.floor(e),n=t+1,i=qi(t),r=qi(n)+i,s=(e-t)/(n-t);return((o,c,h)=>o+(c-o)*h)(i,r,s)/2}const jf=e=>e.fmap(VM),iy=zf(es.fmap(e=>Number(e))),ry=jf(es.fmap(e=>Number(e))),sy=L("degradeByWith",(e,t,n)=>n.fmap(i=>r=>i).appLeft(e.filterValues(i=>i>t)),!0,!0),uy=L("degradeBy",function(e,t){return t._degradeByWith(ct,e)},!0,!0),ay=L("degrade",e=>e._degradeBy(.5),!0,!0),oy=L("undegradeBy",function(e,t){return t._degradeByWith(ct.fmap(n=>1-n),e)},!0,!0),cy=L("undegrade",e=>e._undegradeBy(.5),!0,!0),ly=L("sometimesBy",function(e,t,n){return H(e).fmap(i=>ke(n._degradeBy(i),t(n._undegradeBy(1-i)))).innerJoin()}),fy=L("sometimes",function(e,t){return t._sometimesBy(.5,e)}),hy=L("someCyclesBy",function(e,t,n){return H(e).fmap(i=>ke(n._degradeByWith(ct._segment(1),i),t(n._degradeByWith(ct.fmap(r=>1-r)._segment(1),1-i)))).innerJoin()}),dy=L("someCycles",function(e,t){return t._someCyclesBy(.5,e)}),my=L("often",function(e,t){return t.sometimesBy(.75,e)}),py=L("rarely",function(e,t){return t.sometimesBy(.25,e)}),gy=L("almostNever",function(e,t){return t.sometimesBy(.1,e)}),yy=L("almostAlways",function(e,t){return t.sometimesBy(.9,e)}),by=L("never",function(e,t){return t}),Ay=L("always",function(e,t){return e(t)});function rs(e){Array.isArray(e)===!1&&(e=[e]);const t=Eu();return e.every(n=>{const i=Fu.get(n)??n;return t[i]})}const My=L("whenKey",function(e,t,n){return n.when(rs(e),t)}),Cy=L("keyDown",function(e){return e.fmap(rs)}),en=function(e,t,n=!0){const i=Array.isArray(e),r=Object.keys(e).length;return e=Pu(e,H),r===0?Se:t.fmap(s=>{let u=s;return i&&(u=n?Math.round(u)%r:Zi(Math.round(u),0,e.length-1)),e[u]})},$f=function(e,t){return Array.isArray(t)&&([t,e]=[e,t]),TM(e,t)},TM=L("pick",function(e,t){return en(e,t,!1).innerJoin()}),qf=L("pickmod",function(e,t){return en(e,t,!0).innerJoin()}),vy=L("pickF",function(e,t,n){return n.apply($f(e,t))}),Py=L("pickmodF",function(e,t,n){return n.apply(qf(e,t))}),Dy=L("pickOut",function(e,t){return en(e,t,!1).outerJoin()}),Fy=L("pickmodOut",function(e,t){return en(e,t,!0).outerJoin()}),Ey=L("pickRestart",function(e,t){return en(e,t,!1).restartJoin()}),wy=L("pickmodRestart",function(e,t){return en(e,t,!0).restartJoin()}),Sy=L("pickReset",function(e,t){return en(e,t,!1).resetJoin()}),By=L("pickmodReset",function(e,t){return en(e,t,!0).resetJoin()}),{inhabit:_y,pickSqueeze:xy}=L(["inhabit","pickSqueeze"],function(e,t){return en(e,t,!1).squeezeJoin()}),{inhabitmod:ky,pickmodSqueeze:Vy}=L(["inhabitmod","pickmodSqueeze"],function(e,t){return en(e,t,!0).squeezeJoin()}),Ty=(e,t)=>(t=t.map(H),t.length==0?Se:e.fmap(n=>{const i=Ct(Math.round(n),t.length);return t[i]}).squeezeJoin());let ss;try{ss=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let Iy=ss?.getVoices();function IM(e,t,n){ss.cancel();const i=new SpeechSynthesisUtterance(e);i.lang=t,Iy=ss.getVoices();const r=Iy.filter(s=>s.lang.includes(t));typeof n=="number"?i.voice=r[n%r.length]:typeof n=="string"&&(i.voice=r.find(s=>s.name===s)),speechSynthesis.speak(i)}const Ny=L("speak",function(e,t,n){return n.onTrigger(i=>{IM(i.value,e,t)})}),Hf={},Yi=async(...e)=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="fulfilled").map(i=>i.value);return t.forEach((i,r)=>{i.status==="rejected"&&console.warn(`evalScope: module with index ${r} could not be loaded:`,i.reason)}),n.forEach(i=>{Object.entries(i).forEach(([r,s])=>{globalThis[r]=s,Hf[r]=s})}),n};function NM(e,t={}){const{wrapExpression:n=!0,wrapAsync:i=!0}=t;n&&(e=`{${e}}`),i&&(e=`(async ()=>${e})()`);const r=`"use strict";return (${e})`;return Function(r)()}const Ly=async(e,t,n)=>{let i={};if(t){const u=t(e,n);e=u.output,i=u}return{mode:"javascript",pattern:await NM(e,{wrapExpression:!!t}),meta:i}};class LM{constructor({onTrigger:t,onToggle:n,getTime:i}){this.started=!1,this.cps=.5,this.getTime=i,this.time_at_last_tick_message=0,this.collator=new Du({getTargetClockTime:i}),this.onToggle=n,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker=new SharedWorker(new URL(""+new URL("assets/clockworker-ZDiUtESR.js",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,au&&au.tagName.toUpperCase()==="SCRIPT"&&au.src||new URL("index.js",document.baseURI).href)),this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");const r=u=>{const{cps:o,begin:c,end:h,cycle:d,time:g}=u;this.cps=o,this.cycle=d;const m=this.collator.calculateOffset(g)+g;s(c,h,m),this.time_at_last_tick_message=m},s=(u,o,c)=>{if(this.started===!1)return;this.pattern.queryArc(u,o,{_cps:this.cps}).forEach(d=>{if(d.hasOnset()){const m=Lr(d.whole.begin-this.cycle,this.cps)+c+this.latency,A=Lr(d.duration,this.cps);t?.(d,0,A,this.cps,m)}})};this.channel.onmessage=u=>{if(!this.started)return;const{payload:o,type:c}=u.data;switch(c){case"tick":r(o)}}}sendMessage(t,n){this.worker.port.postMessage({type:t,payload:n,id:this.id})}now(){const t=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+t}setCps(t=1){this.sendMessage("cpschange",{cps:t})}setCycle(t){this.sendMessage("setcycle",{cycle:t})}setStarted(t){this.sendMessage("toggle",{started:t}),this.started=t,this.onToggle?.(t)}start(){Qe("[cyclist] start"),this.setStarted(!0)}stop(){Qe("[cyclist] stop"),this.collator.reset(),this.setStarted(!1)}setPattern(t,n=!1){this.pattern=t,n&&!this.started&&this.start()}log(t,n,i){const r=i.filter(s=>s.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}class Kf{constructor({interval:t,onTrigger:n,onToggle:i,onError:r,getTime:s,latency:u=.1,setInterval:o,clearInterval:c,beforeStart:h}){this.started=!1,this.beforeStart=h,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=s,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=i,this.latency=u,this.clock=Vf(s,(d,g,m,A)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=d),this.num_ticks_since_cps_change++;const v=this.num_ticks_since_cps_change*g*this.cps;try{const E=this.lastEnd;this.lastBegin=E;const k=this.num_cycles_at_cps_change+v;if(this.lastEnd=k,this.lastTick=d,d<A){console.log("skip query: too late");return}this.pattern.queryArc(E,k,{_cps:this.cps}).forEach(R=>{if(R.hasOnset()){const _=(R.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+u,S=R.duration/this.cps,x=_-d;n?.(R,x,S,this.cps,_),R.value.cps!==void 0&&this.cps!=R.value.cps&&(this.cps=R.value.cps,this.num_ticks_since_cps_change=0)}})}catch(E){lu(E),r?.(E)}},t,.1,.1,o,c)}now(){if(!this.started)return 0;const t=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+t*this.cps}setStarted(t){this.started=t,this.onToggle?.(t)}async start(){if(await this.beforeStart?.(),this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Qe("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Qe("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Qe("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}async setPattern(t,n=!1){this.pattern=t,n&&!this.started&&await this.start()}setCps(t=.5){this.cps!==t&&(this.cps=t,this.num_ticks_since_cps_change=0)}log(t,n,i){const r=i.filter(s=>s.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}let Yf;function us(){if(!Yf)throw new Error("no time set! use setTime to define a time source");return Yf()}function Ji(e){Yf=e}function Ry({defaultOutput:e,onEvalError:t,beforeEval:n,beforeStart:i,afterEval:r,getTime:s,transpiler:u,onToggle:o,editPattern:c,onUpdateState:h,sync:d=!1,setInterval:g,clearInterval:m,id:A,mondo:C=!1}){const v={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},E={id:A},k=ce=>{Object.assign(v,ce),v.isDirty=v.code!==v.activeCode,v.error=v.evalError||v.schedulerError,h?.(v)},V={onTrigger:Jf({defaultOutput:e,getTime:s}),getTime:s,onToggle:ce=>{k({started:ce}),o?.(ce)},setInterval:g,clearInterval:m,beforeStart:i},R=d&&typeof SharedWorker<"u"?new LM(V):new Kf(V);let _={},S=0,x;const T=function(){return _={},S=0,x=void 0,Se},N=async(ce,O=!0)=>(ce=c?.(ce)||ce,await R.setPattern(ce,O),ce);Ji(()=>R.now());const K=()=>R.stop(),W=()=>R.start(),ee=()=>R.pause(),z=()=>R.toggle(),j=ce=>R.setCps(ce),ne=ce=>R.setCps(ce/60);let ye=[];const pe=function(ce){return ye.push(ce),Se},fe=function(ce){return x=ce,Se},ue=()=>{q.prototype.p=function(O){return typeof O=="string"&&(O.startsWith("_")||O.endsWith("_"))?Se:(O==="$"&&(O=`$${S}`,S++),_[O]=this,this)},q.prototype.q=function(O){return Se};try{for(let O=1;O<10;++O)Object.defineProperty(q.prototype,`d${O}`,{get(){return this.p(O)},configurable:!0}),Object.defineProperty(q.prototype,`p${O}`,{get(){return this.p(O)},configurable:!0}),q.prototype[`q${O}`]=Se}catch(O){console.warn("injectPatternMethods: error:",O)}const ce=L("cpm",function(O,Ye){return Ye._fast(O/60/R.cps)});return Yi({all:pe,each:fe,hush:T,cpm:ce,setCps:j,setcps:j,setCpm:ne,setcpm:ne})};return{scheduler:R,evaluate:async(ce,O=!0,Ye=!0)=>{if(!ce)throw new Error("no code to evaluate");try{k({code:ce,pending:!0}),await ue(),Ji(()=>R.now()),await n?.({code:ce}),ye=[],Ye&&T(),C&&(ce=`mondolang\`${ce}\``);let{pattern:_e,meta:it}=await Ly(ce,u,E);if(Object.keys(_).length){let be=Object.values(_);x&&(be=be.map(Je=>x(Je))),_e=ke(...be)}else x&&(_e=x(_e));if(ye.length)for(let be in ye)_e=ye[be](_e);if(!Zr(_e)){const be=`got "${typeof evaluated}" instead of pattern`;throw new Error(be+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Qe("[eval] code updated"),_e=await N(_e,O),k({miniLocations:it?.miniLocations||[],widgets:it?.widgets||[],activeCode:ce,pattern:_e,evalError:void 0,schedulerError:void 0,pending:!1}),r?.({code:ce,pattern:_e,meta:it}),_e}catch(_e){Qe(`[eval] error: ${_e.message}`,"error"),console.error(_e),k({evalError:_e,pending:!1}),t?.(_e)}},start:W,stop:K,pause:ee,setCps:j,setPattern:N,setCode:ce=>k({code:ce}),toggle:z,state:v}}const Jf=({getTime:e,defaultOutput:t})=>async(n,i,r,s,u)=>{try{(!n.context.onTrigger||!n.context.dominantTrigger)&&await t(n,i,r,s,u),n.context.onTrigger&&await n.context.onTrigger(n,e(),s,u)}catch(o){lu(o,"getTrigger")}},Gy=function(e,t={}){const n=document.getElementById("code"),i="background-image:url("+e+");background-size:contain;";n.style=i;const{className:r}=n,s=(c,h)=>{({style:()=>n.style=i+";"+h,className:()=>n.className=h+" "+r})[c]()},u=Object.entries(t).filter(([c,h])=>typeof h=="function");Object.entries(t).filter(([c,h])=>typeof h=="string").forEach(([c,h])=>s(c,h)),u.length},Zy=()=>{const e=document.getElementById("code");e&&(e.style="")};Qe("🌀 @strudel/core loaded 🌀"),globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`),globalThis._strudelLoaded=!0;const Xy=Object.freeze(Object.defineProperty({__proto__:null,ClockCollator:Du,Cyclist:Kf,Fraction:$,Hap:ze,Pattern:q,State:qn,TimeSpan:qe,__chooseWith:is,_brandBy:ts,_fitslice:Wu,_irand:ns,_keyDown:rs,_match:Ou,_mod:Ct,_morph:jr,_polymeterListSteps:ju,_retime:Wr,_slices:Or,accelerate:fa,activeLabel:ul,ad:ff,add:Yd,adsr:lf,almostAlways:yy,almostNever:gy,always:Ay,amp:pa,analyze:Ba,anchor:xl,and:pm,apply:jm,ar:df,arp:_d,arpWith:Bd,arrange:Id,as:xf,att:ya,attack:ga,averageArray:du,backgroundImage:Gy,band:nm,bandf:Ra,bandq:Xa,bank:Sa,base64ToUnicode:vu,bbexpr:co,bbst:fo,beat:pg,begin:Oa,berlin:ry,berlinWith:jf,binary:Og,binaryN:Gf,bind:Xd,binshift:V0,bite:Jm,bjork:Kr,blshift:sm,bor:im,bp:Za,bpa:jo,bpattack:zo,bpd:Jo,bpdecay:Yo,bpe:Go,bpenv:Ro,bpf:Ga,bpq:Wa,bpr:cc,bprelease:oc,bps:ic,bpsustain:nc,brak:ap,brand:Kg,brandBy:Hg,brshift:um,bxor:rm,bypass:Ip,byteBeatExpression:oo,byteBeatStartTime:lo,calculateSteps:Sd,cat:Iu,ccn:Af,ccv:Mf,ceil:Mm,ch:mo,channel:So,channels:ho,choose:Xf,chooseCycles:Wf,chooseIn:Jg,chooseInWith:Ki,chooseOut:Ug,chooseWith:Hi,chop:rg,chord:Sl,chunk:Dp,chunkBack:wp,chunkBackInto:Tp,chunkInto:kp,chunkback:Sp,chunkbackinto:Vp,chunkinto:xp,clamp:Zi,cleanupUi:Zy,clip:j0,coarse:Ja,code2hash:Fd,color:of,colour:cf,comb:_0,compose:Ad,compress:wm,compressSpan:Sm,compressor:Ql,compressorAttack:n0,compressorKnee:e0,compressorRatio:t0,compressorRelease:i0,compressspan:Bm,constant:Md,contract:Ju,control:bf,controls:yg,cosine:Bg,cosine2:_g,cpm:$m,cps:z0,createClock:Vf,createParam:zi,createParams:qr,crush:Ya,ctf:xo,ctlNum:Cf,ctranspose:ll,curry:ge,curve:Y0,cut:Bo,cutoff:_o,cycleToSeconds:Lr,dec:ka,decay:xa,degrade:ay,degradeBy:uy,degradeByWith:sy,degree:ol,delay:Ec,delayfb:Sc,delayfeedback:wc,delaysync:Vc,delayt:xc,delaytime:_c,deltaSlide:J0,det:Nc,detune:Ic,dfb:Bc,dict:_l,dictionary:Bl,dist:Ul,distort:Jl,div:Qd,djf:Fc,drawLine:wu,drive:ao,drop:Hu,dry:Gc,ds:hf,dt:kc,duck:ro,duckattack:uo,duckdepth:so,dur:H0,duration:q0,e:Mg,early:qm,echo:bp,echoWith:mp,echowith:pp,eish:wg,end:za,enhance:S0,eq:fm,eqt:hm,errorLogger:lu,euclid:Ag,euclidLegato:Dg,euclidLegatoRot:Fg,euclidRot:vg,euclidish:Eg,euclidrot:Cg,evalScope:Yi,evaluate:Ly,every:zm,expand:Yu,expression:c0,extend:Ku,fadeInTime:Wc,fadeOutTime:Xc,fadeTime:Zc,fanchor:fc,fast:Nm,fastChunk:_p,fastGap:_m,fastcat:rt,fastchunk:Bp,fastgap:xm,fft:_a,filter:Zp,filterWhen:Xp,firstOf:Om,fit:lg,flatten:Qt,floor:Am,fm:Ma,fmattack:va,fmdecay:Da,fmenv:Ca,fmh:ba,fmi:Aa,fmrelease:Ea,fmsustain:Fa,fmvelocity:wa,fmwave:Pa,focus:km,focusSpan:Vm,focusspan:Tm,fractionalArgs:Cd,frameRate:N0,frames:L0,freeze:P0,freq:Oc,freqToMidi:kr,fromBipolar:vm,fshift:f0,fshiftnote:h0,fshiftphase:d0,ftype:lc,func:ym,gain:da,gap:Hn,gat:nl,gate:tl,getControlName:Hr,getCurrentKeyboardState:Eu,getEventOffsetMs:pd,getFreq:hu,getFrequency:pu,getPerformanceTimeSeconds:wd,getPlayableNoteValue:bd,getSoundIndex:yd,getTime:us,getTrigger:Jf,grow:Op,gt:om,gte:lm,harmonic:fl,hash2code:Ed,hbrick:T0,hcutoff:bc,hold:La,hours:R0,hp:Mc,hpa:Oo,hpattack:Wo,hpd:Ko,hpdecay:Ho,hpe:Lo,hpenv:No,hpf:Ac,hpq:vc,hpr:ac,hprelease:uc,hps:tc,hpsustain:ec,hresonance:Cc,hsl:Gp,hsla:Rp,hurry:Lm,id:$n,imag:w0,inhabit:_y,inhabitmod:ky,innerBind:Wd,inside:Zm,inv:rp,invert:ip,ir:Wl,irand:Yg,irbegin:jl,iresponse:Ol,irspeed:zl,isControlName:ra,isNote:Bn,isNoteWithOctave:dd,isPattern:Zr,isaw:$i,isaw2:Ur,iter:Mp,iterBack:Cp,iterback:vp,itri:Tg,itri2:Ig,jux:dp,juxBy:fp,juxby:hp,kcutoff:g0,keep:Hd,keepif:Kd,keyAlias:Fu,keyDown:Cy,krush:p0,label:al,lastOf:Wm,late:Ru,lbrick:I0,legato:$0,leslie:il,lfo:ef,linger:Um,listRange:Vr,lock:Tc,logKey:xr,logger:Qe,loop:ja,loopAt:og,loopAtCps:fg,loopBegin:$a,loopEnd:Ha,loopat:cg,loopatcps:hg,loopb:qa,loope:Ka,lp:Vo,lpa:Xo,lpattack:Zo,lpd:qo,lpdecay:$o,lpe:Io,lpenv:To,lpf:ko,lpq:Dc,lpr:sc,lprelease:rc,lps:Qo,lpsustain:Uo,lrate:rl,lsize:sl,lt:am,lte:cm,mapArgs:Ir,mask:Ld,midi2note:gd,midiToFreq:_n,midibend:Sf,midichan:mf,midicmd:yf,midimap:pf,midiport:gf,miditouch:Bf,minutes:G0,mod:em,mode:Tl,morph:gg,mouseX:Gg,mouseY:Lg,mousex:Rg,mousey:Ng,mtranspose:cl,mul:Ud,n:ca,nanFallback:mu,ne:dm,net:mm,never:by,noise:pc,note:la,noteToMidi:mn,nothing:bt,nrpnn:vf,nrpv:Pf,nudge:ml,numeralArgs:yt,objectMap:Pu,octave:pl,octaveR:dl,octaves:Vl,octer:y0,octersub:b0,octersubsub:A0,off:up,offset:kl,often:my,or:gm,orbit:gl,outerBind:Od,outside:Xm,overgain:yl,overshape:bl,pace:zu,pairs:Au,palindrome:lp,pan:Al,panchor:el,panorient:Pl,panspan:Ml,pansplay:Cl,panwidth:vl,parseFractional:bu,parseNumeral:Tr,partials:B0,patt:jc,pattack:zc,pcurve:Qc,pdec:qc,pdecay:$c,penv:Uc,perlin:iy,perlinWith:zf,ph:Ao,phasdp:wo,phaser:Mo,phasercenter:Po,phaserdepth:Fo,phaserrate:bo,phasersweep:Co,phc:Do,phd:Eo,phs:vo,pick:$f,pickF:vy,pickOut:Dy,pickReset:Sy,pickRestart:Ey,pickSqueeze:xy,pickmod:qf,pickmodF:Py,pickmodOut:Fy,pickmodReset:By,pickmodRestart:wy,pickmodSqueeze:Vy,pipe:yu,pitchJump:U0,pitchJumpTime:Q0,ply:Im,pm:Vd,polyBind:$d,polyTouch:_f,polymeter:Oi,polyrhythm:xd,postgain:ma,pow:tm,pr:kd,prel:Jc,prelease:Yc,press:cp,pressBy:op,progNum:Df,psus:Kc,psustain:Hc,pure:He,pw:po,pwrate:go,pwsweep:yo,rand:ct,rand2:qg,randcat:Qg,randrun:Zf,range:Pm,range2:Fm,rangex:Dm,rarely:py,rate:Dl,ratio:Em,rdim:Gl,real:E0,ref:dg,register:L,registerControl:B,reify:H,rel:Na,release:Ia,removeUndefineds:jn,repeatCycles:Pp,repeatTime:tf,repl:Ry,resonance:Pc,rev:Gu,rfade:Xl,rib:Lp,ribbon:Np,ring:M0,ringdf:v0,ringf:C0,rlp:Ll,room:Il,roomdim:Rl,roomfade:Zl,roomlp:Nl,roomsize:$l,rotate:gu,round:bm,rsize:Kl,run:Rf,s:sa,s_add:Yp,s_alt:$p,s_cat:jp,s_contract:eg,s_expand:Up,s_extend:Qp,s_polymeter:qp,s_sub:Jp,s_taper:Hp,s_taperlist:Kp,s_tour:tg,s_zip:ng,saw:ai,saw2:Jr,scram:k0,scramble:$g,scrub:kf,seconds:Z0,seg:ep,segment:Qm,semitone:El,seq:Nu,seqPLoop:Nd,sequence:wt,sequenceP:_u,set:qd,setStringParser:Bu,setTime:Ji,shape:Yl,shrink:Qu,shrinklist:Uu,shuffle:jg,signal:vt,silence:Se,sine:Tf,sine2:Qr,size:ql,slice:na,slide:Fl,slow:Rm,slowChunk:Ep,slowcat:pn,slowcatPrime:Xr,slowchunk:Fp,smear:x0,sol2note:vd,someCycles:dy,someCyclesBy:hy,sometimes:fy,sometimesBy:ly,songPtr:X0,sound:ua,source:aa,sparsity:Gm,speak:Ny,speed:$r,splice:ag,splitAt:Nr,spread:Rc,square:If,square2:xg,squeeze:Ty,squeezeBind:zd,squiz:u0,src:oa,stack:ke,stackBy:Td,stackCentre:Tu,stackLeft:ku,stackRight:Vu,steady:Sg,stepBind:jd,stepalt:$u,stepcat:ft,steps:ig,stepsPerOctave:hl,stretch:r0,striate:sg,stringifyValues:Rr,struct:Rd,strudelScope:Hf,stut:Ap,stutWith:gp,stutwith:yp,sub:Jd,superimpose:Gd,sus:Ta,sustain:Va,sustainpedal:l0,swing:np,swingBy:tp,sysex:Ff,sysexdata:wf,sysexid:Ef,sz:Hl,take:qu,time:es,timeCat:zr,timecat:zp,toBipolar:Cm,tokenizeNote:fu,tour:ea,tremolo:Ua,tremolodepth:eo,tremolophase:no,tremoloshape:io,tremoloskew:to,tremolosync:Qa,tri:kg,tri2:Vg,triode:m0,tsdelay:F0,uid:W0,undegrade:cy,undegradeBy:oy,unicodeToBase64:Cu,uniq:Pd,uniqsort:Dd,uniqsortr:Mu,unison:Lc,unit:s0,v:mc,val:O0,valueToMidi:md,velocity:ha,vib:hc,vibmod:gc,vibrato:dc,vmod:yc,voice:wl,vowel:a0,waveloss:o0,wchoose:ty,wchooseCycles:Of,when:sp,whenKey:My,withValue:Zd,within:Wp,wrandcat:ny,xfade:ia,xsdelay:D0,zcrush:sf,zdelay:uf,zip:ta,zipWith:Gi,zmod:rf,znoise:nf,zoom:Hm,zoomArc:Km,zoomarc:Ym,zrand:K0,zzfx:af},Symbol.toStringTag,{value:"Module"}));if(typeof DelayNode<"u"){class e extends DelayNode{constructor(n,i,r,s){super(n),i=Math.abs(i),this.delayTime.value=r;const u=n.createGain();u.gain.value=Math.min(Math.abs(s),.995),this.feedback=u.gain;const o=n.createGain();return o.gain.value=i,this.delayGain=o,this.connect(u),this.connect(o),u.connect(this),this.connect=c=>o.connect(c),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(t,n,i){return new e(this,t,n,i)}}var Uf={};Uf.generateReverb=function(e,t){for(var n=e.audioContext||new AudioContext,i=n.sampleRate,r=e.numChannels||2,s=e.decayTime*1.5,u=Math.round(e.decayTime*i),o=Math.round(s*i),c=Math.round((e.fadeInTime||0)*i),h=Math.pow(1/1e3,1/u),d=n.createBuffer(r,o,i),g=0;g<r;g++){for(var m=d.getChannelData(g),A=0;A<o;A++)m[A]=ZM()*Math.pow(h,A);for(var A=0;A<c;A++)m[A]*=A/c}RM(d,e.lpFreqStart||0,e.lpFreqEnd||0,e.decayTime,t)},Uf.generateGraph=function(e,t,n,i,r){var s=document.createElement("canvas");s.width=t,s.height=n;var u=s.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,s.width,s.height),u.fillStyle="#fff";for(var o=t/e.length,c=n/(r-i),h=0;h<e.length;h++)u.fillRect(h*o,n-(e[h]-i)*c,1,1);return s};var RM=function(e,t,n,i,r){if(t==0){r(e);return}var s=GM(e),u=new OfflineAudioContext(e.numberOfChannels,s[0].length,e.sampleRate),o=u.createBufferSource();o.buffer=e;var c=u.createBiquadFilter();t=Math.min(t,e.sampleRate/2),n=Math.min(n,e.sampleRate/2),c.type="lowpass",c.Q.value=1e-4,c.frequency.setValueAtTime(t,0),c.frequency.linearRampToValueAtTime(n,i),o.connect(c),c.connect(u.destination),o.start(),u.oncomplete=function(h){r(h.renderedBuffer)},u.startRendering(),window.filterNode=c},GM=function(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);return t},ZM=function(){return Math.random()*2-1};let Wy=e=>console.log(e);function Qf(e,t="cyclist"){Pt(`[${t}] error: ${e.message}`)}const Pt=(...e)=>Wy(...e),eh=e=>{Wy=e},XM=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},WM={c:0,d:2,e:4,f:5,g:7,a:9,b:11},OM={"#":1,b:-1,s:1,f:-1},as=(e,t=3)=>{const[n,i,r=t]=XM(e);if(!n)throw new Error('not a note: "'+e+'"');const s=WM[n.toLowerCase()],u=i?.split("").reduce((o,c)=>o+OM[c],0)||0;return(Number(r)+1)*12+s+u},Oy=e=>Math.pow(2,(e-69)/12)*440,Kn=(e,t,n)=>Math.min(Math.max(e,t),n),zM=e=>12*Math.log(e/440)/Math.LN2+69,jM=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;return typeof n=="number"?zM(n):typeof i=="string"?as(i):typeof i=="number"?i:t};function gn(e,t=0,n){return isNaN(Number(e))?(!n&&Pt(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const zy=(e,t)=>(e%t+t)%t,jy=(e,t)=>zy(Math.round(gn(e,0)),t);function $M(e,t){return e/t}typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(e,t,n=1,i=0){const r=Math.floor(Kn(i,0,1)*t.length),s=t.sampleRate*e,u=this.createBuffer(t.numberOfChannels,t.length,t.sampleRate);for(let o=0;o<t.numberOfChannels;o++){let c=t.getChannelData(o),h=u.getChannelData(o);for(let d=0;d<s;d++){let g=(r+d*Math.abs(n))%c.length;n<1&&(g=g*-1),h[d]=c.at(g)||0}}return u},AudioContext.prototype.createReverb=function(e,t,n,i,r,s,u){const o=this.createConvolver();return o.generate=(c=2,h=.1,d=15e3,g=1e3,m,A,C)=>{o.duration=c,o.fade=h,o.lp=d,o.dim=g,o.ir=m,o.irspeed=A,o.irbegin=C,m?o.buffer=this.adjustLength(c,m,A,C):Uf.generateReverb({audioContext:this,numChannels:2,decayTime:c,fadeInTime:h,lpFreqStart:d,lpFreqEnd:g},v=>{o.buffer=v})},o.generate(e,t,n,i,r,s,u),o});var $y={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class e extends GainNode{constructor(n,i){if(super(n),!$y[i])throw new Error("vowel: unknown vowel "+i);const{gains:r,qs:s,freqs:u}=$y[i],o=n.createGain();for(let c=0;c<5;c++){const h=n.createGain();h.gain.value=r[c];const d=n.createBiquadFilter();d.type="bandpass",d.Q.value=s[c],d.frequency.value=u[c],this.connect(d),d.connect(h),h.connect(o)}return o.gain.value=8,this.connect=c=>o.connect(c),this}}AudioContext.prototype.createVowelFilter=function(t){return new e(this,t)}}const qM="data:text/javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIGd0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLm5iSW5wdXRzPXQubnVtYmVyT2ZJbnB1dHMsdGhpcy5uYk91dHB1dHM9dC5udW1iZXJPZk91dHB1dHMsdGhpcy5ibG9ja1NpemU9dC5wcm9jZXNzb3JPcHRpb25zLmJsb2NrU2l6ZSx0aGlzLmhvcFNpemU9MTI4LHRoaXMubmJPdmVybGFwcz10aGlzLmJsb2NrU2l6ZS90aGlzLmhvcFNpemUsdGhpcy5pbnB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpLHRoaXMuaW5wdXRCdWZmZXJzSGVhZD1uZXcgQXJyYXkodGhpcy5uYklucHV0cyksdGhpcy5pbnB1dEJ1ZmZlcnNUb1NlbmQ9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpO2ZvcihsZXQgZT0wO2U8dGhpcy5uYklucHV0cztlKyspdGhpcy5hbGxvY2F0ZUlucHV0Q2hhbm5lbHMoZSwxKTt0aGlzLm91dHB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJPdXRwdXRzKSx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlPW5ldyBBcnJheSh0aGlzLm5iT3V0cHV0cyk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5iT3V0cHV0cztlKyspdGhpcy5hbGxvY2F0ZU91dHB1dENoYW5uZWxzKGUsMSl9cmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKXtsZXQgcj10W3NdLmxlbmd0aDtyIT10aGlzLmlucHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVJbnB1dENoYW5uZWxzKHMscil9Zm9yKGxldCBzPTA7czx0aGlzLm5iT3V0cHV0cztzKyspe2xldCByPWVbc10ubGVuZ3RoO3IhPXRoaXMub3V0cHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVPdXRwdXRDaGFubmVscyhzLHIpfX1hbGxvY2F0ZUlucHV0Q2hhbm5lbHModCxlKXt0aGlzLmlucHV0QnVmZmVyc1t0XT1uZXcgQXJyYXkoZSk7Zm9yKGxldCBzPTA7czxlO3MrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKzEyOCksdGhpcy5pbnB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLmlucHV0QnVmZmVyc0hlYWRbdF09bmV3IEFycmF5KGUpLHRoaXMuaW5wdXRCdWZmZXJzVG9TZW5kW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMuaW5wdXRCdWZmZXJzSGVhZFt0XVtzXT10aGlzLmlucHV0QnVmZmVyc1t0XVtzXS5zdWJhcnJheSgwLHRoaXMuYmxvY2tTaXplKSx0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKX1hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHQsZSl7dGhpcy5vdXRwdXRCdWZmZXJzW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1RvUmV0cmlldmVbdF1bc109bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5vdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZVt0XVtzXS5maWxsKDApfXJlYWRJbnB1dHModCl7aWYodFswXS5sZW5ndGgmJnRbMF1bMF0ubGVuZ3RoPT0wKXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5maWxsKDAsdGhpcy5ibG9ja1NpemUpO3JldHVybn1mb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dFtlXVtzXTt0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5zZXQocix0aGlzLmJsb2NrU2l6ZSl9fXdyaXRlT3V0cHV0cyh0KXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dGhpcy5vdXRwdXRCdWZmZXJzW2VdW3NdLnN1YmFycmF5KDAsMTI4KTt0W2VdW3NdLnNldChyKX19c2hpZnRJbnB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KX1zaGlmdE91dHB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJPdXRwdXRzO3QrKylmb3IobGV0IGU9MDtlPHRoaXMub3V0cHV0QnVmZmVyc1t0XS5sZW5ndGg7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bZV0uc3ViYXJyYXkodGhpcy5ibG9ja1NpemUtMTI4KS5maWxsKDApfXByZXBhcmVJbnB1dEJ1ZmZlcnNUb1NlbmQoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtlXS5zZXQodGhpcy5pbnB1dEJ1ZmZlcnNIZWFkW3RdW2VdKX1oYW5kbGVPdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5uYk91dHB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5vdXRwdXRCdWZmZXJzW3RdLmxlbmd0aDtlKyspZm9yKGxldCBzPTA7czx0aGlzLmJsb2NrU2l6ZTtzKyspdGhpcy5vdXRwdXRCdWZmZXJzW3RdW2VdW3NdKz10aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdW2VdW3NdL3RoaXMubmJPdmVybGFwc31wcm9jZXNzKHQsZSxzKXtjb25zdCBvPXRbMF1bMF0hPT12b2lkIDA7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIW8/ITE6KHRoaXMuc3RhcnRlZD1vLHRoaXMucmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKSx0aGlzLnJlYWRJbnB1dHModCksdGhpcy5zaGlmdElucHV0QnVmZmVycygpLHRoaXMucHJlcGFyZUlucHV0QnVmZmVyc1RvU2VuZCgpLHRoaXMucHJvY2Vzc09MQSh0aGlzLmlucHV0QnVmZmVyc1RvU2VuZCx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlLHMpLHRoaXMuaGFuZGxlT3V0cHV0QnVmZmVyc1RvUmV0cmlldmUoKSx0aGlzLndyaXRlT3V0cHV0cyhlKSx0aGlzLnNoaWZ0T3V0cHV0QnVmZmVycygpLCEwKX1wcm9jZXNzT0xBKHQsZSxzKXtjb25zb2xlLmFzc2VydCghMSwiTm90IG92ZXJyaWRlbiIpfX1jbGFzcyBJdHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnNpemU9dHwwLHRoaXMuc2l6ZTw9MXx8dGhpcy5zaXplJnRoaXMuc2l6ZS0xKXRocm93IG5ldyBFcnJvcigiRkZUIHNpemUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBhbmQgYmlnZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDE7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLnNpemUqMikscz0wO3M8ZS5sZW5ndGg7cys9Mil7Y29uc3QgYT1NYXRoLlBJKnMvdGhpcy5zaXplO2Vbc109TWF0aC5jb3MoYSksZVtzKzFdPS1NYXRoLnNpbihhKX10aGlzLnRhYmxlPWU7Zm9yKHZhciByPTAsbz0xO3RoaXMuc2l6ZT5vO288PD0xKXIrKzt0aGlzLl93aWR0aD1yJTI9PT0wP3ItMTpyLHRoaXMuX2JpdHJldj1uZXcgQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2Zvcih2YXIgaT0wO2k8dGhpcy5fYml0cmV2Lmxlbmd0aDtpKyspe3RoaXMuX2JpdHJldltpXT0wO2Zvcih2YXIgdT0wO3U8dGhpcy5fd2lkdGg7dSs9Mil7dmFyIGM9dGhpcy5fd2lkdGgtdS0yO3RoaXMuX2JpdHJldltpXXw9KGk+Pj51JjMpPDxjfX10aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGwsdGhpcy5faW52PTB9ZnJvbUNvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHxuZXcgQXJyYXkodC5sZW5ndGg+Pj4xKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXNbcj4+PjFdPXRbcl07cmV0dXJuIHN9Y3JlYXRlQ29tcGxleEFycmF5KCl7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fY3NpemUpO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09MDtyZXR1cm4gdH10b0NvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpLHI9MDtyPHMubGVuZ3RoO3IrPTIpc1tyXT10W3I+Pj4xXSxzW3IrMV09MDtyZXR1cm4gc31jb21wbGV0ZVNwZWN0cnVtKHQpe2Zvcih2YXIgZT10aGlzLl9jc2l6ZSxzPWU+Pj4xLHI9MjtyPHM7cis9Mil0W2Utcl09dFtyXSx0W2UtcisxXT0tdFtyKzFdfXRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3RyYW5zZm9ybTQoKSx0aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGx9cmVhbFRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3JlYWxUcmFuc2Zvcm00KCksdGhpcy5fb3V0PW51bGwsdGhpcy5fZGF0YT1udWxsfWludmVyc2VUcmFuc2Zvcm0odCxlKXtpZih0PT09ZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX291dD10LHRoaXMuX2RhdGE9ZSx0aGlzLl9pbnY9MSx0aGlzLl90cmFuc2Zvcm00KCk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspdFtzXS89dGhpcy5zaXplO3RoaXMuX291dD1udWxsLHRoaXMuX2RhdGE9bnVsbH1fdHJhbnNmb3JtNCgpe3ZhciB0PXRoaXMuX291dCxlPXRoaXMuX2NzaXplLHM9dGhpcy5fd2lkdGgscj0xPDxzLG89ZS9yPDwxLGksdSxjPXRoaXMuX2JpdHJldjtpZihvPT09NClmb3IoaT0wLHU9MDtpPGU7aSs9byx1Kyspe2NvbnN0IGQ9Y1t1XTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKGksZCxyKX1lbHNlIGZvcihpPTAsdT0wO2k8ZTtpKz1vLHUrKyl7Y29uc3QgZD1jW3VdO3RoaXMuX3NpbmdsZVRyYW5zZm9ybTQoaSxkLHIpfXZhciBhPXRoaXMuX2ludj8tMToxLGg9dGhpcy50YWJsZTtmb3Iocj4+PTI7cj49MjtyPj49Mil7bz1lL3I8PDE7dmFyIG09bz4+PjI7Zm9yKGk9MDtpPGU7aSs9bylmb3IodmFyIHA9aSttLGw9aSxmPTA7bDxwO2wrPTIsZis9cil7Y29uc3QgZD1sLHY9ZCttLGc9dittLEk9ZyttLGI9dFtkXSxCPXRbZCsxXSxfPXRbdl0sdz10W3YrMV0sVD10W2ddLFA9dFtnKzFdLHk9dFtJXSxBPXRbSSsxXSx4PWIsVj1CLEY9aFtmXSxNPWEqaFtmKzFdLE89XypGLXcqTSxOPV8qTSt3KkYsWT1oWzIqZl0sTD1hKmhbMipmKzFdLEg9VCpZLVAqTCxVPVQqTCtQKlksSz1oWzMqZl0sWj1hKmhbMypmKzFdLCQ9eSpLLUEqWixHPXkqWitBKkssaj14K0gsaz1WK1Usej14LUgsSj1WLVUsUT1PKyQsRT1OK0csUj1hKihPLSQpLFg9YSooTi1HKSxzdD1qK1EsaXQ9aytFLG90PWotUSxhdD1rLUUsdXQ9eitYLGh0PUotUixjdD16LVgsbHQ9SitSO3RbZF09c3QsdFtkKzFdPWl0LHRbdl09dXQsdFt2KzFdPWh0LHRbZ109b3QsdFtnKzFdPWF0LHRbSV09Y3QsdFtJKzFdPWx0fX19X3NpbmdsZVRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LG89dGhpcy5fZGF0YSxpPW9bZV0sdT1vW2UrMV0sYz1vW2Urc10sYT1vW2UrcysxXSxoPWkrYyxtPXUrYSxwPWktYyxsPXUtYTtyW3RdPWgsclt0KzFdPW0sclt0KzJdPXAsclt0KzNdPWx9X3NpbmdsZVRyYW5zZm9ybTQodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LG89dGhpcy5fZGF0YSxpPXRoaXMuX2ludj8tMToxLHU9cyoyLGM9cyozLGE9b1tlXSxoPW9bZSsxXSxtPW9bZStzXSxwPW9bZStzKzFdLGw9b1tlK3VdLGY9b1tlK3UrMV0sZD1vW2UrY10sdj1vW2UrYysxXSxnPWErbCxJPWgrZixiPWEtbCxCPWgtZixfPW0rZCx3PXArdixUPWkqKG0tZCksUD1pKihwLXYpLHk9ZytfLEE9SSt3LHg9YitQLFY9Qi1ULEY9Zy1fLE09SS13LE89Yi1QLE49QitUO3JbdF09eSxyW3QrMV09QSxyW3QrMl09eCxyW3QrM109VixyW3QrNF09RixyW3QrNV09TSxyW3QrNl09TyxyW3QrN109Tn1fcmVhbFRyYW5zZm9ybTQoKXt2YXIgdD10aGlzLl9vdXQsZT10aGlzLl9jc2l6ZSxzPXRoaXMuX3dpZHRoLHI9MTw8cyxvPWUvcjw8MSxpLHUsYz10aGlzLl9iaXRyZXY7aWYobz09PTQpZm9yKGk9MCx1PTA7aTxlO2krPW8sdSsrKXtjb25zdCBmdD1jW3VdO3RoaXMuX3NpbmdsZVJlYWxUcmFuc2Zvcm0yKGksZnQ+Pj4xLHI+Pj4xKX1lbHNlIGZvcihpPTAsdT0wO2k8ZTtpKz1vLHUrKyl7Y29uc3QgZnQ9Y1t1XTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChpLGZ0Pj4+MSxyPj4+MSl9dmFyIGE9dGhpcy5faW52Py0xOjEsaD10aGlzLnRhYmxlO2ZvcihyPj49MjtyPj0yO3I+Pj0yKXtvPWUvcjw8MTt2YXIgbT1vPj4+MSxwPW0+Pj4xLGw9cD4+PjE7Zm9yKGk9MDtpPGU7aSs9bylmb3IodmFyIGY9MCxkPTA7Zjw9bDtmKz0yLGQrPXIpe3ZhciB2PWkrZixnPXYrcCxJPWcrcCxiPUkrcCxCPXRbdl0sXz10W3YrMV0sdz10W2ddLFQ9dFtnKzFdLFA9dFtJXSx5PXRbSSsxXSxBPXRbYl0seD10W2IrMV0sVj1CLEY9XyxNPWhbZF0sTz1hKmhbZCsxXSxOPXcqTS1UKk8sWT13Kk8rVCpNLEw9aFsyKmRdLEg9YSpoWzIqZCsxXSxVPVAqTC15KkgsSz1QKkgreSpMLFo9aFszKmRdLCQ9YSpoWzMqZCsxXSxHPUEqWi14KiQsaj1BKiQreCpaLGs9VitVLHo9RitLLEo9Vi1VLFE9Ri1LLEU9TitHLFI9WStqLFg9YSooTi1HKSxzdD1hKihZLWopLGl0PWsrRSxvdD16K1IsYXQ9SitzdCx1dD1RLVg7aWYodFt2XT1pdCx0W3YrMV09b3QsdFtnXT1hdCx0W2crMV09dXQsZj09PTApe3ZhciBodD1rLUUsY3Q9ei1SO3RbSV09aHQsdFtJKzFdPWN0O2NvbnRpbnVlfWlmKGYhPT1sKXt2YXIgbHQ9SixFdD0tUSxSdD1rLER0PS16LHF0PS1hKnN0LFd0PS1hKlgsWXQ9LWEqUixMdD0tYSpFLEh0PWx0K3F0LFV0PUV0K1d0LEt0PVJ0K0x0LFp0PUR0LVl0LG10PWkrcC1mLHZ0PWkrbS1mO3RbbXRdPUh0LHRbbXQrMV09VXQsdFt2dF09S3QsdFt2dCsxXT1adH19fX1fc2luZ2xlUmVhbFRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LG89dGhpcy5fZGF0YSxpPW9bZV0sdT1vW2Urc10sYz1pK3UsYT1pLXU7clt0XT1jLHJbdCsxXT0wLHJbdCsyXT1hLHJbdCszXT0wfV9zaW5nbGVSZWFsVHJhbnNmb3JtNCh0LGUscyl7Y29uc3Qgcj10aGlzLl9vdXQsbz10aGlzLl9kYXRhLGk9dGhpcy5faW52Py0xOjEsdT1zKjIsYz1zKjMsYT1vW2VdLGg9b1tlK3NdLG09b1tlK3VdLHA9b1tlK2NdLGw9YSttLGY9YS1tLGQ9aCtwLHY9aSooaC1wKSxnPWwrZCxJPWYsYj0tdixCPWwtZCxfPWYsdz12O3JbdF09ZyxyW3QrMV09MCxyW3QrMl09SSxyW3QrM109YixyW3QrNF09QixyW3QrNV09MCxyW3QrNl09XyxyW3QrN109d319Y29uc3QgQz0obix0LGUpPT5NYXRoLm1pbihNYXRoLm1heChuLHQpLGUpLHB0PShuLHQpPT4obiV0K3QpJXQ7ZnVuY3Rpb24gYnQobix0PTEpe3JldHVybiBuPj10P24tPXQ6bjwwJiYobis9dCksbn1jb25zdCBEPTEyODtmdW5jdGlvbiBCdChuLHQpe3JldHVybiB0PU1hdGgubWluKHQsMS10KSxuPHQ/KG4vPXQsbituLW4qbi0xKTpuPjEtdD8obj0obi0xKS90LG4qbituK24rMSk6MH1jb25zdCBydD17dHJpKG4sdD0uNSl7Y29uc3QgZT0xLXQ7cmV0dXJuIG4+PXQ/MS9lLW4vZTpuL3R9LHNpbmUobil7cmV0dXJuIE1hdGguc2luKE1hdGguUEkqMipuKSouNSsuNX0scmFtcChuKXtyZXR1cm4gbn0sc2F3KG4pe3JldHVybiAxLW59LHNxdWFyZShuLHQ9LjUpe3JldHVybiBuPj10PzA6MX0sY3VzdG9tKG4sdD1bMCwxXSl7Y29uc3QgZT10Lmxlbmd0aC0xLHM9TWF0aC5mbG9vcihuKmUpLHI9MS9lLG89Qyh0W3NdLDAsMSksdT1DKHRbcysxXSwwLDEpLGM9byxhPTAsaD1yO3JldHVybih1LWMpLyhoLWEpKihuLXIqcykrb30sc2F3YmxlcChuLHQpe3JldHVybiAyKm4tMS1CdChuLHQpfX07ZnVuY3Rpb24gcShuLHQpe3JldHVybiB0Lmxlbmd0aD4xP3Rbbl06dFswXX1jb25zdCBfdD1PYmplY3Qua2V5cyhydCk7Y2xhc3Mgd3QgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiYmVnaW4iLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToidGltZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJlbmQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6LjV9LHtuYW1lOiJza2V3IixkZWZhdWx0VmFsdWU6LjV9LHtuYW1lOiJkZXB0aCIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJwaGFzZW9mZnNldCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJzaGFwZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJjdXJ2ZSIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJkY29mZnNldCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJtaW4iLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToibWF4IixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBoYXNlfWluY3JlbWVudFBoYXNlKHQpe3RoaXMucGhhc2UrPXQsdGhpcy5waGFzZT4xJiYodGhpcy5waGFzZT10aGlzLnBoYXNlLTEpfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9cy5iZWdpblswXTtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PXIpcmV0dXJuITA7Y29uc3Qgbz1lWzBdLGk9cy5mcmVxdWVuY3lbMF0sdT1zLnRpbWVbMF0sYz1zLmRlcHRoWzBdLGE9cy5za2V3WzBdLGg9cy5waGFzZW9mZnNldFswXSxtPXMuY3VydmVbMF0scD1zLmRjb2Zmc2V0WzBdLGw9cy5taW5bMF0sZj1zLm1heFswXSxkPV90W3Muc2hhcGVbMF1dLHY9b1swXS5sZW5ndGg/PzA7dGhpcy5waGFzZT09bnVsbCYmKHRoaXMucGhhc2U9cHQodSppK2gsMSkpO2NvbnN0IGc9aS9zYW1wbGVSYXRlO2ZvcihsZXQgST0wO0k8djtJKyspe2ZvcihsZXQgYj0wO2I8by5sZW5ndGg7YisrKXtsZXQgQj0ocnRbZF0odGhpcy5waGFzZSxhKStwKSpjO0I9TWF0aC5wb3coQixtKSxvW2JdW0ldPUMoQixsLGYpfXRoaXMuaW5jcmVtZW50UGhhc2UoZyl9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJsZm8tcHJvY2Vzc29yIix3dCk7Y2xhc3MgU3QgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiY29hcnNlIixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITF9cHJvY2Vzcyh0LGUscyl7Y29uc3Qgcj10WzBdLG89ZVswXSxpPXJbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhaSlyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9aTtsZXQgdT1zLmNvYXJzZVswXT8/MDt1PU1hdGgubWF4KDEsdSk7Zm9yKGxldCBjPTA7YzxEO2MrKylmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKylvW2FdW2NdPWMldT09PTA/clthXVtjXTpvW2FdW2MtMV07cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJjb2Fyc2UtcHJvY2Vzc29yIixTdCk7Y2xhc3MgVHQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiY3J1c2giLGRlZmF1bHRWYWx1ZTowfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0sbz1lWzBdLGk9clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFpKXJldHVybiExO3RoaXMuc3RhcnRlZD1pO2xldCB1PXMuY3J1c2hbMF0/Pzg7dT1NYXRoLm1heCgxLHUpO2ZvcihsZXQgYz0wO2M8RDtjKyspZm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKyspe2NvbnN0IGg9TWF0aC5wb3coMix1LTEpO29bYV1bY109TWF0aC5yb3VuZChyW2FdW2NdKmgpL2h9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJjcnVzaC1wcm9jZXNzb3IiLFR0KTtjbGFzcyBQdCBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJzaGFwZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJwb3N0Z2FpbiIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxvPWVbMF0saT1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIWkpcmV0dXJuITE7dGhpcy5zdGFydGVkPWk7bGV0IHU9cy5zaGFwZVswXTt1PXU8MT91OjEtNGUtMTAsdT0yKnUvKDEtdSk7Y29uc3QgYz1NYXRoLm1heCguMDAxLE1hdGgubWluKDEscy5wb3N0Z2FpblswXSkpO2ZvcihsZXQgYT0wO2E8RDthKyspZm9yKGxldCBoPTA7aDxyLmxlbmd0aDtoKyspb1toXVthXT0oMSt1KSpyW2hdW2FdLygxK3UqTWF0aC5hYnMocltoXVthXSkpKmM7cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJzaGFwZS1wcm9jZXNzb3IiLFB0KTtmdW5jdGlvbiBTKG4pe2NvbnN0IHQ9bipuO3JldHVybiBuKigyNyt0KS8oMjcrOSp0KX1jb25zdCBkdD0zLjE0MTU5MjY1MzU5O2NsYXNzIHl0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjUwMH0se25hbWU6InEiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToiZHJpdmUiLGRlZmF1bHRWYWx1ZTouNjl9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExLHRoaXMucDA9WzAsMF0sdGhpcy5wMT1bMCwwXSx0aGlzLnAyPVswLDBdLHRoaXMucDM9WzAsMF0sdGhpcy5wMzI9WzAsMF0sdGhpcy5wMzM9WzAsMF0sdGhpcy5wMzQ9WzAsMF19cHJvY2Vzcyh0LGUscyl7Y29uc3Qgcj10WzBdLG89ZVswXSxpPXJbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhaSlyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9aTtjb25zdCB1PXMucVswXSxjPUMoTWF0aC5leHAocy5kcml2ZVswXSksLjEsMmUzKTtsZXQgYT1zLmZyZXF1ZW5jeVswXTthPWEqMipkdC9zYW1wbGVSYXRlLGE9YT4xPzE6YTtjb25zdCBoPU1hdGgubWluKDgsdSouMTMpO2xldCBtPTEvYypNYXRoLm1pbigxLjc1LDEraCk7Zm9yKGxldCBwPTA7cDxEO3ArKylmb3IobGV0IGw9MDtsPHIubGVuZ3RoO2wrKyl7Y29uc3QgZj10aGlzLnAzW2xdKi4zNjA4OTErdGhpcy5wMzJbbF0qLjQxNzI5K3RoaXMucDMzW2xdKi4xNzc4OTYrdGhpcy5wMzRbbF0qLjA0Mzk3MjU7dGhpcy5wMzRbbF09dGhpcy5wMzNbbF0sdGhpcy5wMzNbbF09dGhpcy5wMzJbbF0sdGhpcy5wMzJbbF09dGhpcy5wM1tsXSx0aGlzLnAwW2xdKz0oUyhyW2xdW3BdKmMtaCpmKS1TKHRoaXMucDBbbF0pKSphLHRoaXMucDFbbF0rPShTKHRoaXMucDBbbF0pLVModGhpcy5wMVtsXSkpKmEsdGhpcy5wMltsXSs9KFModGhpcy5wMVtsXSktUyh0aGlzLnAyW2xdKSkqYSx0aGlzLnAzW2xdKz0oUyh0aGlzLnAyW2xdKS1TKHRoaXMucDNbbF0pKSphLG9bbF1bcF09ZiptfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigibGFkZGVyLXByb2Nlc3NvciIseXQpO2NsYXNzIEF0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImRpc3RvcnQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToicG9zdGdhaW4iLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0sbz1lWzBdLGk9clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFpKXJldHVybiExO3RoaXMuc3RhcnRlZD1pO2NvbnN0IHU9TWF0aC5leHBtMShzLmRpc3RvcnRbMF0pLGM9TWF0aC5tYXgoLjAwMSxNYXRoLm1pbigxLHMucG9zdGdhaW5bMF0pKTtmb3IobGV0IGE9MDthPEQ7YSsrKWZvcihsZXQgaD0wO2g8ci5sZW5ndGg7aCsrKW9baF1bYV09KDErdSkqcltoXVthXS8oMSt1Kk1hdGguYWJzKHJbaF1bYV0pKSpjO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiZGlzdG9ydC1wcm9jZXNzb3IiLEF0KTtmdW5jdGlvbiB4dChuLHQsZSl7cmV0dXJuIGUqKHQtbikrbn1mdW5jdGlvbiBWdChuLHQsZSl7cmV0dXJuIG48Mj8wOnh0KC10Ki41LHQqLjUsZS8obi0xKSl9ZnVuY3Rpb24gdHQobix0KXtyZXR1cm4gbipNYXRoLnBvdygyLHQvMTIpfWNsYXNzIEZ0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBoYXNlPVtdfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6InBhbnNwcmVhZCIsZGVmYXVsdFZhbHVlOi40LG1pbjowLG1heDoxfSx7bmFtZToiZnJlcXNwcmVhZCIsZGVmYXVsdFZhbHVlOi4yLG1pbjowfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46MH0se25hbWU6InZvaWNlcyIsZGVmYXVsdFZhbHVlOjUsbWluOjF9XX1wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdLG89cy52b2ljZXNbMF0saT1zLmZyZXFzcHJlYWRbMF0sdT1zLnBhbnNwcmVhZFswXSouNSsuNSxjPU1hdGguc3FydCgxLXUpLGE9TWF0aC5zcXJ0KHUpO2ZvcihsZXQgaD0wO2g8bztoKyspe2NvbnN0IG09KGgmMSk9PTE7bGV0IHA9YyxsPWE7bSYmKHA9YSxsPWMpO2ZvcihsZXQgZj0wO2Y8clswXS5sZW5ndGg7ZisrKXtsZXQgZD10dChzLmZyZXF1ZW5jeVtmXT8/cy5mcmVxdWVuY3lbMF0scy5kZXR1bmVbMF0vMTAwKTtkPXR0KGQsVnQobyxpLGgpKTtjb25zdCB2PXB0KGQvc2FtcGxlUmF0ZSwxKTt0aGlzLnBoYXNlW2hdPXRoaXMucGhhc2VbaF0/P01hdGgucmFuZG9tKCk7Y29uc3QgZz1ydC5zYXdibGVwKHRoaXMucGhhc2VbaF0sdik7clswXVtmXT1yWzBdW2ZdK2cqcCxyWzFdW2ZdPXJbMV1bZl0rZypsLHRoaXMucGhhc2VbaF09YnQodGhpcy5waGFzZVtoXSt2KX19cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJzdXBlcnNhdy1vc2NpbGxhdG9yIixGdCk7Y29uc3QgTXQ9MjA0ODtmdW5jdGlvbiBPdChuKXtsZXQgdD1uZXcgRmxvYXQzMkFycmF5KG4pO2Zvcih2YXIgZT0wO2U8bjtlKyspdFtlXT0uNSooMS1NYXRoLmNvcygyKk1hdGguUEkqZS9uKSk7cmV0dXJuIHR9Y2xhc3MgTnQgZXh0ZW5kcyBndHtzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJwaXRjaEZhY3RvciIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcih0KXt0LnByb2Nlc3Nvck9wdGlvbnM9e2Jsb2NrU2l6ZTpNdH0sc3VwZXIodCksdGhpcy5mZnRTaXplPXRoaXMuYmxvY2tTaXplLHRoaXMudGltZUN1cnNvcj0wLHRoaXMuaGFubldpbmRvdz1PdCh0aGlzLmJsb2NrU2l6ZSksdGhpcy5mZnQ9bmV3IEl0KHRoaXMuZmZ0U2l6ZSksdGhpcy5mcmVxQ29tcGxleEJ1ZmZlcj10aGlzLmZmdC5jcmVhdGVDb21wbGV4QXJyYXkoKSx0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZD10aGlzLmZmdC5jcmVhdGVDb21wbGV4QXJyYXkoKSx0aGlzLnRpbWVDb21wbGV4QnVmZmVyPXRoaXMuZmZ0LmNyZWF0ZUNvbXBsZXhBcnJheSgpLHRoaXMubWFnbml0dWRlcz1uZXcgRmxvYXQzMkFycmF5KHRoaXMuZmZ0U2l6ZS8yKzEpLHRoaXMucGVha0luZGV4ZXM9bmV3IEludDMyQXJyYXkodGhpcy5tYWduaXR1ZGVzLmxlbmd0aCksdGhpcy5uYlBlYWtzPTB9cHJvY2Vzc09MQSh0LGUscyl7bGV0IHI9cy5waXRjaEZhY3RvcltzLnBpdGNoRmFjdG9yLmxlbmd0aC0xXTtyPDAmJihyPXIqLjI1KSxyPU1hdGgubWF4KDAscisxKTtmb3IodmFyIG89MDtvPHRoaXMubmJJbnB1dHM7bysrKWZvcih2YXIgaT0wO2k8dFtvXS5sZW5ndGg7aSsrKXt2YXIgdT10W29dW2ldLGM9ZVtvXVtpXTt0aGlzLmFwcGx5SGFubldpbmRvdyh1KSx0aGlzLmZmdC5yZWFsVHJhbnNmb3JtKHRoaXMuZnJlcUNvbXBsZXhCdWZmZXIsdSksdGhpcy5jb21wdXRlTWFnbml0dWRlcygpLHRoaXMuZmluZFBlYWtzKCksdGhpcy5zaGlmdFBlYWtzKHIpLHRoaXMuZmZ0LmNvbXBsZXRlU3BlY3RydW0odGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQpLHRoaXMuZmZ0LmludmVyc2VUcmFuc2Zvcm0odGhpcy50aW1lQ29tcGxleEJ1ZmZlcix0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZCksdGhpcy5mZnQuZnJvbUNvbXBsZXhBcnJheSh0aGlzLnRpbWVDb21wbGV4QnVmZmVyLGMpLHRoaXMuYXBwbHlIYW5uV2luZG93KGMpfXRoaXMudGltZUN1cnNvcis9dGhpcy5ob3BTaXplfWFwcGx5SGFubldpbmRvdyh0KXtmb3IodmFyIGU9MDtlPHRoaXMuYmxvY2tTaXplO2UrKyl0W2VdPXRbZV0qdGhpcy5oYW5uV2luZG93W2VdKjEuNjJ9Y29tcHV0ZU1hZ25pdHVkZXMoKXtmb3IodmFyIHQ9MCxlPTA7dDx0aGlzLm1hZ25pdHVkZXMubGVuZ3RoOyl7bGV0IHM9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltlXSxyPXRoaXMuZnJlcUNvbXBsZXhCdWZmZXJbZSsxXTt0aGlzLm1hZ25pdHVkZXNbdF09cyoqMityKioyLHQrPTEsZSs9Mn19ZmluZFBlYWtzKCl7dGhpcy5uYlBlYWtzPTA7dmFyIHQ9MjtsZXQgZT10aGlzLm1hZ25pdHVkZXMubGVuZ3RoLTI7Zm9yKDt0PGU7KXtsZXQgcz10aGlzLm1hZ25pdHVkZXNbdF07aWYodGhpcy5tYWduaXR1ZGVzW3QtMV0+PXN8fHRoaXMubWFnbml0dWRlc1t0LTJdPj1zKXt0Kys7Y29udGludWV9aWYodGhpcy5tYWduaXR1ZGVzW3QrMV0+PXN8fHRoaXMubWFnbml0dWRlc1t0KzJdPj1zKXt0Kys7Y29udGludWV9dGhpcy5wZWFrSW5kZXhlc1t0aGlzLm5iUGVha3NdPXQsdGhpcy5uYlBlYWtzKyssdCs9Mn19c2hpZnRQZWFrcyh0KXt0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZC5maWxsKDApO2Zvcih2YXIgZT0wO2U8dGhpcy5uYlBlYWtzO2UrKyl7bGV0IGk9dGhpcy5wZWFrSW5kZXhlc1tlXSx1PU1hdGgucm91bmQoaSp0KTtpZih1PnRoaXMubWFnbml0dWRlcy5sZW5ndGgpYnJlYWs7dmFyIHM9MCxyPXRoaXMuZmZ0U2l6ZTtpZihlPjApe2xldCBoPXRoaXMucGVha0luZGV4ZXNbZS0xXTtzPWktTWF0aC5mbG9vcigoaS1oKS8yKX1pZihlPHRoaXMubmJQZWFrcy0xKXtsZXQgaD10aGlzLnBlYWtJbmRleGVzW2UrMV07cj1pK01hdGguY2VpbCgoaC1pKS8yKX1sZXQgYz1zLWksYT1yLWk7Zm9yKHZhciBvPWM7bzxhO28rKyl7bGV0IGg9aStvLG09dStvO2lmKG0+PXRoaXMubWFnbml0dWRlcy5sZW5ndGgpYnJlYWs7bGV0IHA9MipNYXRoLlBJKihtLWgpL3RoaXMuZmZ0U2l6ZSxsPU1hdGguY29zKHAqdGhpcy50aW1lQ3Vyc29yKSxmPU1hdGguc2luKHAqdGhpcy50aW1lQ3Vyc29yKSxkPWgqMix2PWQrMSxnPXRoaXMuZnJlcUNvbXBsZXhCdWZmZXJbZF0sST10aGlzLmZyZXFDb21wbGV4QnVmZmVyW3ZdLGI9ZypsLUkqZixCPWcqZitJKmwsXz1tKjIsdz1fKzE7dGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWRbX10rPWIsdGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWRbd10rPUJ9fX19cmVnaXN0ZXJQcm9jZXNzb3IoInBoYXNlLXZvY29kZXItcHJvY2Vzc29yIixOdCk7Y2xhc3MgQ3QgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucGk9ZHQsdGhpcy5waGk9LXRoaXMucGksdGhpcy5ZMD0wLHRoaXMuWTE9MCx0aGlzLlBXPXRoaXMucGksdGhpcy5CPTIuMyx0aGlzLmRwaGlmPTAsdGhpcy5lbnZmPTB9c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiYmVnaW4iLGRlZmF1bHRWYWx1ZTowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWluOjB9LHtuYW1lOiJlbmQiLGRlZmF1bHRWYWx1ZTowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWluOjB9LHtuYW1lOiJmcmVxdWVuY3kiLGRlZmF1bHRWYWx1ZTo0NDAsbWluOk51bWJlci5FUFNJTE9OfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9LHtuYW1lOiJwdWxzZXdpZHRoIixkZWZhdWx0VmFsdWU6MSxtaW46MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfV19cHJvY2Vzcyh0LGUscyl7aWYodGhpcy5kaXNjb25uZWN0ZWQpcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PXMuYmVnaW5bMF0pcmV0dXJuITA7aWYoY3VycmVudFRpbWU+PXMuZW5kWzBdKXJldHVybiExO2NvbnN0IHI9ZVswXTtsZXQgbz0xLGk7Zm9yKGxldCB1PTA7dTwoclswXS5sZW5ndGg/PzApO3UrKyl7Y29uc3QgYz0oMS1DKHEodSxzLnB1bHNld2lkdGgpLC0uOTksLjk5KSkqdGhpcy5waSxhPXEodSxzLmRldHVuZSksaD10dChxKHUscy5mcmVxdWVuY3kpLGEvMTAwKTtpPWgqKHRoaXMucGkvKHNhbXBsZVJhdGUqLjUpKSx0aGlzLmRwaGlmKz0uMSooaS10aGlzLmRwaGlmKSxvKj0uOTk5OCx0aGlzLmVudmYrPS4xKihvLXRoaXMuZW52ZiksdGhpcy5CPTIuMyooMS0xZS00KmgpLHRoaXMuQjwwJiYodGhpcy5CPTApLHRoaXMucGhpKz10aGlzLmRwaGlmLHRoaXMucGhpPj10aGlzLnBpJiYodGhpcy5waGktPTIqdGhpcy5waSk7bGV0IG09TWF0aC5jb3ModGhpcy5waGkrdGhpcy5CKnRoaXMuWTApO3RoaXMuWTA9LjUqKG0rdGhpcy5ZMCk7bGV0IHA9TWF0aC5jb3ModGhpcy5waGkrdGhpcy5CKnRoaXMuWTErYyk7dGhpcy5ZMT0uNSoocCt0aGlzLlkxKTtmb3IobGV0IGw9MDtsPHIubGVuZ3RoO2wrKylyW2xdW3VdPS4xNSoobS1wKSp0aGlzLmVudmZ9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJwdWxzZS1vc2NpbGxhdG9yIixDdCk7Y29uc3QgbnQ9e2JpdEM6ZnVuY3Rpb24obix0LGUpe3JldHVybiBuJnQ/ZTowfSxicjpmdW5jdGlvbihuLHQ9OCl7aWYodD4zMil0aHJvdyBuZXcgRXJyb3IoImJyKCkgU2l6ZSBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIDMyIik7e2xldCBlPTA7Zm9yKGxldCBzPTA7czx0LTA7cysrKWUrPW50LmJpdEMobiwyKipzLDIqKih0LShzKzEpKSk7cmV0dXJuIGV9fSxzaW5mOmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLnNpbihuLygxMjgvTWF0aC5QSSkpfSxjb3NmOmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLmNvcyhuLygxMjgvTWF0aC5QSSkpfSx0YW5mOmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLnRhbihuLygxMjgvTWF0aC5QSSkpfSxyZWdHOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQudGVzdChuLnRvU3RyaW5nKDIpKX19O2xldCBXLGV0O2Z1bmN0aW9uIGt0KG4pe2lmKChXfHxldCk9PW51bGwpe1c9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWF0aCksZXQ9Vy5tYXAocz0+TWF0aFtzXSk7Y29uc3QgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhudCksZT10Lm1hcChzPT5udFtzXSk7Vy5wdXNoKCJpbnQiLCJ3aW5kb3ciLC4uLnQpLGV0LnB1c2goTWF0aC5mbG9vcixnbG9iYWxUaGlzLC4uLmUpfXJldHVybiBuZXcgRnVuY3Rpb24oLi4uVywidCIsYHJldHVybiAwLAoke258fDB9O2ApLmJpbmQoZ2xvYmFsVGhpcywuLi5ldCl9Y2xhc3MgenQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucG9ydC5vbm1lc3NhZ2U9dD0+e2xldHtjb2RlVGV4dDplfT10LmRhdGE7Y29uc3R7Ynl0ZUJlYXRTdGFydFRpbWU6c309dC5kYXRhO3MhPW51bGwmJih0aGlzLnQ9MCx0aGlzLmluaXRpYWxPZmZzZXQ9TWF0aC5mbG9vcihzKSksZT1lLnRyaW0oKS5yZXBsYWNlKC9eZXZhbFwodW5lc2NhcGVcKGVzY2FwZSg/OmB8XCgnfFwoInxcKGApKC4qPykoPzpgfCdcKXwiXCl8YFwpKS5yZXBsYWNlXChcL3VcKFwuXC5cKVwvZyxbIidgXVwkMSVbIidgXVwpXClcKSQvLChyLG8pPT51bmVzY2FwZShlc2NhcGUobykucmVwbGFjZSgvdSguLikvZywiJDElIikpKSx0aGlzLmZ1bmM9a3QoZSl9LHRoaXMuaW5pdGlhbE9mZnNldD1udWxsLHRoaXMudD1udWxsLHRoaXMuZnVuYz1udWxsfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6ImRldHVuZSIsZGVmYXVsdFZhbHVlOjAsbWluOk51bWJlci5ORUdBVElWRV9JTkZJTklUWSxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfV19cHJvY2Vzcyh0LGUscyl7aWYodGhpcy5kaXNjb25uZWN0ZWQpcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PXMuYmVnaW5bMF0pcmV0dXJuITA7aWYoY3VycmVudFRpbWU+PXMuZW5kWzBdKXJldHVybiExO3RoaXMudD09bnVsbCYmKHRoaXMudD1zLmJlZ2luWzBdKnNhbXBsZVJhdGUpO2NvbnN0IHI9ZVswXTtmb3IobGV0IG89MDtvPHJbMF0ubGVuZ3RoO28rKyl7Y29uc3QgaT1xKG8scy5kZXR1bmUpLHU9dHQocShvLHMuZnJlcXVlbmN5KSxpLzEwMCk7bGV0IGM9dGhpcy50LyhzYW1wbGVSYXRlLzI1NikqdSt0aGlzLmluaXRpYWxPZmZzZXQ7Y29uc3QgbT0oKHRoaXMuZnVuYyhjKSYyNTUpLzEyNy41LTEpKi4yO2ZvcihsZXQgcD0wO3A8ci5sZW5ndGg7cCsrKXJbcF1bb109QyhtLC0uNCwuNCk7dGhpcy50PXRoaXMudCsxfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiYnl0ZS1iZWF0LXByb2Nlc3NvciIsenQpfSkoKTsK";let th={};function qy(e,t){const n=Ce();if(th[e])return th[e];const i=2*n.sampleRate,r=n.createBuffer(1,i,n.sampleRate),s=r.getChannelData(0);let u=0,o,c,h,d,g,m,A;o=c=h=d=g=m=A=0;for(let C=0;C<i;C++)if(e==="white")s[C]=Math.random()*2-1;else if(e==="brown"){let v=Math.random()*2-1;s[C]=(u+.02*v)/1.02,u=s[C]}else if(e==="pink"){let v=Math.random()*2-1;o=.99886*o+v*.0555179,c=.99332*c+v*.0750759,h=.969*h+v*.153852,d=.8665*d+v*.3104856,g=.55*g+v*.5329522,m=-.7616*m-v*.016898,s[C]=o+c+h+d+g+m+A+v*.5362,s[C]*=.11,A=v*.115926}else if(e==="crackle"){const v=t*.01;Math.random()<v?s[C]=Math.random()*2-1:s[C]=0}return e!=="crackle"&&(th[e]=r),r}function nh(e="white",t,n=.02){const r=Ce().createBufferSource();return r.buffer=qy(e,n),r.loop=!0,r.start(t),{node:r,stop:s=>r.stop(s)}}function HM(e,t,n){const i=nh("pink",n);return{node:rh(e,i.node,t),stop:s=>i?.stop(s)}}const os=["pink","white","brown","crackle"];function ht(e){const t=Ce().createGain();return t.gain.value=e,t}const Hy=(e,t,n,i)=>i-n===0?0:(t-e)/(i-n);function St(e,t,n,i){const r=new AudioWorkletNode(e,t,i);return Object.entries(n).forEach(([s,u])=>{r.parameters.get(s).value=u}),r}const Xt=(e,t,n,i,r,s,u,o,c,h="exponential")=>{t=gn(t),n=gn(n),i=gn(i),r=gn(r);const d=h==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";h==="exponential"&&(s=s===0?.001:s,u=u===0?.001:u);const g=u-s,m=u,A=s+i*g,C=c-o,v=E=>{let k;if(t>E){let V=Hy(s,m,0,t);k=E*V+(s>m?s:0)}else k=(E-t)*Hy(m,A,0,n)+m;return h==="exponential"&&(k=k||.001),k};e.setValueAtTime(s,o),t>C?e[d](v(C),c):t+n>C?(e[d](v(t),o+t),e[d](v(C),c)):(e[d](v(t),o+t),e[d](v(t+n),o+t+n),e.setValueAtTime(A,c)),e[d](s,c+r)};function ih(e,t,n,i,r,s){const u={threshold:t??-3,ratio:n??10,knee:i??10,attack:r??.005,release:s??.05};return new DynamicsCompressorNode(e,u)}const Wt=(e,t="linear",n)=>{const[u,o,c,h]=e;if(u==null&&o==null&&c==null&&h==null)return n??[.001,.001,1,.01];const d=c??(u!=null&&o==null||u==null&&o==null?1:.001);return[Math.max(u??0,.001),Math.max(o??0,.001),Math.min(d,1),Math.max(h??0,.01)]};function Ui(e,t,n,i,r,s,u,o,c,h,d,g,m,A){const C="exponential",[v,E,k,V]=Wt([r,s,u,o],C,[.005,.14,0,.1]);let R,_;if(m==="ladder"?(R=St(e,"ladder-processor",{frequency:n,q:i,drive:A}),_=R.parameters.get("frequency")):(R=e.createBiquadFilter(),R.type=t,R.Q.value=i,R.frequency.value=n,_=R.frequency),(r??s??u??o??c)!==void 0){c=gn(c,1,!0),g=gn(g,0,!0);const x=Math.abs(c),T=x*g;let N=Kn(2**-T*n,0,2e4),K=Kn(2**(x-T)*n,0,2e4);return c<0&&([N,K]=[K,N]),Xt(_,v,E,k,V,N,K,h,d,C),R}return R}let Ky=e=>e<.5?1:1-(e-.5)/.5;function rh(e,t,n=0){const i=Ce();if(!n)return e;let r=i.createGain(),s=i.createGain();e.connect(r),t.connect(s),r.gain.value=Ky(n),s.gain.value=Ky(1-n);let u=i.createGain();return r.connect(u),s.connect(u),u}let KM=["linear","exponential"];function oi(e,t,n,i){if(!(t.pattack??t.pdecay??t.psustain??t.prelease??t.penv))return;const s=gn(t.penv,1,!0),u=KM[t.pcurve??0];let[o,c,h,d]=Wt([t.pattack,t.pdecay,t.psustain,t.prelease],u,[.2,.001,1,.001]),g=t.panchor??h;const m=s*100,A=0-m*g,C=m-m*g;Xt(e,o,c,h,d,A,C,n,i,u)}function ci(e,t,n){const{vibmod:i=.5,vib:r}=t;let s;if(r>0){s=Ce().createOscillator(),s.frequency.value=r;const u=Ce().createGain();return u.gain.value=i*100,s.connect(u),u.connect(e),s.start(n),s}}function li(e,t,n,i){const r=new ConstantSourceNode(e),s=ht(0);return s.connect(e.destination),r.connect(s),r.onended=()=>{try{s.disconnect()}catch{}try{r.disconnect()}catch{}t()},r.start(n),r.stop(i),r}const YM=(e,t=1,n="sine")=>{const i=Ce();let r;os.includes(n)?(r=i.createBufferSource(),r.buffer=qy(n,2),r.loop=!0):(r=i.createOscillator(),r.type=n,r.frequency.value=e),r.start();const s=new GainNode(i,{gain:t});return r.connect(s),{node:s,stop:u=>r.stop(u)}},JM=(e,t,n,i="sine")=>{const s=e.value*t,u=s*n;return YM(s,u,i)};function Qi(e,t,n){const{fmh:i=1,fmi:r,fmenv:s="exp",fmattack:u,fmdecay:o,fmsustain:c,fmrelease:h,fmvelocity:d,fmwave:g="sine",duration:m}=t;let A,C=()=>{};if(r){const E=Ce().createGain(),k=JM(e,i,r,g);if(A=k.node,C=k.stop,![u,o,c,h,d].some(V=>V!==void 0))A.connect(e);else{const[V,R,_,S]=Wt([u,o,c,h]),x=n+m;Xt(E.gain,V,R,_,S,0,1,n,x,s==="exp"?"exponential":"linear"),A.connect(E),E.connect(e)}}return{stop:C}}let Ot=[],xn=0;const cs=4;let UM=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(i){return n.lc=t.push(i),()=>{for(let s=xn+cs;s<Ot.length;)Ot[s]===i?Ot.splice(s,cs):s+=cs;let r=t.indexOf(i);~r&&(t.splice(r,1),--n.lc||n.off())}},notify(i,r){let s=!Ot.length;for(let u of t)Ot.push(u,n.value,i,r);if(s){for(xn=0;xn<Ot.length;xn+=cs)Ot[xn](Ot[xn+1],Ot[xn+2],Ot[xn+3]);Ot.length=0}},off(){},set(i){let r=n.value;r!==i&&(n.value=i,n.notify(r))},subscribe(i){let r=n.listen(i);return i(n.value),r},value:e};return n},QM=(e={})=>{let t=UM(e);return t.setKey=function(n,i){let r=t.value;typeof i>"u"&&n in t.value?(t.value={...t.value},delete t.value[n],t.notify(r,n)):t.value[n]!==i&&(t.value={...t.value,[n]:i},t.notify(r,n))},t};const sh={},uh={},Yy=e=>sh[e];function eC(e,t){var n=1024;if(e<n)return e+" B";var i=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do e/=n,++r;while(e>=n);return e.toFixed(1)+" "+i[r]}function ah(e,t){const{s:n,n:i=0,speed:r=1}=e;let s=jM(e,36),u=s-36,o,c=0;if(Array.isArray(t))c=jy(i,t.length),o=t[c];else{const g=A=>as(A)-s,m=Object.keys(t).filter(A=>!A.startsWith("_")).reduce((A,C,v)=>!A||Math.abs(g(C))<Math.abs(g(A))?C:A,null);u=-g(m),c=jy(i,t[m].length),o=t[m][c]}const h=`${n}:${c}`;let d=Math.abs(r)*Math.pow(2,u/12);return{transpose:u,sampleUrl:o,index:c,midi:s,label:h,playbackRate:d}}const oh=async(e,t,n)=>{let{sampleUrl:i,label:r,playbackRate:s}=ah(e,t);n&&(i=await n(i));const u=Ce(),o=await ls(i,u,r);return e.unit==="c"&&(s=s*o.duration),{buffer:o,playbackRate:s}},ch=async(e,t,n)=>{let{buffer:i,playbackRate:r}=await oh(e,t,n);e.speed<0&&(i=lh(i));const u=Ce().createBufferSource();u.buffer=i,u.playbackRate.value=r;const{s:o,loopBegin:c=0,loopEnd:h=1,begin:d=0,end:g=1}=e,m=d*u.buffer.duration;(o.startsWith("wt_")?1:e.loop)&&(u.loop=!0,u.loopStart=c*u.buffer.duration-m,u.loopEnd=h*u.buffer.duration-m);const C=u.buffer.duration/u.playbackRate.value,v=(g-d)*C;return{bufferSource:u,offset:m,bufferDuration:C,sliceDuration:v}},ls=(e,t,n,i=0)=>{const r=n?`sound "${n}:${i}"`:"sample";if(e=e.replace("#","%23"),!uh[e]){Pt(`[sampler] load ${r}..`,"load-sample",{url:e});const s=Date.now();uh[e]=fetch(e).then(u=>u.arrayBuffer()).then(async u=>{const o=Date.now()-s,c=eC(u.byteLength);Pt(`[sampler] load ${r}... done! loaded ${c} in ${o}ms`,"loaded-sample",{url:e});const h=await t.decodeAudioData(u);return sh[e]=h,h})}return uh[e]};function lh(e){const t=Ce(),n=t.createBuffer(e.numberOfChannels,e.length,t.sampleRate);for(let i=0;i<e.numberOfChannels;i++)n.copyToChannel(e.getChannelData(i).slice().reverse(),i,i);return n}const Jy=e=>sh[e];function Uy(e){if(e.startsWith("bubo:")){const[t,n]=e.split(":");e=`github:Bubobubobubobubo/dough-${n}`}return e}function Qy(e,t=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,i]=e.split("github:");return i=i.endsWith("/")?i.slice(0,-1):i,i.split("/").length===2&&(i+="/main"),`https://raw.githubusercontent.com/${i}/${t}`}const fh=(e,t,n=e._base||"")=>Object.entries(e).forEach(([i,r])=>{if(typeof r=="string"&&(r=[r]),typeof r!="object")throw new Error("wrong sample map format for "+i);n=r._base||n,n=Uy(n),n.startsWith("github:")&&(n=Qy(n,""));const s=u=>n+u;Array.isArray(r)?r=r.map(s):r=Object.fromEntries(Object.entries(r).map(([u,o])=>[u,(typeof o=="string"?[o]:o).map(s)])),t(i,r)});let e2={};function t2(e,t){e2[e]=t}function tC(e){const t=Object.entries(e2).find(([n])=>e.startsWith(n));if(t)return t[1]}const hh=async(e,t=e._base||"",n={})=>{if(typeof e=="string"){const s=tC(e);if(s)return s(e);if(e=Uy(e),e.startsWith("github:")&&(e=Qy(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),e.startsWith("shabda:")){let[o,c]=e.split("shabda:");e=`https://shabda.ndre.gr/${c}.json?strudel=1`}if(e.startsWith("shabda/speech")){let[o,c]=e.split("shabda/speech");c=c.startsWith("/")?c.substring(1):c;let[h,d]=c.split(":"),g="f",m="en-GB";h&&([m,g]=h.split("/")),e=`https://shabda.ndre.gr/speech/${d}.json?gender=${g}&language=${m}&strudel=1'`}if(typeof fetch!="function")return;const u=e.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(e).then(o=>o.json()).then(o=>hh(o,t||o._base||u,n)).catch(o=>{throw console.error(o),new Error(`error loading "${e}"`)})}const{prebake:i,tag:r}=n;fh(e,(s,u)=>tn(s,(o,c,h)=>dh(o,c,h,u),{type:"sample",samples:u,baseUrl:t,prebake:i,tag:r}),t)},n2=[];async function dh(e,t,n,i,r){let{s,nudge:u=0,cut:o,loop:c,clip:h=void 0,n:d=0,speed:g=1,duration:m}=t;if(g===0)return;const A=Ce();let[C,v,E,k]=Wt([t.attack,t.decay,t.sustain,t.release]);const{bufferSource:V,sliceDuration:R,offset:_}=await ch(t,i,r);if(A.currentTime>e){Pt(`[sampler] still loading sound "${s}:${d}"`,"highlight");return}if(!V){Pt(`[sampler] could not load "${s}:${d}"`,"error");return}let S=ci(V.detune,t,e);const x=e+u;V.start(x,_);const T=A.createGain(),N=V.connect(T);h==null&&c==null&&t.release==null&&(m=R);let K=e+m;Xt(N.gain,C,v,E,k,0,1,e,K,"linear"),oi(V.detune,t,e,K);const W=A.createGain();N.connect(W),V.onended=function(){V.disconnect(),S?.stop(),N.disconnect(),W.disconnect(),n()};let ee=K+k+.01;V.stop(ee);const j={node:W,bufferSource:V,stop:ne=>{V.stop(ne)}};if(o!==void 0){const ne=n2[o];ne&&(ne.node.gain.setValueAtTime(1,x),ne.node.gain.linearRampToValueAtTime(0,x+.01)),n2[o]=j}return j}const fs=128,mh="System Standard";let i2=fs;function ph(e){i2=parseInt(e)??fs}let r2=!1;function gh(e){r2=e==!0}function nC(e){return typeof e=="number"?e%5:{tri:0,triangle:0,sine:1,ramp:2,saw:3,square:4}[e]??0}const zt=QM();function tn(e,t,n={}){e=e.toLowerCase().replace(/\s+/g,"_"),zt.setKey(e,{onTrigger:t,data:n})}let s2=e=>e;function nn(e){return s2(e)}function u2(e){s2=e}function yh(e){for(const n in e)e[n.toLowerCase()]=e[n];const t=zt.get();for(const n in t){const[i,r]=n.split("_");if(!r)continue;const s=e[i];if(s){if(typeof s=="string")t[`${s}_${r}`.toLowerCase()]=t[n];else if(Array.isArray(s))for(const u of s)t[`${u}_${r}`.toLowerCase()]=t[n]}}zt.set({...t})}async function iC(e){const n=await(await fetch(e)).json();yh(n)}async function a2(...e){switch(e.length){case 1:return typeof e[0]=="string"?iC(e[0]):yh(e[0]);case 2:return yh({[e[0]]:e[1]});default:throw new Error("aliasMap expects 1 or 2 arguments, received "+e.length)}}function er(e){return typeof e!="string"?(console.warn(`getSound: expected string got "${e}". fall back to triangle`),zt.get().triangle):zt.get()[e.toLowerCase()]}const bh=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let e=await navigator.mediaDevices.enumerateDevices();e=e.filter(n=>n.kind==="audiooutput"&&n.deviceId!=="default");const t=new Map;return t.set(mh,""),e.forEach(n=>{t.set(n.label,n.deviceId)}),t};let tr={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,byteBeatExpression:"0",delayfeedback:.5,delaysync:3/16,orbit:1,i:1,velocity:1,fft:8};const rC=Object.freeze({...tr});function o2(e,t){tr[e]=t}function c2(){tr={...rC}}let Ah=new Map(Object.entries(tr));function hs(e,t){Ah.set(e,t)}function Ke(e){return Ah.get(e)}function l2(e){Object.keys(e).forEach(t=>{hs(t,e[t])})}function Mh(){Ah=new Map(Object.entries(tr))}function f2(e){Mh(),e==="1.0"&&hs("fanchor",.5)}const h2=()=>zt.set({});let ds;const Ch=()=>(ds=new AudioContext,ds),Ce=()=>ds||Ch();function d2(){return Ce().currentTime}let vh;function sC(){return vh||(vh=Ce().audioWorklet.addModule(qM)),vh}async function Ph(e={}){const{disableWorklets:t=!1,maxPolyphony:n,audioDeviceName:i=mh,multiChannelOrbits:r=!1}=e;if(ph(n),gh(r),typeof window>"u")return;const s=Ce();if(i!=null&&i!=mh)try{const o=(await bh()).get(i),c=(o??"").length>0;s.sinkId!==o&&c&&await s.setSinkId(o),Pt(`[superdough] Audio Device set to ${i}, it might take a few seconds before audio plays on all output channels`)}catch{Pt("[superdough] failed to set audio interface","warning")}if(await s.resume(),t){Pt("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await sC(),Pt("[superdough] AudioWorklets loaded")}catch(u){console.warn("could not load AudioWorklet effects",u)}Pt("[superdough] ready")}let Dh;async function Fh(e){return Dh||(Dh=new Promise(t=>{document.addEventListener("click",async function n(){document.removeEventListener("click",n),await Ph(e),t()})})),Dh}let ms,fi;function Eh(){const e=Ce(),t=e.destination.maxChannelCount;e.destination.channelCount=t,ms=new ChannelMergerNode(e,{numberOfInputs:e.destination.channelCount}),fi=new GainNode(e),ms.connect(fi),fi.connect(e.destination)}const wh=(e,t=[0,1])=>{const n=Ce();ms==null&&Eh();const i=new StereoPannerNode(n);e.connect(i);const r=new ChannelSplitterNode(n,{numberOfOutputs:i.channelCount});i.connect(r),t.forEach((s,u)=>{r.connect(ms,u%i.channelCount,s%n.destination.channelCount)})},m2=()=>{fi!=null&&(fi.gain.linearRampToValueAtTime(0,Ce().currentTime+.01),fi=null)};function uC(e,t,n,i){if(n=Kn(n,0,.98),!Be[e].delayNode){const s=Ce().createFeedbackDelay(1,t,n);s.start?.(i),ps(s,e),Be[e].delayNode=s}return Be[e].delayNode.delayTime.value!==t&&Be[e].delayNode.delayTime.setValueAtTime(t,i),Be[e].delayNode.feedback.value!==n&&Be[e].delayNode.feedback.setValueAtTime(n,i),Be[e].delayNode}function nr(e,t,n,i={}){const{shape:r=0,...s}=i,{dcoffset:u=-.5,depth:o=1}=i,c={frequency:1,depth:o,skew:.5,phaseoffset:0,time:t,begin:t,end:n,shape:nC(r),dcoffset:u,min:u*o,max:u*o+o,curve:1,...s};return St(e,"lfo-processor",c)}function aC(e,t,n=1,i=.5,r=1e3,s=2e3){const u=Ce(),o=nr(u,e,t,{frequency:n,depth:s*2}),c=2;let h=0;const d=[];for(let g=0;g<c;g++){const m=u.createBiquadFilter();m.type="notch",m.gain.value=1,m.frequency.value=r+h,m.Q.value=2-Math.min(Math.max(i*2,0),1.9),o.connect(m.detune),h+=282,g>0&&d[g-1].connect(m),d.push(m)}return d[d.length-1]}function oC(e){e=e??0;const t=["12db","ladder","24db"];return typeof e=="number"?t[Math.floor(zy(e,t.length))]:e}let Be={};function ps(e,t){Be[t]==null&&Qf(new Error("target orbit does not exist"),"superdough"),e.connect(Be[t].gain)}function cC(e,t,n){Be[t]==null&&(Be[t]={gain:new GainNode(e,{gain:1,channelCount:2,channelCountMode:"explicit"})},wh(Be[t].gain,n))}function lC(e,t,n,i=.1,r=1){[t].flat().forEach(u=>{if(Be[u]==null){Qf(new Error(`duck target orbit ${u} does not exist`),"superdough");return}li(e,()=>{Be[u].gain.gain.cancelScheduledValues(n);const o=Be[u].gain.gain.value;Be[u].gain.gain.linearRampToValueAtTime(Kn(1-Math.pow(r,.5),.01,o),n),Be[u].gain.gain.exponentialRampToValueAtTime(1,n+Math.max(.002,i))},0,n-.01)})}let hi=(e,t)=>e!==void 0&&e!==t;function fC(e,t,n,i,r,s,u,o){if(!Be[e].reverbNode){const h=Ce().createReverb(t,n,i,r,s,u,o);ps(h,e),Be[e].reverbNode=h}return(hi(t,Be[e].reverbNode.duration)||hi(n,Be[e].reverbNode.fade)||hi(i,Be[e].reverbNode.lp)||hi(r,Be[e].reverbNode.dim)||hi(u,Be[e].reverbNode.irspeed)||hi(o,Be[e].reverbNode.irbegin)||Be[e].reverbNode.ir!==s)&&Be[e].reverbNode.generate(t,n,i,r,s,u,o),Be[e].reverbNode}a.analysers={},a.analysersData={};function Sh(e,t=1024,n=.5){if(!a.analysers[e]){const i=Ce().createAnalyser();i.fftSize=t,i.smoothingTimeConstant=n,a.analysers[e]=i,a.analysersData[e]=new Float32Array(a.analysers[e].frequencyBinCount)}return a.analysers[e].fftSize!==t&&(a.analysers[e].fftSize=t,a.analysersData[e]=new Float32Array(a.analysers[e].frequencyBinCount)),a.analysers[e]}function ir(e="time",t=1){const n={time:()=>a.analysers[t]?.getFloatTimeDomainData(a.analysersData[t]),frequency:()=>a.analysers[t]?.getFloatFrequencyData(a.analysersData[t])}[e];if(!n)throw new Error(`getAnalyzerData: ${e} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),a.analysersData[t]}function Bh(e,t,n){const i=ht(n);return e.connect(i),i.connect(t),i}function p2(){Be={},a.analysers={},a.analysersData={}}let rr=new Map;function g2(e){return(Array.isArray(e)?e:[e]).map(t=>t-1)}const gs=async(e,t,n,i=.5,r=.5)=>{const s=Ce();let{stretch:u}=e;if(u!=null&&(t=t-.04),typeof e!="object")throw new Error(`expected hap.value to be an object, but got "${e}". Hint: append .note() or .s() to the end`,"error");if(e.duration=n,t<s.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${t.toFixed(2)}, now: ${s.currentTime.toFixed(2)})`);return}let{tremolo:o,tremolosync:c,tremolodepth:h=1,tremoloskew:d,tremolophase:g=0,tremoloshape:m,s:A=Ke("s"),bank:C,source:v,gain:E=Ke("gain"),postgain:k=Ke("postgain"),density:V=Ke("density"),duckorbit:R,duckattack:_,duckdepth:S,fanchor:x=Ke("fanchor"),drive:T=.69,release:N=0,cutoff:K,lpenv:W,lpattack:ee,lpdecay:z,lpsustain:j,lprelease:ne,resonance:ye=Ke("resonance"),hpenv:pe,hcutoff:fe,hpattack:ue,hpdecay:Ie,hpsustain:nt,hprelease:ce,hresonance:O=Ke("hresonance"),bpenv:Ye,bandf:_e,bpattack:it,bpdecay:be,bpsustain:Je,bprelease:we,bandq:Ue=Ke("bandq"),phaserrate:It,phaserdepth:Dt=Ke("phaserdepth"),phasersweep:Ne,phasercenter:Gn,coarse:We,crush:cn,dry:Mt,shape:Nt,shapevol:Kt=Ke("shapevol"),distort:Zn,distortvol:ln=Ke("distortvol"),pan:Pn,vowel:Dn,delay:mt=Ke("delay"),delayfeedback:Fn=Ke("delayfeedback"),delaysync:Me=Ke("delaysync"),delaytime:Ve,orbit:te=Ke("orbit"),room:je,roomfade:xe,roomlp:Bi,roomdim:Er,roomsize:Ft,ir:Xn,irspeed:fn,irbegin:$e,i:ri=Ke("i"),velocity:si=Ke("velocity"),analyze:Le,fft:at=Ke("fft"),compressor:hn,compressorRatio:Wn,compressorKnee:_i,compressorAttack:wr,compressorRelease:Sr}=e;Ve=Ve??$M(Me,i);const l=g2(r2&&te>0?[te*2-1,te*2]:Ke("channels")),y=e.channels!=null?g2(e.channels):l;cC(s,te,y),R!=null&&lC(s,R,t,_,S),E=nn(gn(E,1)),k=nn(k),Kt=nn(Kt),ln=nn(ln),mt=nn(mt),si=nn(si),h=nn(h),E*=si;const p=t+n,b=p+N,D=Math.round(Math.random()*1e6);for(let Ae=0;Ae<=rr.size-i2;Ae++){const pt=rr.entries().next(),Ge=pt.value[1],Et=pt.value[0],nu=t+.25;Ge?.node?.gain?.linearRampToValueAtTime(0,nu),Ge?.stop?.(nu),rr.delete(Et)}let I=[];if(["-","~","_"].includes(A))return;C&&A&&(A=`${C}_${A}`,e.s=A);let G;if(v)G=v(t,e,n,i);else if(er(A)){const{onTrigger:Ae}=er(A),Ge=await Ae(t,e,()=>{I.forEach(Et=>Et?.disconnect()),rr.delete(D)});Ge&&(G=Ge.node,rr.set(D,Ge))}else throw new Error(`sound ${A} not found! Is it loaded?`);if(!G)return;if(s.currentTime>t){Pt("[webaudio] skip hap: still loading",s.currentTime-t);return}const X=[];X.push(G),u!==void 0&&X.push(St(s,"phase-vocoder-processor",{pitchFactor:u})),X.push(ht(E));const J=oC(e.ftype);if(K!==void 0){let Ae=()=>Ui(s,"lowpass",K,ye,ee,z,j,ne,W,t,p,x,J,T);X.push(Ae()),J==="24db"&&X.push(Ae())}if(fe!==void 0){let Ae=()=>Ui(s,"highpass",fe,O,ue,Ie,nt,ce,pe,t,p,x);X.push(Ae()),J==="24db"&&X.push(Ae())}if(_e!==void 0){let Ae=()=>Ui(s,"bandpass",_e,Ue,it,be,Je,we,Ye,t,p,x);X.push(Ae()),J==="24db"&&X.push(Ae())}if(Dn!==void 0){const Ae=s.createVowelFilter(Dn);X.push(Ae)}if(We!==void 0&&X.push(St(s,"coarse-processor",{coarse:We})),cn!==void 0&&X.push(St(s,"crush-processor",{crush:cn})),Nt!==void 0&&X.push(St(s,"shape-processor",{shape:Nt,postgain:Kt})),Zn!==void 0&&X.push(St(s,"distort-processor",{distort:Zn,postgain:ln})),c!=null&&(o=i*c),o!==void 0){const Ae=Math.max(1-h,0),pt=new GainNode(s,{gain:Ae}),Ge=r/i;nr(s,t,b,{skew:d??(m!=null?.5:1),frequency:o,depth:h,time:Ge,dcoffset:0,shape:m,phaseoffset:g,min:0,max:1,curve:1.5}).connect(pt.gain),X.push(pt)}if(hn!==void 0&&X.push(ih(s,hn,Wn,_i,wr,Sr)),Pn!==void 0){const Ae=s.createStereoPanner();Ae.pan.value=2*Pn-1,X.push(Ae)}if(It!==void 0&&Dt>0){const Ae=aC(t,b,It,Dt,Gn,Ne);X.push(Ae)}const he=new GainNode(s,{gain:k});X.push(he);let Re;if(mt>0&&Ve>0&&Fn>0){const Ae=uC(te,Ve,Fn,t);Re=Bh(he,Ae,mt),I.push(Re)}let Lt;if(je>0){let Ae;if(Xn!==void 0){let Ge,Et=er(Xn);Array.isArray(Et)?Ge=Et.data.samples[ri%Et.data.samples.length]:typeof Et=="object"&&(Ge=Object.values(Et.data.samples).flat()[ri%Object.values(Et.data.samples).length]),Ae=await ls(Ge,s,Xn,0)}const pt=fC(te,Ft,xe,Bi,Er,Ae,fn,$e);Lt=Bh(he,pt,je),I.push(Lt)}let Yt;if(Le){const Ae=Sh(Le,2**(at+5));Yt=Bh(he,Ae,1),I.push(Yt)}if(Mt!=null){Mt=nn(Mt);const Ae=new GainNode(s,{gain:Mt});X.push(Ae),ps(Ae,te)}else ps(he,te);X.slice(1).reduce((Ae,pt)=>Ae.connect(pt),X[0]),I=I.concat(X)},y2=(e,t,n,i)=>{gs(t,e-n,t.duration/i,i)},sr=(e,t=36)=>{let{note:n,freq:i}=e;return n=n||t,typeof n=="string"&&(n=as(n)),!i&&typeof n=="number"&&(i=Oy(n)),Number(i)};function ys(e){e!=null&&(e.disconnect(),e.parameters.get("end")?.setValueAtTime(0,0))}const hC=["triangle","square","sawtooth","sine"],dC=[["tri","triangle"],["sqr","square"],["saw","sawtooth"],["sin","sine"]];function mC(e,t){const n=e,i=new Float32Array(t);for(let r=0;r<t;r++){const s=r*2/t-1;i[r]=Math.tanh(s*n)}return i}function _h(){[...hC].forEach(e=>{tn(e,(t,n,i)=>{const[r,s,u,o]=Wt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c=kh(e,t,n),{node:h,stop:d,triggerRelease:g}=c;const m=ht(.3),{duration:A}=n;h.onended=()=>{h.disconnect(),m.disconnect(),i()};const C=ht(1);let v=h.connect(m).connect(C);const E=t+A;Xt(v.gain,r,s,u,o,0,1,t,E,"linear");const k=E+o+.01;return g?.(k),d(k),{node:v,stop:V=>{d(V)}}},{type:"synth",prebake:!0})}),tn("sbd",(e,t,n)=>{const{duration:i,decay:r=.5,pdecay:s=.5,penv:u=36,clip:o}=t,c=Ce(),h=.02,d=1.2,g=.025,m=1,A=c.createOscillator();A.type="triangle",A.frequency.value=sr(t,29),A.detune.setValueAtTime(u*100,0),A.detune.setValueAtTime(u*100,e),A.detune.exponentialRampToValueAtTime(.001,e+s);const C=ht(1);C.gain.setValueAtTime(1,e+h),C.gain.exponentialRampToValueAtTime(.001,e+h+r),A.start(e);const v=nh("brown",e,2),E=ht(1);E.gain.setValueAtTime(d,e),E.gain.exponentialRampToValueAtTime(.001,e+g);const k=new WaveShaperNode(c);k.curve=mC(2,c.sampleRate);const V=ht(m);A.onended=()=>{A.disconnect(),C.disconnect(),k.disconnect(),v.node.disconnect(),E.disconnect(),V.disconnect(),n()};const R=A.connect(k).connect(C).connect(V);v.node.connect(E).connect(V);let S=e+r+.01;return o!=null&&(S=Math.min(e+o*i,S)),V.gain.setValueAtTime(m,S-.01),V.gain.linearRampToValueAtTime(0,S),A.stop(S),v.stop(S),{node:R,stop:x=>{A.stop(x)}}},{type:"synth",prebake:!0}),tn("supersaw",(e,t,n)=>{const i=Ce();let{duration:r,n:s,unison:u=5,spread:o=.6,detune:c}=t;c=c??s??.18;const h=sr(t),[d,g,m,A]=Wt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),C=e+r,v=C+A+.01,E=Kn(u,1,100);let k=E>1?Kn(o,0,1):0,V=St(i,"supersaw-oscillator",{frequency:h,begin:e,end:v,freqspread:c,voices:E,panspread:k},{outputChannelCount:[2]});const R=1/Math.sqrt(E);oi(V.parameters.get("detune"),t,e,C);const _=ci(V.parameters.get("detune"),t,e),S=Qi(V.parameters.get("frequency"),t,e);let x=ht(1);x=V.connect(x),Xt(x.gain,d,g,m,A,0,.3*R,e,C,"linear");let T=li(i,()=>{ys(V),x.disconnect(),n(),S?.stop(),_?.stop()},e,v);return{node:x,stop:N=>{T.stop(N)}}},{prebake:!0,type:"synth"}),tn("bytebeat",(e,t,n)=>{const i=["(t%255 >= t/255%255)*255","(t*(t*8%60 <= 300)|(-t)*(t*4%512 < 256))+t/400","t","t*(t >> 10^t)","t&128","t&t>>8","((t%255+t%128+t%64+t%32+t%16+t%127.8+t%64.8+t%32.8+t%16.8)/3)","((t%64+t%63.8+t%64.15+t%64.35+t%63.5)/1.25)","(t&(t>>7)-t)","(sin(t*PI/128)*127+127)","((t^t/2+t+64*(sin((t*PI/64)+(t*PI/32768))+64))%128*2)","((t^t/2+t+64*(cos >> 0))%127.85*2)","((t^t/2+t+64)%128*2)","(((t * .25)^(t * .25)/100+(t * .25))%128)*2","((t^t/2+t+64)%7 * 24)"],{n:r=0}=t,s=sr(t),{byteBeatExpression:u=i[r%i.length],byteBeatStartTime:o}=t,c=Ce();let{duration:h}=t;const[d,g,m,A]=Wt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),C=e+h,v=C+A+.01;let E=St(c,"byte-beat-processor",{frequency:s,begin:e,end:v},{outputChannelCount:[2]});E.port.postMessage({codeText:u,byteBeatStartTime:o,frequency:s});let k=ht(1);k=E.connect(k),Xt(k.gain,d,g,m,A,0,1,e,C,"linear");let V=li(c,()=>{ys(E),k.disconnect(),n()},e,v);return{node:k,stop:R=>{V.stop(R)}}},{prebake:!0,type:"synth"}),tn("pulse",(e,t,n)=>{const i=Ce();let{pwrate:r,pwsweep:s}=t;s==null&&(r!=null?s=.3:s=0),r==null&&s!=null&&(r=1);let{duration:u,pw:o=.5}=t;const c=sr(t),[h,d,g,m]=Wt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),A=e+u,C=A+m+.01;let v=St(i,"pulse-oscillator",{frequency:c,begin:e,end:C,pulsewidth:o},{outputChannelCount:[2]});oi(v.parameters.get("detune"),t,e,A);const E=ci(v.parameters.get("detune"),t,e),k=Qi(v.parameters.get("frequency"),t,e);let V=ht(1);V=v.connect(V),Xt(V.gain,h,d,g,m,0,1,e,A,"linear");let R;s!=0&&(R=nr(i,e,C,{frequency:r,depth:s}),R.connect(v.parameters.get("pulsewidth")));let _=li(i,()=>{ys(v),ys(R),V.disconnect(),n(),k?.stop(),E?.stop()},e,C);return{node:V,stop:S=>{_.stop(S)}}},{prebake:!0,type:"synth"}),[...os].forEach(e=>{tn(e,(t,n,i)=>{const[r,s,u,o]=Wt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c,{density:h}=n;c=nh(e,t,h);let{node:d,stop:g,triggerRelease:m}=c;const A=ht(.3),{duration:C}=n;d.onended=()=>{d.disconnect(),A.disconnect(),i()};const v=ht(1);let E=d.connect(A).connect(v);const k=t+C;Xt(E.gain,r,s,u,o,0,1,t,k,"linear");const V=k+o+.01;return m?.(V),g(V),{node:E,stop:R=>{g(R)}}},{type:"synth",prebake:!0})}),dC.forEach(([e,t])=>zt.set({...zt.get(),[e]:zt.get()[t]}))}function xh(e,t){const n=new Float32Array(e+1),i=new Float32Array(e+1),r=Ce(),s=r.createOscillator(),u={sawtooth:h=>[0,-1/h],square:h=>[0,h%2===0?0:1/h],triangle:h=>[h%2===0?0:1/(h*h),0]};if(!u[t])throw new Error(`unknown wave type ${t}`);n[0]=0,i[0]=0;let o=1;for(;o<=e;){const[h,d]=u[t](o);n[o]=h,i[o]=d,o++}const c=r.createPeriodicWave(n,i);return s.setPeriodicWave(c),s}function kh(e,t,n){let{n:i,duration:r,noise:s=0}=n,u;!i||e==="sine"?(u=Ce().createOscillator(),u.type=e||"triangle"):u=xh(i,e),u.frequency.value=sr(n),u.start(t);let o=ci(u.detune,n,t);oi(u.detune,n,t,t+r);const c=Qi(u.frequency,n,t);let h;return s&&(h=HM(u,s,t)),{node:h?.node||u,stop:d=>{c.stop(d),o?.stop(d),h?.stop(d),u.stop(d)},triggerRelease:d=>{}}}function pC(e=1,t=.05,n=220,i=0,r=0,s=.1,u=0,o=1,c=0,h=0,d=0,g=0,m=0,A=0,C=0,v=0,E=0,k=1,V=0,R=0){let _=Math.PI*2,S=Ce().sampleRate,x=Ie=>Ie>0?1:-1,T=c*=500*_/S/S,N=n*=(1+t*2*Math.random()-t)*_/S,K=[],W=0,ee=0,z=0,j=1,ne=0,ye=0,pe=0,fe,ue;for(i=i*S+9,V*=S,r*=S,s*=S,E*=S,h*=500*_/S**3,C*=_/S,d*=_/S,g*=S,m=m*S|0,ue=i+V+r+s+E|0;z<ue;K[z++]=pe)++ye%(v*100|0)||(pe=u?u>1?u>2?u>3?Math.sin((W%_)**3):Math.max(Math.min(Math.tan(W),1),-1):1-(2*W/_%2+2)%2:1-4*Math.abs(Math.round(W/_)-W/_):Math.sin(W),pe=(m?1-R+R*Math.sin(_*z/m):1)*x(pe)*Math.abs(pe)**o*e*1*(z<i?z/i:z<i+V?1-(z-i)/V*(1-k):z<i+V+r?k:z<ue-E?(ue-z-E)/s*k:0),pe=E?pe/2+(E>z?0:(z<ue-E?1:(ue-z)/E)*K[z-E|0]/2):pe),fe=(n+=c+=h)*Math.cos(C*ee++),W+=fe-fe*A*(1-(Math.sin(z)+1)*1e9%2),j&&++j>g&&(n+=d,N+=d,j=0),m&&!(++ne%m)&&(n=N,c=T,j||=1);return K}const Vh=(e,t)=>{let{s:n,note:i=36,freq:r,zrand:s=0,attack:u=0,decay:o=0,sustain:c=.8,release:h=.1,curve:d=1,slide:g=0,deltaSlide:m=0,pitchJump:A=0,pitchJumpTime:C=0,lfo:v=0,znoise:E=0,zmod:k=0,zcrush:V=0,zdelay:R=0,tremolo:_=0,duration:S=.2,zzfx:x}=e;const T=Math.max(S-u-o,0);typeof i=="string"&&(i=as(i)),!r&&typeof i=="number"&&(r=Oy(i)),n=n.replace("z_","");const N=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;d=n==="square"?0:d;const W=pC(...x||[.25,s,r,u,T,h,N,d,g,m,A,C,v,E,k,V,R,c,o,_]),ee=Ce(),z=ee.createBuffer(1,W.length,ee.sampleRate);z.getChannelData(0).set(W);const j=Ce().createBufferSource();return j.buffer=z,j.start(t),{node:j}};function b2(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(e=>{tn(e,(t,n,i)=>{const{node:r}=Vh({s:e,...n},t);return r.onended=()=>{r.disconnect(),i()},{node:r,stop:()=>{}}},{type:"synth",prebake:!0})})}let di;async function Th(e,t){const n=`dsp-worklet-${Date.now()}`,i=`${t}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,s=`data:text/javascript;base64,${btoa(i)}`;await e.audioWorklet.addModule(s);const u=new AudioWorkletNode(e,n);return{node:u,stop:()=>u.port.postMessage("stop")}}const A2=()=>{di&&(di?.stop(),di?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",e=>{e.data==="strudel-stop"?A2():e.data?.dough&&di?.node.port.postMessage(e.data)});const M2=async e=>{const t=Ce();A2(),di=await Th(t,e),di.node.connect(t.destination)};function Ih(e,t,n,i){window.postMessage({time:i,dough:e.value,currentTime:t,duration:e.duration,cps:n})}const{Pattern:gC,logger:yC,repl:bC}=Xy;eh(yC);const AC=e=>(e.ensureObjectValue(),e.value),Nh=(e,t,n,i,r)=>gs(AC(e),r,n,i,e.whole?.begin.valueOf());function Lh(e={}){return e={getTime:()=>Ce().currentTime,defaultOutput:Nh,...e},bC(e)}gC.prototype.dough=function(){return this.onTrigger(Ih,1)};const Yn=(e="test-canvas",t)=>{let{contextType:n="2d",pixelated:i=!1,pixelRatio:r=window.devicePixelRatio}={},s=document.querySelector("#"+e);if(!s){s=document.createElement("canvas"),s.id=e,s.width=window.innerWidth*r,s.height=window.innerHeight*r,s.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",i&&(s.style.imageRendering="pixelated"),document.body.prepend(s);let u;window.addEventListener("resize",()=>{u&&clearTimeout(u),u=setTimeout(()=>{s.width=window.innerWidth*r,s.height=window.innerHeight*r},200)})}return s.getContext(n,{willReadFrequently:!0})};let ur={};function MC(e){ur[e]!==void 0&&(cancelAnimationFrame(ur[e]),delete ur[e])}let yn={};q.prototype.draw=function(e,t){if(typeof window>"u")return this;let{id:n=1,lookbehind:i=0,lookahead:r=0}=t,s=Math.max(us(),0);MC(n),i=Math.abs(i),yn[n]=(yn[n]||[]).filter(h=>!h.isInFuture(s));let u=this.queryArc(s,s+r).filter(h=>h.hasOnset());yn[n]=yn[n].concat(u);let o;const c=()=>{const h=us(),d=h+r;yn[n]=yn[n].filter(A=>A.isInNearPast(i,h));let g=Math.max(o||d,d-1/10);const m=this.queryArc(g,d).filter(A=>A.hasOnset());yn[n]=yn[n].concat(m),o=d,e(yn[n],h,d,this),ur[n]=requestAnimationFrame(c)};return ur[n]=requestAnimationFrame(c),this},q.prototype.onPaint=function(e){return this.withState(t=>{t.controls.painters||(t.controls.painters=[]),t.controls.painters.push(e)})},q.prototype.getPainters=function(){let e=[];return this.queryArc(0,0,{painters:e}),e};let CC={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function bn(){return CC}let C2="#22222210";q.prototype.animate=function({callback:e,sync:t=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const i=Yn();let{clientWidth:r,clientHeight:s}=i.canvas;r*=window.devicePixelRatio,s*=window.devicePixelRatio;let u=n===0?"99":Number((1-n)*100).toFixed(0);u=u.length===1?`0${u}`:u,C2=`#200010${u}`;const o=c=>{let h;c=Math.round(c),h=this.slow(1e3).queryArc(c,c),i.fillStyle=C2,i.fillRect(0,0,r,s),h.forEach(d=>{let{x:g,y:m,w:A,h:C,s:v,r:E,angle:k=0,fill:V="darkseagreen"}=d.value;if(A*=r,C*=s,E!==void 0&&k!==void 0){const _=k*2*Math.PI,[S,x]=[(r-A)/2,(s-C)/2];g=S+Math.cos(_)*E*S,m=x+Math.sin(_)*E*x}else g*=r-A,m*=s-C;const R={...d.value,x:g,y:m,w:A,h:C};i.fillStyle=V,v==="rect"?i.fillRect(g,m,A,C):v==="ellipse"&&(i.beginPath(),i.ellipse(g+A/2,m+C/2,A/2,C/2,0,0,2*Math.PI),i.fill()),e&&e(i,R,d)}),window.frame=requestAnimationFrame(o)};return window.frame=requestAnimationFrame(o),Se};const{x:v2,y:QF,w:eE,h:tE,angle:nE,r:iE,fill:rE,smear:sE}=qr("x","y","w","h","angle","r","fill","smear");L("rescale",function(e,t){return t.mul(v2(e).w(e).y(e).h(e))}),L("moveXY",function(e,t,n){return n.add(v2(e).y(t))}),L("zoomIn",function(e,t){const n=He(1).sub(e).div(2);return t.rescale(e).move(n,n)});const ar=(e,t,n)=>e*(n-t)+t,P2=e=>{let{value:t}=e;typeof e.value!="object"&&(t={value:t});let{note:n,n:i,freq:r,s}=t;if(r)return kr(r);if(n=n??i,typeof n=="string")try{return mn(n)}catch{return 0}return typeof n=="number"?n:s?"_"+s:t};q.prototype.pianoroll=function(e={}){let{cycles:t=4,playhead:n=.5,overscan:i=0,hideNegative:r=!1,ctx:s=Yn(),id:u=1}=e,o=-t*n,c=t*(1-n);const h=(d,g)=>(!r||d.whole.begin>=0)&&d.isWithinTime(g+o,g+c);return this.draw((d,g)=>{D2({...e,time:g,ctx:s,haps:d.filter(m=>h(m,g))})},{lookbehind:o-i,lookahead:c+i,id:u}),this};function D2({time:e,haps:t,cycles:n=4,playhead:i=.5,flipTime:r=0,flipValues:s=0,hideNegative:u=!1,inactive:o=bn().foreground,active:c=bn().foreground,background:h="transparent",smear:d=0,playheadColor:g=bn().foreground,minMidi:m=10,maxMidi:A=90,autorange:C=0,timeframe:v,fold:E=1,vertical:k=0,labels:V=!1,fill:R=1,fillActive:_=!1,strokeActive:S=!0,stroke:x,hideInactive:T=0,colorizeInactive:N=1,fontFamily:K,ctx:W,id:ee}={}){const z=W.canvas.width,j=W.canvas.height;let ne=-n*i,ye=n*(1-i);ee&&(t=t.filter(we=>we.hasTag(ee))),v&&(console.warn("timeframe is deprecated! use from/to instead"),ne=0,ye=v);const pe=k?j:z,fe=k?z:j;let ue=k?[pe,0]:[0,pe];const Ie=ye-ne,nt=k?[0,fe]:[fe,0];let ce=A-m+1,O=fe/ce,Ye=[];r&&ue.reverse(),s&&nt.reverse();const{min:_e,max:it,values:be}=t.reduce(({min:we,max:Ue,values:It},Dt)=>{const Ne=P2(Dt);return{min:Ne<we?Ne:we,max:Ne>Ue?Ne:Ue,values:It.includes(Ne)?It:[...It,Ne]}},{min:1/0,max:-1/0,values:[]});C&&(m=_e,A=it,ce=A-m+1),Ye=be.sort((we,Ue)=>typeof we=="number"&&typeof Ue=="number"?we-Ue:typeof we=="number"?1:String(we).localeCompare(String(Ue))),O=E?fe/Ye.length:fe/ce,W.fillStyle=h,W.globalAlpha=1,d||(W.clearRect(0,0,z,j),W.fillRect(0,0,z,j)),t.forEach(we=>{const Ue=we.whole.begin<=e&&we.endClipped>e;let It=x??(S&&Ue),Dt=!Ue&&R||Ue&&_;if(T&&!Ue)return;let Ne=we.value?.color;c=Ne||c,o=N&&Ne||o,Ne=Ue?c:o,W.fillStyle=Dt?Ne:"transparent",W.strokeStyle=Ne;const{velocity:Gn=1,gain:We=1}=we.value||{};W.globalAlpha=Gn*We;const cn=(we.whole.begin-(r?ye:ne))/Ie,Mt=ar(cn,...ue);let Nt=ar(we.duration/Ie,0,pe);const Kt=P2(we),Zn=E?Ye.indexOf(Kt)/Ye.length:(Number(Kt)-m)/ce,ln=ar(Zn,...nt);let Pn=0;const Dn=ar(e/Ie,...ue);let mt;if(k?mt=[ln+1-(s?O:0),pe-Dn+Mt+Pn+1-(r?0:Nt),O-2,Nt-2]:mt=[Mt-Dn+Pn+1-(r?Nt:0),ln+1-(s?0:O),Nt-2,O-2],It&&W.strokeRect(...mt),Dt&&W.fillRect(...mt),V){const Fn=we.value.note??we.value.s+(we.value.n?`:${we.value.n}`:""),{label:Me,activeLabel:Ve}=we.value,je=(Ue&&Ve||Me)??Fn;let xe=k?Nt:O*.75;W.font=`${xe}px ${K||"monospace"}`,W.fillStyle=Dt?"black":Ne,W.textBaseline="top",W.fillText(je,...mt)}}),W.globalAlpha=1;const Je=ar(-ne/Ie,...ue);return W.strokeStyle=g,W.beginPath(),k?(W.moveTo(0,Je),W.lineTo(fe,Je)):(W.moveTo(Je,0),W.lineTo(Je,fe)),W.stroke(),this}function vC(e,t={}){let[n,i]=e;n=Math.abs(n);const r=i+n,s=r!==0?n/r:0;return{fold:1,...t,cycles:r,playhead:s}}const PC=(e={})=>(t,n,i,r)=>D2({ctx:t,time:n,haps:i,...vC(r,e)});q.prototype.punchcard=function(e){return this.onPaint(PC(e))},q.prototype.wordfall=function(e){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...e})};function DC(e,t,n,i){const r=(e-90)*Math.PI/180;return[n+Math.cos(r)*t,i+Math.sin(r)*t]}const F2=(e,t,n,i,r=0)=>DC((e+r)*360,t*e,n,i);function E2(e){let{ctx:t,from:n=0,to:i=3,margin:r=50,cx:s=100,cy:u=100,rotate:o=0,thickness:c=r/2,color:h=bn().foreground,cap:d="round",stretch:g=1,fromOpacity:m=1,toOpacity:A=1}=e;n*=g,i*=g,o*=g,t.lineWidth=c,t.lineCap=d,t.strokeStyle=h,t.globalAlpha=m,t.beginPath();let[C,v]=F2(n,r,s,u,o);t.moveTo(C,v);const E=1/60;let k=n;for(;k<=i;){const[V,R]=F2(k,r,s,u,o);t.globalAlpha=(k-n)/(i-n)*A,t.lineTo(V,R),k+=E}t.stroke()}function FC(e){let{stretch:t=1,size:n=80,thickness:i=n/2,cap:r="butt",inset:s=3,playheadColor:u="#ffffff",playheadLength:o=.02,playheadThickness:c=i,padding:h=0,steady:d=1,activeColor:g=bn().foreground,inactiveColor:m=bn().gutterForeground,colorizeInactive:A=0,fade:C=!0,ctx:v,time:E,haps:k,drawTime:V,id:R}=e;R&&(k=k.filter(z=>z.hasTag(R)));const[_,S]=[v.canvas.width,v.canvas.height];v.clearRect(0,0,_*2,S*2);const[x,T]=[_/2,S/2],N={margin:n/t,cx:x,cy:T,stretch:t,cap:r,thickness:i},K={...N,thickness:c,from:s-o,to:s,color:u},[W]=V,ee=d*E;k.forEach(z=>{const j=z.whole.begin<=E&&z.endClipped>E,ne=z.whole.begin-E+s,ye=z.endClipped-E+s-h,pe=z.value?.color||g,fe=A||j?pe:m,ue=C?1-Math.abs((z.whole.begin-E)/W):1;E2({ctx:v,...N,from:ne,to:ye,rotate:ee,color:fe,fromOpacity:ue,toOpacity:ue})}),E2({ctx:v,...K,rotate:ee})}q.prototype.spiral=function(e={}){return this.onPaint((t,n,i,r)=>FC({ctx:t,time:n,haps:i,drawTime:r,...e}))};const EC=_n(36),w2=(e,t,n,i)=>{i=i*Math.PI*2;const r=Math.sin(i)*n+e,s=Math.cos(i)*n+t;return[r,s]},S2=(e,t)=>.5-Math.log2(e/t)%1;function wC({haps:e,ctx:t,id:n,hapcircles:i=1,circle:r=0,edo:s=12,root:u=EC,thickness:o=3,hapRadius:c=6,mode:h="flake",margin:d=10}={}){const g=h==="polygon",m=h==="flake",A=t.canvas.width,C=t.canvas.height;t.clearRect(0,0,A,C);const v=bn().foreground,k=Math.min(A,C)/2-o/2-c-d,V=A/2,R=C/2;n&&(e=e.filter(S=>S.hasTag(n))),t.strokeStyle=v,t.fillStyle=v,t.globalAlpha=1,t.lineWidth=o,r&&(t.beginPath(),t.arc(V,R,k,0,2*Math.PI),t.stroke()),s&&(Array.from({length:s},(S,x)=>{const T=S2(u*Math.pow(2,x/s),u),[N,K]=w2(V,R,k,T);t.beginPath(),t.arc(N,K,c,0,2*Math.PI),t.fill()}),t.stroke());let _=[];t.lineWidth=c,e.forEach(S=>{let x;try{x=pu(S)}catch{return}const T=S2(x,u),[N,K]=w2(V,R,k,T),W=S.value.color||v;t.strokeStyle=W,t.fillStyle=W;const{velocity:ee=1,gain:z=1}=S.value||{},j=ee*z;t.globalAlpha=j,_.push([N,K,T,W,j]),t.beginPath(),i&&(t.moveTo(N+c,K),t.arc(N,K,c,0,2*Math.PI),t.fill()),m&&(t.moveTo(V,R),t.lineTo(N,K)),t.stroke()}),t.strokeStyle=v,t.globalAlpha=1,g&&_.length&&(_=_.sort((S,x)=>S[2]-x[2]),t.beginPath(),t.moveTo(_[0][0],_[0][1]),_.forEach(([S,x,T,N,K])=>{t.strokeStyle=N,t.globalAlpha=K,t.lineTo(S,x)}),t.lineTo(_[0][0],_[0][1]),t.stroke())}q.prototype.pitchwheel=function(e={}){let{ctx:t=Yn(),id:n=1}=e;return this.tag(n).onPaint((i,r,s)=>wC({...e,time:r,ctx:t,haps:s.filter(u=>u.isActive(r)),id:n}))};function Rh(e,{align:t=!0,color:n="white",thickness:i=3,scale:r=.25,pos:s=.75,trigger:u=0,ctx:o=Yn(),id:c=1}={}){o.lineWidth=i,o.strokeStyle=n;let h=o.canvas;if(!e){o.beginPath();let v=s*h.height;o.moveTo(0,v),o.lineTo(h.width,v),o.stroke();return}const d=ir("time",c);o.beginPath();const g=e.frequencyBinCount;let m=t?Array.from(d).findIndex((v,E,k)=>E&&k[E-1]>-u&&v<=-u):0;m=Math.max(m,0);const A=h.width*1/g;let C=0;for(let v=m;v<g;v++){const E=d[v]+1,k=(s-r*(E-1))*h.height;v===0?o.moveTo(C,k):o.lineTo(C,k),C+=A}o.stroke()}function Gh(e,{color:t="white",scale:n=.25,pos:i=.75,lean:r=.5,min:s=-150,max:u=0,ctx:o=Yn(),id:c=1}={}){if(!e){o.beginPath();let C=i*d.height;o.moveTo(0,C),o.lineTo(d.width,C),o.stroke();return}const h=ir("frequency",c),d=o.canvas;o.fillStyle=t;const g=e.frequencyBinCount,m=d.width*1/g;let A=0;for(let C=0;C<g;C++){const E=Zi((h[C]-s)/(u-s),0,1)*n,k=E*d.height,V=(i-E*r)*d.height;o.fillRect(A,V,Math.max(m,1),k),A+=m}}function B2(e=0,t="0,0,0",n=Yn()){e?(n.fillStyle=`rgba(${t},${1-e})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}q.prototype.fscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(()=>{B2(e.smear,"0,0,0",e.ctx),a.analysers[t]&&Gh(a.analysers[t],e)},{id:t})},q.prototype.tscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||bn().foreground,e.color,B2(e.smear,"0,0,0",e.ctx),Rh(a.analysers[t],e)},{id:t})},q.prototype.scope=q.prototype.tscope;let _2={};q.prototype.spectrum=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||_2[t]||bn().foreground,_2[t]=e.color,SC(a.analysers[t],e)},{id:t})},q.prototype.scope=q.prototype.tscope;const Zh=new Map;function SC(e,{thickness:t=3,speed:n=1,min:i=-80,max:r=0,ctx:s=Yn(),id:u=1,color:o}={}){if(s.lineWidth=t,s.strokeStyle=o,!e)return;const c=n,h=ir("frequency",u),d=s.canvas;s.fillStyle=o;const g=e.frequencyBinCount;let m=Zh.get(u)||s.getImageData(0,0,d.width,d.height);Zh.set(u,m),s.clearRect(0,0,s.canvas.width,s.canvas.height),s.putImageData(m,-c,0);let A=d.width-n;for(let C=0;C<g;C++){const v=Zi((h[C]-i)/(r-i),0,1);s.globalAlpha=v;const E=Math.log(C+1)/Math.log(g)*d.height;s.fillRect(A,d.height-E,c,2)}Zh.set(u,s.getImageData(0,0,d.width,d.height))}const BC=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_MAX_POLYPHONY:fs,aliasBank:a2,get analysers(){return a.analysers},get analysersData(){return a.analysersData},applyFM:Qi,applyGainCurve:nn,connectToDestination:wh,createFilter:Ui,dough:M2,doughTrigger:Ih,drawFrequencyScope:Gh,drawTimeScope:Rh,drywet:rh,dspWorklet:Th,errorLogger:Qf,gainNode:ht,getADSRValues:Wt,getAnalyserById:Sh,getAnalyzerData:ir,getAudioContext:Ce,getAudioContextCurrentTime:d2,getAudioDevices:bh,getCachedBuffer:Yy,getCompressor:ih,getDefaultValue:Ke,getLfo:nr,getLoadedBuffer:Jy,getOscillator:kh,getParamADSR:Xt,getPitchEnvelope:oi,getSampleBuffer:oh,getSampleBufferSource:ch,getSampleInfo:ah,getSound:er,getVibratoOscillator:ci,getWorklet:St,getZZFX:Vh,initAudio:Ph,initAudioOnFirstClick:Fh,initializeAudioOutput:Eh,loadBuffer:ls,logger:Pt,noises:os,onTriggerSample:dh,panic:m2,processSampleMap:fh,registerSamplesPrefix:t2,registerSound:tn,registerSynthSounds:_h,registerZZFXSounds:b2,resetDefaultValues:Mh,resetDefaults:c2,resetGlobalEffects:p2,resetLoadedSounds:h2,reverseBuffer:lh,samples:hh,setDefault:o2,setDefaultAudioContext:Ch,setDefaultValue:hs,setDefaultValues:l2,setGainCurve:u2,setLogger:eh,setMaxPolyphony:ph,setMultiChannelOrbits:gh,setVersionDefaults:f2,soundMap:zt,superdough:gs,superdoughTrigger:y2,waveformN:xh,webAudioTimeout:li,webaudioOutput:Nh,webaudioRepl:Lh},Symbol.toStringTag,{value:"Module"}));function _C(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function kn(e,t,n,i){var r=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(r,kn.prototype),r.expected=t,r.found=n,r.location=i,r.name="SyntaxError",r}_C(kn,Error);function Xh(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}kn.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,i;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(r):r,u=this.location.source+":"+s.line+":"+s.column;if(n){var o=this.location.end,c=Xh("",s.line.toString().length," "),h=n[r.line-1],d=r.line===o.line?o.column:h.length+1,g=d-r.column||1;t+=`
 --> `+u+`
`+c+` |
`+s.line+" | "+h+`
`+c+" | "+Xh("",r.column-1," ")+Xh("",g,"^")}else t+=`
 at `+u}return t},kn.buildMessage=function(e,t){var n={literal:function(h){return'"'+r(h.text)+'"'},class:function(h){var d=h.parts.map(function(g){return Array.isArray(g)?s(g[0])+"-"+s(g[1]):s(g)});return"["+(h.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function i(h){return h.charCodeAt(0).toString(16).toUpperCase()}function r(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function s(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function u(h){return n[h.type](h)}function o(h){var d=h.map(u),g,m;if(d.sort(),d.length>0){for(g=1,m=1;g<d.length;g++)d[g-1]!==d[g]&&(d[m]=d[g],m++);d.length=m}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function c(h){return h?'"'+r(h)+'"':"end of input"}return"Expected "+o(e)+" but "+c(t)+" found."};function Wh(e,t){t=t!==void 0?t:{};var n={},i=t.grammarSource,r={start:YA},s=YA,u=".",o="-",c="0",h=",",d="|",g="[",m="]",A="{",C="}",v="%",E="<",k=">",V="!",R="(",_=")",S="/",x="*",T="?",N=":",K="..",W="^",ee="struct",z="target",j="euclid",ne="slow",ye="rotL",pe="rotR",fe="fast",ue="scale",Ie="//",nt="cat",ce="$",O="setcps",Ye="setbpm",_e="hush",it=/^[1-9]/,be=/^[eE]/,Je=/^[+\-]/,we=/^[0-9]/,Ue=/^[ \n\r\t\xA0]/,It=/^["']/,Dt=/^[#\--.0-9A-Z\^-_a-z~\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Ne=/^[@_]/,Gn=/^[^\n]/,We=sd("number"),cn=De(".",!1),Mt=En([["1","9"]],!1,!1),Nt=En(["e","E"],!1,!1),Kt=En(["+","-"],!1,!1),Zn=De("-",!1),ln=De("0",!1),Pn=En([["0","9"]],!1,!1),Dn=sd("whitespace"),mt=En([" ",`
`,"\r","	"," "],!1,!1),Fn=De(",",!1),Me=De("|",!1),Ve=En(['"',"'"],!1,!1),te=sd('a letter, a number, "-", "#", ".", "^", "_"'),je=En(["#",["-","."],["0","9"],["A","Z"],["^","_"],["a","z"],"~","ª","µ","º",["À","Ö"],["Ø","ö"],["ø","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ",["Ͱ","ʹ"],["Ͷ","ͷ"],["ͺ","ͽ"],"Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ρ"],["Σ","ϵ"],["Ϸ","ҁ"],["Ҋ","ԯ"],["Ա","Ֆ"],"ՙ",["ՠ","ֈ"],["א","ת"],["ׯ","ײ"],["ؠ","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۥ","ۦ"],["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ߴ","ߵ"],"ߺ",["ࠀ","ࠕ"],"ࠚ","ࠤ","ࠨ",["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॱ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๆ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],"ໆ",["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["ა","ჺ"],["ჼ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["Ꭰ","Ᏽ"],["ᏸ","ᏽ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛮ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៗ","ៜ",["ᠠ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],"ᪧ",["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱽ"],["ᲀ","ᲈ"],["Ა","Ჺ"],["Ჽ","Ჿ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ᴀ","ᶿ"],["Ḁ","ἕ"],["Ἐ","Ἕ"],["ἠ","ὅ"],["Ὀ","Ὅ"],["ὐ","ὗ"],"Ὑ","Ὓ","Ὕ",["Ὗ","ώ"],["ᾀ","ᾴ"],["ᾶ","ᾼ"],"ι",["ῂ","ῄ"],["ῆ","ῌ"],["ῐ","ΐ"],["ῖ","Ί"],["ῠ","Ῥ"],["ῲ","ῴ"],["ῶ","ῼ"],"ⁱ","ⁿ",["ₐ","ₜ"],"ℂ","ℇ",["ℊ","ℓ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℯ","ℹ"],["ℼ","ℿ"],["ⅅ","ⅉ"],"ⅎ",["Ⅰ","ↈ"],["Ⰰ","Ⱞ"],["ⰰ","ⱞ"],["Ⱡ","ⳤ"],["Ⳬ","ⳮ"],["Ⳳ","ⳳ"],["ⴀ","ⴥ"],"ⴧ","ⴭ",["ⴰ","ⵧ"],"ⵯ",["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"ⸯ",["々","〇"],["〡","〩"],["〱","〵"],["〸","〼"],["ぁ","ゖ"],["ゝ","ゟ"],["ァ","ヺ"],["ー","ヿ"],["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꒌ"],["ꓐ","ꓽ"],["ꔀ","ꘌ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],["Ꙁ","ꙮ"],["ꙿ","ꚝ"],["ꚠ","ꛯ"],["ꜗ","ꜟ"],["Ꜣ","ꞈ"],["Ꞌ","ꞹ"],["ꟷ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],"ꧏ",["ꧠ","ꧤ"],["ꧦ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫝ"],["ꫠ","ꫪ"],["ꫲ","ꫴ"],["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꬰ","ꭚ"],["ꭜ","ꭥ"],["ꭰ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["Ａ","Ｚ"],["ａ","ｚ"],["ｦ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),xe=De("[",!1),Bi=De("]",!1),Er=De("{",!1),Ft=De("}",!1),Xn=De("%",!1),fn=De("<",!1),$e=De(">",!1),ri=En(["@","_"],!1,!1),si=De("!",!1),Le=De("(",!1),at=De(")",!1),hn=De("/",!1),Wn=De("*",!1),_i=De("?",!1),wr=De(":",!1),Sr=De("..",!1),l=De("^",!1),y=De("struct",!1),p=De("target",!1),b=De("euclid",!1),D=De("slow",!1),I=De("rotL",!1),G=De("rotR",!1),X=De("fast",!1),J=De("scale",!1),he=De("//",!1),Re=En([`
`],!0,!1),Lt=De("cat",!1),Yt=De("$",!1),Ae=De("setcps",!1),pt=De("setbpm",!1),Ge=De("hush",!1),Et=function(){return parseFloat(uF())},nu=function(f){const P=f.join("");return P==="."||P==="_"},P7=function(f){return new KF(f.join(""))},D7=function(f){return f},F7=function(f,P){return f.arguments_.stepsPerCycle=P,f},E7=function(f){return f},w7=function(f){return f.arguments_.alignment="polymeter_slowcat",f},S7=function(f){return P=>P.options_.weight=(P.options_.weight??1)+(f??2)-1},B7=function(f){return P=>{const w=(P.options_.reps??1)+(f??2)-1;P.options_.reps=w,P.options_.ops=P.options_.ops.filter(Z=>Z.type_!=="replicate"),P.options_.ops.push({type_:"replicate",arguments_:{amount:w}}),P.options_.weight=w}},_7=function(f,P,w){return Z=>Z.options_.ops.push({type_:"bjorklund",arguments_:{pulse:f,step:P,rotation:w}})},x7=function(f){return P=>P.options_.ops.push({type_:"stretch",arguments_:{amount:f,type:"slow"}})},k7=function(f){return P=>P.options_.ops.push({type_:"stretch",arguments_:{amount:f,type:"fast"}})},V7=function(f){return P=>P.options_.ops.push({type_:"degradeBy",arguments_:{amount:f,seed:cd++}})},T7=function(f){return P=>P.options_.ops.push({type_:"tail",arguments_:{element:f}})},I7=function(f){return P=>P.options_.ops.push({type_:"range",arguments_:{element:f}})},N7=function(f,P){const w=new JF(f,{ops:[],weight:1,reps:1});for(const Z of P)Z(w);return w},L7=function(f,P){return new uu(P,"fastcat",void 0,!!f)},R7=function(f){return{alignment:"stack",list:f}},G7=function(f){return{alignment:"rand",list:f,seed:cd++}},Z7=function(f){return{alignment:"feet",list:f,seed:cd++}},X7=function(f,P){return P&&P.list.length>0?new uu([f,...P.list],P.alignment,P.seed):f},W7=function(f,P){return new uu(P?[f,...P.list]:[f],"polymeter")},O7=function(f){return f},z7=function(f){return{name:"struct",args:{mini:f}}},j7=function(f){return{name:"target",args:{name:f}}},$7=function(f,P,w){return{name:"bjorklund",args:{pulse:f,step:parseInt(P)}}},q7=function(f){return{name:"stretch",args:{amount:f}}},H7=function(f){return{name:"shift",args:{amount:"-"+f}}},K7=function(f){return{name:"shift",args:{amount:f}}},Y7=function(f){return{name:"stretch",args:{amount:"1/"+f}}},J7=function(f){return{name:"scale",args:{scale:f.join("")}}},qA=function(f,P){return P},U7=function(f,P){return P.unshift(f),new uu(P,"slowcat")},Q7=function(f){return f},eF=function(f,P){return new YF(f.name,f.args,P)},tF=function(f){return f},nF=function(f){return f},iF=function(f){return new od("setcps",{value:f})},rF=function(f){return new od("setcps",{value:f/120/2})},sF=function(){return new od("hush")},F=t.peg$currPos|0,de=F,xi=[{line:1,column:1}],Jt=F,iu=t.peg$maxFailExpected||[],ie=t.peg$silentFails|0,Br;if(t.startRule){if(!(t.startRule in r))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');s=r[t.startRule]}function uF(){return e.substring(de,F)}function HA(){return ud(de,F)}function De(f,P){return{type:"literal",text:f,ignoreCase:P}}function En(f,P,w){return{type:"class",parts:f,inverted:P,ignoreCase:w}}function aF(){return{type:"end"}}function sd(f){return{type:"other",description:f}}function KA(f){var P=xi[f],w;if(P)return P;if(f>=xi.length)w=xi.length-1;else for(w=f;!xi[--w];);for(P=xi[w],P={line:P.line,column:P.column};w<f;)e.charCodeAt(w)===10?(P.line++,P.column=1):P.column++,w++;return xi[f]=P,P}function ud(f,P,w){var Z=KA(f),re=KA(P),Oe={source:i,start:{offset:f,line:Z.line,column:Z.column},end:{offset:P,line:re.line,column:re.column}};return Oe}function ae(f){F<Jt||(F>Jt&&(Jt=F,iu=[]),iu.push(f))}function oF(f,P,w){return new kn(kn.buildMessage(f,P),f,P,w)}function YA(){var f;return f=HF(),f}function wn(){var f,P;return ie++,f=F,mF(),P=ru(),P!==n?(dF(),hF(),de=f,f=Et()):(F=f,f=n),ie--,f===n&&ie===0&&ae(We),f}function cF(){var f;return e.charCodeAt(F)===46?(f=u,F++):(f=n,ie===0&&ae(cn)),f}function lF(){var f;return f=e.charAt(F),it.test(f)?F++:(f=n,ie===0&&ae(Mt)),f}function fF(){var f;return f=e.charAt(F),be.test(f)?F++:(f=n,ie===0&&ae(Nt)),f}function hF(){var f,P,w,Z,re;if(f=F,P=fF(),P!==n){if(w=e.charAt(F),Je.test(w)?F++:(w=n,ie===0&&ae(Kt)),w===n&&(w=null),Z=[],re=ki(),re!==n)for(;re!==n;)Z.push(re),re=ki();else Z=n;Z!==n?(P=[P,w,Z],f=P):(F=f,f=n)}else F=f,f=n;return f}function dF(){var f,P,w,Z;if(f=F,P=cF(),P!==n){if(w=[],Z=ki(),Z!==n)for(;Z!==n;)w.push(Z),Z=ki();else w=n;w!==n?(P=[P,w],f=P):(F=f,f=n)}else F=f,f=n;return f}function ru(){var f,P,w,Z;if(f=pF(),f===n)if(f=F,P=lF(),P!==n){for(w=[],Z=ki();Z!==n;)w.push(Z),Z=ki();P=[P,w],f=P}else F=f,f=n;return f}function mF(){var f;return e.charCodeAt(F)===45?(f=o,F++):(f=n,ie===0&&ae(Zn)),f}function pF(){var f;return e.charCodeAt(F)===48?(f=c,F++):(f=n,ie===0&&ae(ln)),f}function ki(){var f;return f=e.charAt(F),we.test(f)?F++:(f=n,ie===0&&ae(Pn)),f}function oe(){var f,P;for(ie++,f=[],P=e.charAt(F),Ue.test(P)?F++:(P=n,ie===0&&ae(mt));P!==n;)f.push(P),P=e.charAt(F),Ue.test(P)?F++:(P=n,ie===0&&ae(mt));return ie--,P=n,ie===0&&ae(Dn),f}function Vi(){var f,P,w,Z;return f=F,P=oe(),e.charCodeAt(F)===44?(w=h,F++):(w=n,ie===0&&ae(Fn)),w!==n?(Z=oe(),P=[P,w,Z],f=P):(F=f,f=n),f}function JA(){var f,P,w,Z;return f=F,P=oe(),e.charCodeAt(F)===124?(w=d,F++):(w=n,ie===0&&ae(Me)),w!==n?(Z=oe(),P=[P,w,Z],f=P):(F=f,f=n),f}function UA(){var f,P,w,Z;return f=F,P=oe(),e.charCodeAt(F)===46?(w=u,F++):(w=n,ie===0&&ae(cn)),w!==n?(Z=oe(),P=[P,w,Z],f=P):(F=f,f=n),f}function Ti(){var f;return f=e.charAt(F),It.test(f)?F++:(f=n,ie===0&&ae(Ve)),f}function su(){var f;return ie++,f=e.charAt(F),Dt.test(f)?F++:(f=n,ie===0&&ae(je)),ie--,f===n&&ie===0&&ae(te),f}function QA(){var f,P,w,Z;if(f=F,oe(),P=[],w=su(),w!==n)for(;w!==n;)P.push(w),w=su();else P=n;return P!==n?(w=oe(),de=F,Z=nu(P),Z?Z=n:Z=void 0,Z!==n?(de=f,f=P7(P)):(F=f,f=n)):(F=f,f=n),f}function gF(){var f,P,w,Z;return f=F,oe(),e.charCodeAt(F)===91?(P=g,F++):(P=n,ie===0&&ae(xe)),P!==n?(oe(),w=nM(),w!==n?(oe(),e.charCodeAt(F)===93?(Z=m,F++):(Z=n,ie===0&&ae(Bi)),Z!==n?(oe(),de=f,f=D7(w)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function yF(){var f,P,w,Z,re;return f=F,oe(),e.charCodeAt(F)===123?(P=A,F++):(P=n,ie===0&&ae(Er)),P!==n?(oe(),w=iM(),w!==n?(oe(),e.charCodeAt(F)===125?(Z=C,F++):(Z=n,ie===0&&ae(Ft)),Z!==n?(re=bF(),re===n&&(re=null),oe(),de=f,f=F7(w,re)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function bF(){var f,P,w;return f=F,e.charCodeAt(F)===37?(P=v,F++):(P=n,ie===0&&ae(Xn)),P!==n?(w=Ii(),w!==n?(de=f,f=E7(w)):(F=f,f=n)):(F=f,f=n),f}function AF(){var f,P,w,Z;return f=F,oe(),e.charCodeAt(F)===60?(P=E,F++):(P=n,ie===0&&ae(fn)),P!==n?(oe(),w=iM(),w!==n?(oe(),e.charCodeAt(F)===62?(Z=k,F++):(Z=n,ie===0&&ae($e)),Z!==n?(oe(),de=f,f=w7(w)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function Ii(){var f;return f=QA(),f===n&&(f=gF(),f===n&&(f=yF(),f===n&&(f=AF()))),f}function eM(){var f;return f=MF(),f===n&&(f=vF(),f===n&&(f=PF(),f===n&&(f=DF(),f===n&&(f=CF(),f===n&&(f=FF(),f===n&&(f=EF(),f===n&&(f=wF()))))))),f}function MF(){var f,P,w;return f=F,oe(),P=e.charAt(F),Ne.test(P)?F++:(P=n,ie===0&&ae(ri)),P!==n?(w=wn(),w===n&&(w=null),de=f,f=S7(w)):(F=f,f=n),f}function CF(){var f,P,w;return f=F,oe(),e.charCodeAt(F)===33?(P=V,F++):(P=n,ie===0&&ae(si)),P!==n?(w=wn(),w===n&&(w=null),de=f,f=B7(w)):(F=f,f=n),f}function vF(){var f,P,w,Z,re,Oe,Ut;return f=F,e.charCodeAt(F)===40?(P=R,F++):(P=n,ie===0&&ae(Le)),P!==n?(oe(),w=_r(),w!==n?(oe(),Z=Vi(),Z!==n?(oe(),re=_r(),re!==n?(oe(),Vi(),oe(),Oe=_r(),Oe===n&&(Oe=null),oe(),e.charCodeAt(F)===41?(Ut=_,F++):(Ut=n,ie===0&&ae(at)),Ut!==n?(de=f,f=_7(w,re,Oe)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function PF(){var f,P,w;return f=F,e.charCodeAt(F)===47?(P=S,F++):(P=n,ie===0&&ae(hn)),P!==n?(w=Ii(),w!==n?(de=f,f=x7(w)):(F=f,f=n)):(F=f,f=n),f}function DF(){var f,P,w;return f=F,e.charCodeAt(F)===42?(P=x,F++):(P=n,ie===0&&ae(Wn)),P!==n?(w=Ii(),w!==n?(de=f,f=k7(w)):(F=f,f=n)):(F=f,f=n),f}function FF(){var f,P,w;return f=F,e.charCodeAt(F)===63?(P=T,F++):(P=n,ie===0&&ae(_i)),P!==n?(w=wn(),w===n&&(w=null),de=f,f=V7(w)):(F=f,f=n),f}function EF(){var f,P,w;return f=F,e.charCodeAt(F)===58?(P=N,F++):(P=n,ie===0&&ae(wr)),P!==n?(w=Ii(),w!==n?(de=f,f=T7(w)):(F=f,f=n)):(F=f,f=n),f}function wF(){var f,P,w;return f=F,e.substr(F,2)===K?(P=K,F+=2):(P=n,ie===0&&ae(Sr)),P!==n?(w=Ii(),w!==n?(de=f,f=I7(w)):(F=f,f=n)):(F=f,f=n),f}function _r(){var f,P,w,Z;if(f=F,P=Ii(),P!==n){for(w=[],Z=eM();Z!==n;)w.push(Z),Z=eM();de=f,f=N7(P,w)}else F=f,f=n;return f}function On(){var f,P,w,Z;if(f=F,e.charCodeAt(F)===94?(P=W,F++):(P=n,ie===0&&ae(l)),P===n&&(P=null),w=[],Z=_r(),Z!==n)for(;Z!==n;)w.push(Z),Z=_r();else w=n;return w!==n?(de=f,f=L7(P,w)):(F=f,f=n),f}function tM(){var f,P,w,Z,re;if(f=F,P=[],w=F,Z=Vi(),Z!==n?(re=On(),re!==n?w=re:(F=w,w=n)):(F=w,w=n),w!==n)for(;w!==n;)P.push(w),w=F,Z=Vi(),Z!==n?(re=On(),re!==n?w=re:(F=w,w=n)):(F=w,w=n);else P=n;return P!==n&&(de=f,P=R7(P)),f=P,f}function SF(){var f,P,w,Z,re;if(f=F,P=[],w=F,Z=JA(),Z!==n?(re=On(),re!==n?w=re:(F=w,w=n)):(F=w,w=n),w!==n)for(;w!==n;)P.push(w),w=F,Z=JA(),Z!==n?(re=On(),re!==n?w=re:(F=w,w=n)):(F=w,w=n);else P=n;return P!==n&&(de=f,P=G7(P)),f=P,f}function BF(){var f,P,w,Z,re;if(f=F,P=[],w=F,Z=UA(),Z!==n?(re=On(),re!==n?w=re:(F=w,w=n)):(F=w,w=n),w!==n)for(;w!==n;)P.push(w),w=F,Z=UA(),Z!==n?(re=On(),re!==n?w=re:(F=w,w=n)):(F=w,w=n);else P=n;return P!==n&&(de=f,P=Z7(P)),f=P,f}function nM(){var f,P,w;return f=F,P=On(),P!==n?(w=tM(),w===n&&(w=SF(),w===n&&(w=BF())),w===n&&(w=null),de=f,f=X7(P,w)):(F=f,f=n),f}function iM(){var f,P,w;return f=F,P=On(),P!==n?(w=tM(),w===n&&(w=null),de=f,f=W7(P,w)):(F=f,f=n),f}function _F(){var f,P,w,Z;return f=F,oe(),P=Ti(),P!==n?(oe(),w=nM(),w!==n?(oe(),Z=Ti(),Z!==n?(de=f,f=O7(w)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function xF(){var f;return f=GF(),f===n&&(f=IF(),f===n&&(f=RF(),f===n&&(f=VF(),f===n&&(f=TF(),f===n&&(f=kF(),f===n&&(f=LF(),f===n&&(f=NF()))))))),f}function kF(){var f,P,w;return f=F,e.substr(F,6)===ee?(P=ee,F+=6):(P=n,ie===0&&ae(y)),P!==n?(oe(),w=Ni(),w!==n?(de=f,f=z7(w)):(F=f,f=n)):(F=f,f=n),f}function VF(){var f,P,w,Z,re;return f=F,e.substr(F,6)===z?(P=z,F+=6):(P=n,ie===0&&ae(p)),P!==n?(oe(),w=Ti(),w!==n?(Z=QA(),Z!==n?(re=Ti(),re!==n?(de=f,f=j7(Z)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function TF(){var f,P,w,Z;return f=F,e.substr(F,6)===j?(P=j,F+=6):(P=n,ie===0&&ae(b)),P!==n?(oe(),w=ru(),w!==n?(oe(),Z=ru(),Z!==n?(oe(),ru(),de=f,f=$7(w,Z)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function IF(){var f,P,w;return f=F,e.substr(F,4)===ne?(P=ne,F+=4):(P=n,ie===0&&ae(D)),P!==n?(oe(),w=wn(),w!==n?(de=f,f=q7(w)):(F=f,f=n)):(F=f,f=n),f}function NF(){var f,P,w;return f=F,e.substr(F,4)===ye?(P=ye,F+=4):(P=n,ie===0&&ae(I)),P!==n?(oe(),w=wn(),w!==n?(de=f,f=H7(w)):(F=f,f=n)):(F=f,f=n),f}function LF(){var f,P,w;return f=F,e.substr(F,4)===pe?(P=pe,F+=4):(P=n,ie===0&&ae(G)),P!==n?(oe(),w=wn(),w!==n?(de=f,f=K7(w)):(F=f,f=n)):(F=f,f=n),f}function RF(){var f,P,w;return f=F,e.substr(F,4)===fe?(P=fe,F+=4):(P=n,ie===0&&ae(X)),P!==n?(oe(),w=wn(),w!==n?(de=f,f=Y7(w)):(F=f,f=n)):(F=f,f=n),f}function GF(){var f,P,w,Z,re;if(f=F,e.substr(F,5)===ue?(P=ue,F+=5):(P=n,ie===0&&ae(J)),P!==n)if(oe(),w=Ti(),w!==n){if(Z=[],re=su(),re!==n)for(;re!==n;)Z.push(re),re=su();else Z=n;Z!==n?(re=Ti(),re!==n?(de=f,f=J7(Z)):(F=f,f=n)):(F=f,f=n)}else F=f,f=n;else F=f,f=n;return f}function ad(){var f,P,w,Z;if(f=F,e.substr(F,2)===Ie?(P=Ie,F+=2):(P=n,ie===0&&ae(he)),P!==n){for(w=[],Z=e.charAt(F),Gn.test(Z)?F++:(Z=n,ie===0&&ae(Re));Z!==n;)w.push(Z),Z=e.charAt(F),Gn.test(Z)?F++:(Z=n,ie===0&&ae(Re));P=[P,w],f=P}else F=f,f=n;return f}function ZF(){var f,P,w,Z,re,Oe,Ut,Li;if(f=F,e.substr(F,3)===nt?(P=nt,F+=3):(P=n,ie===0&&ae(Lt)),P!==n)if(oe(),e.charCodeAt(F)===91?(w=g,F++):(w=n,ie===0&&ae(xe)),w!==n)if(oe(),Z=Ni(),Z!==n){for(re=[],Oe=F,Ut=Vi(),Ut!==n?(Li=Ni(),Li!==n?(de=Oe,Oe=qA(Z,Li)):(F=Oe,Oe=n)):(F=Oe,Oe=n);Oe!==n;)re.push(Oe),Oe=F,Ut=Vi(),Ut!==n?(Li=Ni(),Li!==n?(de=Oe,Oe=qA(Z,Li)):(F=Oe,Oe=n)):(F=Oe,Oe=n);Oe=oe(),e.charCodeAt(F)===93?(Ut=m,F++):(Ut=n,ie===0&&ae(Bi)),Ut!==n?(de=f,f=U7(Z,re)):(F=f,f=n)}else F=f,f=n;else F=f,f=n;else F=f,f=n;return f}function XF(){var f;return f=ZF(),f===n&&(f=_F()),f}function Ni(){var f,P,w,Z,re;if(f=F,P=XF(),P!==n){for(oe(),w=[],Z=ad();Z!==n;)w.push(Z),Z=ad();de=f,f=Q7(P)}else F=f,f=n;return f===n&&(f=F,P=xF(),P!==n?(oe(),e.charCodeAt(F)===36?(w=ce,F++):(w=n,ie===0&&ae(Yt)),w!==n?(Z=oe(),re=Ni(),re!==n?(de=f,f=eF(P,re)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)),f}function WF(){var f,P;return f=F,P=Ni(),P!==n&&(de=f,P=tF(P)),f=P,f===n&&(f=ad()),f}function OF(){var f;return f=WF(),f}function zF(){var f,P;return f=F,oe(),P=jF(),P===n&&(P=$F(),P===n&&(P=qF())),P!==n?(oe(),de=f,f=nF(P)):(F=f,f=n),f}function jF(){var f,P,w;return f=F,e.substr(F,6)===O?(P=O,F+=6):(P=n,ie===0&&ae(Ae)),P!==n?(oe(),w=wn(),w!==n?(de=f,f=iF(w)):(F=f,f=n)):(F=f,f=n),f}function $F(){var f,P,w;return f=F,e.substr(F,6)===Ye?(P=Ye,F+=6):(P=n,ie===0&&ae(pt)),P!==n?(oe(),w=wn(),w!==n?(de=f,f=rF(w)):(F=f,f=n)):(F=f,f=n),f}function qF(){var f,P;return f=F,e.substr(F,4)===_e?(P=_e,F+=4):(P=n,ie===0&&ae(Ge)),P!==n&&(de=f,P=sF()),f=P,f}function HF(){var f;return f=OF(),f===n&&(f=zF()),f}var KF=function(f){this.type_="atom",this.source_=f,this.location_=HA()},uu=function(f,P,w,Z){this.type_="pattern",this.arguments_={alignment:P,_steps:Z},w!==void 0&&(this.arguments_.seed=w),this.source_=f},YF=function(f,P,w){this.type_=f,this.arguments_=P,this.source_=w},JF=function(f,P){this.type_="element",this.source_=f,this.options_=P,this.location_=HA()},od=function(f,P){this.type_="command",this.name_=f,this.options_=P},cd=0;if(Br=s(),t.peg$library)return{peg$result:Br,peg$currPos:F,peg$FAILED:n,peg$maxFailExpected:iu,peg$maxFailPos:Jt};if(Br!==n&&F===e.length)return Br;throw Br!==n&&F<e.length&&ae(aF()),oF(iu,Jt<e.length?e.charAt(Jt):null,Jt<e.length?ud(Jt,Jt+1):ud(Jt,Jt))}const x2=["start"],k2=3e-4,xC=(e,t)=>(n,i)=>{const u=e.source_[i].options_?.ops,o=n.__steps_source;if(u)for(const c of u)switch(c.type_){case"stretch":{const h=["fast","slow"],{type:d,amount:g}=c.arguments_;if(!h.includes(d))throw new Error(`mini: stretch: type must be one of ${h.join("|")} but got ${d}`);n=H(n)[d](t(g));break}case"replicate":{const{amount:h}=c.arguments_;n=H(n),n=n._repeatCycles(h)._fast(h);break}case"bjorklund":{c.arguments_.rotation?n=n.euclidRot(t(c.arguments_.pulse),t(c.arguments_.step),t(c.arguments_.rotation)):n=n.euclid(t(c.arguments_.pulse),t(c.arguments_.step));break}case"degradeBy":{n=H(n)._degradeByWith(ct.early(k2*c.arguments_.seed),c.arguments_.amount??.5);break}case"tail":{const h=t(c.arguments_.element);n=n.fmap(d=>g=>Array.isArray(d)?[...d,g]:[d,g]).appLeft(h);break}case"range":{const h=t(c.arguments_.element);n=H(n);const d=(m,A,C=1)=>Array.from({length:Math.abs(A-m)/C+1},(v,E)=>m<A?m+E*C:m-E*C);n=((m,A)=>m.squeezeBind(C=>A.bind(v=>rt(...d(C,v)))))(n,h);break}default:console.warn(`operator "${c.type_}" not implemented`)}return n.__steps_source=n.__steps_source||o,n};function Jn(e,t,n,i=0){n?.(e);const r=s=>Jn(s,t,n,i);switch(e.type_){case"pattern":{const s=e.source_.map(h=>r(h)).map(xC(e,r)),u=e.arguments_.alignment,o=s.filter(h=>h.__steps_source);let c;switch(u){case"stack":{c=ke(...s),o.length&&(c._steps=Gt(...o.map(h=>$(h._steps))));break}case"polymeter_slowcat":{c=ke(...s.map(h=>h._slow(h.__weight))),o.length&&(c._steps=Gt(...o.map(h=>$(h._steps))));break}case"polymeter":{const h=e.arguments_.stepsPerCycle?r(e.arguments_.stepsPerCycle).fmap(g=>$(g)):He($(s.length>0?s[0].__weight:1)),d=s.map(g=>g.fast(h.fmap(m=>m.div(g.__weight))));c=ke(...d);break}case"rand":{c=Ki(ct.early(k2*e.arguments_.seed).segment(1),s),o.length&&(c._steps=Gt(...o.map(h=>$(h._steps))));break}case"feet":{c=rt(...s);break}default:{if(e.source_.some(d=>!!d.options_?.weight)){const d=e.source_.reduce((g,m)=>g.add(m.options_?.weight||$(1)),$(0));c=zr(...e.source_.map((g,m)=>[g.options_?.weight||$(1),s[m]])),c.__weight=d,c._steps=d,o.length&&(c._steps=c._steps.mul(Gt(...o.map(g=>$(g._steps)))))}else c=wt(...s),c._steps=s.length;e.arguments_._steps&&(c.__steps_source=!0)}}return o.length&&(c.__steps_source=!0),c}case"element":return r(e.source_);case"atom":{if(e.source_==="~"||e.source_==="-")return Se;if(!e.location_)return console.warn("no location for",e),e.source_;const s=isNaN(Number(e.source_))?e.source_:Number(e.source_);if(i===-1)return He(s);const[u,o]=bs(t,e,i);return He(s).withLoc(u,o)}case"stretch":return r(e.source_).slow(r(e.arguments_.amount));default:return console.warn(`node type "${e.type_}" not implemented -> returning silence`),Se}}const bs=(e,t,n=0)=>{const{start:i,end:r}=t.location_,s=e?.split("").slice(i.offset,r.offset).join(""),[u=0,o=0]=s?s.split(t.source_).map(c=>c.split("").filter(h=>h===" ").length):[];return[i.offset+u+n,r.offset-o+n]},mi=(e,t=0,n=e)=>{try{return Wh(e)}catch(i){const r=[i.location.start.offset+t,i.location.end.offset+t],s=n.slice(0,r[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${s}: ${i.message}`)}},Oh=(e,t,n)=>{const i=mi(e,t,n);let r=[];return Jn(i,e,s=>{s.type_==="atom"&&r.push(s)},-1),r},As=(e,t=0,n)=>Oh(e,t,n).map(i=>bs(e,i,t)),Ms=(...e)=>{const t=e.map(n=>{const i=`"${n}"`,r=mi(i);return Jn(r,i)});return wt(...t)},V2=(e,t)=>{const n=`"${e}"`,i=mi(n);return Jn(i,n,null,t)},T2=e=>{const t=mi(e);return Jn(t,e)};function I2(e){return typeof e=="string"?Ms(e):H(e)}function zh(){Bu(Ms)}const kC=Object.freeze(Object.defineProperty({__proto__:null,StartRules:x2,SyntaxError:kn,getLeafLocation:bs,getLeafLocations:As,getLeaves:Oh,h:T2,m:V2,mini:Ms,mini2ast:mi,miniAllStrings:zh,minify:I2,parse:Wh,patternifyAST:Jn},Symbol.toStringTag,{value:"Module"}));var VC=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],N2=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],TC="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",L2="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",jh={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},$h="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",IC={5:$h,"5module":$h+" export import",6:$h+" const class extends export import super"},NC=/^in(stanceof)?$/,LC=new RegExp("["+L2+"]"),RC=new RegExp("["+L2+TC+"]");function qh(e,t){for(var n=65536,i=0;i<t.length;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function An(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&LC.test(String.fromCharCode(e)):t===!1?!1:qh(e,N2)}function pi(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&RC.test(String.fromCharCode(e)):t===!1?!1:qh(e,N2)||qh(e,VC)}var Fe=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Bt(e,t){return new Fe(e,{beforeExpr:!0,binop:t})}var _t={beforeExpr:!0},At={startsExpr:!0},Hh={};function Pe(e,t){return t===void 0&&(t={}),t.keyword=e,Hh[e]=new Fe(e,t)}var M={num:new Fe("num",At),regexp:new Fe("regexp",At),string:new Fe("string",At),name:new Fe("name",At),privateId:new Fe("privateId",At),eof:new Fe("eof"),bracketL:new Fe("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Fe("]"),braceL:new Fe("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Fe("}"),parenL:new Fe("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Fe(")"),comma:new Fe(",",_t),semi:new Fe(";",_t),colon:new Fe(":",_t),dot:new Fe("."),question:new Fe("?",_t),questionDot:new Fe("?."),arrow:new Fe("=>",_t),template:new Fe("template"),invalidTemplate:new Fe("invalidTemplate"),ellipsis:new Fe("...",_t),backQuote:new Fe("`",At),dollarBraceL:new Fe("${",{beforeExpr:!0,startsExpr:!0}),eq:new Fe("=",{beforeExpr:!0,isAssign:!0}),assign:new Fe("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Fe("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Fe("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Bt("||",1),logicalAND:Bt("&&",2),bitwiseOR:Bt("|",3),bitwiseXOR:Bt("^",4),bitwiseAND:Bt("&",5),equality:Bt("==/!=/===/!==",6),relational:Bt("</>/<=/>=",7),bitShift:Bt("<</>>/>>>",8),plusMin:new Fe("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Bt("%",10),star:Bt("*",10),slash:Bt("/",10),starstar:new Fe("**",{beforeExpr:!0}),coalesce:Bt("??",1),_break:Pe("break"),_case:Pe("case",_t),_catch:Pe("catch"),_continue:Pe("continue"),_debugger:Pe("debugger"),_default:Pe("default",_t),_do:Pe("do",{isLoop:!0,beforeExpr:!0}),_else:Pe("else",_t),_finally:Pe("finally"),_for:Pe("for",{isLoop:!0}),_function:Pe("function",At),_if:Pe("if"),_return:Pe("return",_t),_switch:Pe("switch"),_throw:Pe("throw",_t),_try:Pe("try"),_var:Pe("var"),_const:Pe("const"),_while:Pe("while",{isLoop:!0}),_with:Pe("with"),_new:Pe("new",{beforeExpr:!0,startsExpr:!0}),_this:Pe("this",At),_super:Pe("super",At),_class:Pe("class",At),_extends:Pe("extends",_t),_export:Pe("export"),_import:Pe("import",At),_null:Pe("null",At),_true:Pe("true",At),_false:Pe("false",At),_in:Pe("in",{beforeExpr:!0,binop:7}),_instanceof:Pe("instanceof",{beforeExpr:!0,binop:7}),_typeof:Pe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Pe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Pe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},xt=/\r\n?|\n|\u2028|\u2029/,GC=new RegExp(xt.source,"g");function gi(e){return e===10||e===13||e===8232||e===8233}function R2(e,t,n){n===void 0&&(n=e.length);for(var i=t;i<n;i++){var r=e.charCodeAt(i);if(gi(r))return i<n-1&&r===13&&e.charCodeAt(i+1)===10?i+2:i+1}return-1}var G2=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,kt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Z2=Object.prototype,ZC=Z2.hasOwnProperty,XC=Z2.toString,yi=Object.hasOwn||function(e,t){return ZC.call(e,t)},X2=Array.isArray||function(e){return XC.call(e)==="[object Array]"},W2=Object.create(null);function Vn(e){return W2[e]||(W2[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Mn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var WC=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,or=function(t,n){this.line=t,this.column=n};or.prototype.offset=function(t){return new or(this.line,this.column+t)};var Cs=function(t,n,i){this.start=n,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function O2(e,t){for(var n=1,i=0;;){var r=R2(e,i,t);if(r<0)return new or(n,t-i);++n,i=r}}var Kh={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},z2=!1;function OC(e){var t={};for(var n in Kh)t[n]=e&&yi(e,n)?e[n]:Kh[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!z2&&typeof console=="object"&&console.warn&&(z2=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),X2(t.onToken)){var i=t.onToken;t.onToken=function(r){return i.push(r)}}return X2(t.onComment)&&(t.onComment=zC(t,t.onComment)),t}function zC(e,t){return function(n,i,r,s,u,o){var c={type:n?"Block":"Line",value:i,start:r,end:s};e.locations&&(c.loc=new Cs(this,u,o)),e.ranges&&(c.range=[r,s]),t.push(c)}}var cr=1,bi=2,Yh=4,j2=8,$2=16,q2=32,Jh=64,H2=128,lr=256,Uh=cr|bi|lr;function Qh(e,t){return bi|(e?Yh:0)|(t?j2:0)}var vs=0,e1=1,Cn=2,K2=3,Y2=4,J2=5,et=function(t,n,i){this.options=t=OC(t),this.sourceFile=t.sourceFile,this.keywords=Vn(IC[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var r="";t.allowReserved!==!0&&(r=jh[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(r+=" await")),this.reservedWords=Vn(r);var s=(r?r+" ":"")+jh.strict;this.reservedWordsStrict=Vn(s),this.reservedWordsStrictBind=Vn(s+" "+jh.strictBind),this.input=String(n),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(xt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=M.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(cr),this.regexpState=null,this.privateNameStack=[]},rn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};et.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},rn.inFunction.get=function(){return(this.currentVarScope().flags&bi)>0},rn.inGenerator.get=function(){return(this.currentVarScope().flags&j2)>0&&!this.currentVarScope().inClassFieldInit},rn.inAsync.get=function(){return(this.currentVarScope().flags&Yh)>0&&!this.currentVarScope().inClassFieldInit},rn.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&lr)return!1;if(t.flags&bi)return(t.flags&Yh)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},rn.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&Jh)>0||n||this.options.allowSuperOutsideMethod},rn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&H2)>0},rn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},rn.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(bi|lr))>0||n},rn.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&lr)>0},et.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var i=this,r=0;r<t.length;r++)i=t[r](i);return i},et.parse=function(t,n){return new this(n,t).parse()},et.parseExpressionAt=function(t,n,i){var r=new this(i,t,n);return r.nextToken(),r.parseExpression()},et.tokenizer=function(t,n){return new this(n,t)},Object.defineProperties(et.prototype,rn);var dt=et.prototype,jC=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;dt.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){kt.lastIndex=e,e+=kt.exec(this.input)[0].length;var t=jC.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){kt.lastIndex=e+t[0].length;var n=kt.exec(this.input),i=n.index+n[0].length,r=this.input.charAt(i);return r===";"||r==="}"||xt.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(i+1)==="=")}e+=t[0].length,kt.lastIndex=e,e+=kt.exec(this.input)[0].length,this.input[e]===";"&&e++}},dt.eat=function(e){return this.type===e?(this.next(),!0):!1},dt.isContextual=function(e){return this.type===M.name&&this.value===e&&!this.containsEsc},dt.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1},dt.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},dt.canInsertSemicolon=function(){return this.type===M.eof||this.type===M.braceR||xt.test(this.input.slice(this.lastTokEnd,this.start))},dt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},dt.semicolon=function(){!this.eat(M.semi)&&!this.insertSemicolon()&&this.unexpected()},dt.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},dt.expect=function(e){this.eat(e)||this.unexpected()},dt.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var Ps=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};dt.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},dt.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},dt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},dt.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var Q=et.prototype;Q.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==M.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var i=0,r=Object.keys(this.undefinedExports);i<r.length;i+=1){var s=r[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var t1={kind:"loop"},$C={kind:"switch"};Q.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;kt.lastIndex=this.pos;var t=kt.exec(this.input),n=this.pos+t[0].length,i=this.input.charCodeAt(n);if(i===91||i===92)return!0;if(e)return!1;if(i===123||i>55295&&i<56320)return!0;if(An(i,!0)){for(var r=n+1;pi(i=this.input.charCodeAt(r),!0);)++r;if(i===92||i>55295&&i<56320)return!0;var s=this.input.slice(n,r);if(!NC.test(s))return!0}return!1},Q.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;kt.lastIndex=this.pos;var e=kt.exec(this.input),t=this.pos+e[0].length,n;return!xt.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(pi(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))},Q.parseStatement=function(e,t,n){var i=this.type,r=this.startNode(),s;switch(this.isLet(e)&&(i=M._var,s="let"),i){case M._break:case M._continue:return this.parseBreakContinueStatement(r,i.keyword);case M._debugger:return this.parseDebuggerStatement(r);case M._do:return this.parseDoStatement(r);case M._for:return this.parseForStatement(r);case M._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!e);case M._class:return e&&this.unexpected(),this.parseClass(r,!0);case M._if:return this.parseIfStatement(r);case M._return:return this.parseReturnStatement(r);case M._switch:return this.parseSwitchStatement(r);case M._throw:return this.parseThrowStatement(r);case M._try:return this.parseTryStatement(r);case M._const:case M._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case M._while:return this.parseWhileStatement(r);case M._with:return this.parseWithStatement(r);case M.braceL:return this.parseBlock(!0,r);case M.semi:return this.parseEmptyStatement(r);case M._export:case M._import:if(this.options.ecmaVersion>10&&i===M._import){kt.lastIndex=this.pos;var u=kt.exec(this.input),o=this.pos+u[0].length,c=this.input.charCodeAt(o);if(c===40||c===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===M._import?this.parseImport(r):this.parseExport(r,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!e);var h=this.value,d=this.parseExpression();return i===M.name&&d.type==="Identifier"&&this.eat(M.colon)?this.parseLabeledStatement(r,h,d,e):this.parseExpressionStatement(r,d)}},Q.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(M.semi)||this.insertSemicolon()?e.label=null:this.type!==M.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if((e.label==null||r.name===e.label.name)&&(r.kind!=null&&(n||r.kind==="loop")||e.label&&n))break}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},Q.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},Q.parseDoStatement=function(e){return this.next(),this.labels.push(t1),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(M._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(M.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},Q.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(t1),this.enterScope(0),this.expect(M.parenL),this.type===M.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===M._var||this.type===M._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),(this.type===M._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&i.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===M._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var s=this.isContextual("let"),u=!1,o=this.containsEsc,c=new Ps,h=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===M._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===M._in&&this.unexpected(t),e.await=!0):u&&this.options.ecmaVersion>=8&&(d.start===h&&!o&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),s&&u&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(e,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,d))},Q.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,fr|(n?0:n1),!1,t)},Q.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(M._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},Q.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(M.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},Q.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(M.braceL),this.labels.push($C),this.enterScope(0);for(var t,n=!1;this.type!==M.braceR;)if(this.type===M._case||this.type===M._default){var i=this.type===M._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(M.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},Q.parseThrowStatement=function(e){return this.next(),xt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var qC=[];Q.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?q2:0),this.checkLValPattern(e,t?Y2:Cn),this.expect(M.parenR),e},Q.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===M._catch){var t=this.startNode();this.next(),this.eat(M.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(M._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},Q.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},Q.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(t1),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},Q.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},Q.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},Q.parseLabeledStatement=function(e,t,n,i){for(var r=0,s=this.labels;r<s.length;r+=1){var u=s[r];u.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===M._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var h=this.labels[c];if(h.statementStart===e.start)h.statementStart=this.start,h.kind=o;else break}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},Q.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},Q.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(M.braceL),e&&this.enterScope(0);this.type!==M.braceR;){var i=this.parseStatement(null);t.body.push(i)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},Q.parseFor=function(e,t){return e.init=t,this.expect(M.semi),e.test=this.type===M.semi?null:this.parseExpression(),this.expect(M.semi),e.update=this.type===M.parenR?null:this.parseExpression(),this.expect(M.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},Q.parseForIn=function(e,t){var n=this.type===M._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(M.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},Q.parseVar=function(e,t,n,i){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(M.eq)?r.init=this.parseMaybeAssign(t):!i&&n==="const"&&!(this.type===M._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!i&&r.id.type!=="Identifier"&&!(t&&(this.type===M._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(M.comma))break}return e},Q.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?e1:Cn,!1)};var fr=1,n1=2,U2=4;Q.parseFunction=function(e,t,n,i,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===M.star&&t&n1&&this.unexpected(),e.generator=this.eat(M.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&fr&&(e.id=t&U2&&this.type!==M.name?null:this.parseIdent(),e.id&&!(t&n1)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?e1:Cn:K2));var s=this.yieldPos,u=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Qh(e.async,e.generator)),t&fr||(e.id=this.type===M.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,r),this.yieldPos=s,this.awaitPos=u,this.awaitIdentPos=o,this.finishNode(e,t&fr?"FunctionDeclaration":"FunctionExpression")},Q.parseFunctionParams=function(e){this.expect(M.parenL),e.params=this.parseBindingList(M.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Q.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(M.braceL);this.type!==M.braceR;){var u=this.parseClassElement(e.superClass!==null);u&&(r.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(s&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),s=!0):u.key&&u.key.type==="PrivateIdentifier"&&HC(i,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},Q.parseClassElement=function(e){if(this.eat(M.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),i="",r=!1,s=!1,u="method",o=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(M.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===M.star?o=!0:i="static"}if(n.static=o,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===M.star)&&!this.canInsertSemicolon()?s=!0:i="async"),!i&&(t>=9||!s)&&this.eat(M.star)&&(r=!0),!i&&!s&&!r){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=c:i=c)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===M.parenL||u!=="method"||r||s){var h=!n.static&&Ds(n,"constructor"),d=h&&e;h&&u!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=h?"constructor":u,this.parseClassMethod(n,r,s,d)}else this.parseClassField(n);return n},Q.isClassElementNameStart=function(){return this.type===M.name||this.type===M.privateId||this.type===M.num||this.type===M.string||this.type===M.bracketL||this.type.keyword},Q.parseClassElementName=function(e){this.type===M.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},Q.parseClassMethod=function(e,t,n,i){var r=e.key;e.kind==="constructor"?(t&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):e.static&&Ds(e,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,i);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},Q.parseClassField=function(e){if(Ds(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Ds(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(M.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},Q.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(lr|Jh);this.type!==M.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},Q.parseClassId=function(e,t){this.type===M.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Cn,!1)):(t===!0&&this.unexpected(),e.id=null)},Q.parseClassSuper=function(e){e.superClass=this.eat(M._extends)?this.parseExprSubscripts(null,!1):null},Q.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},Q.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,r=i===0?null:this.privateNameStack[i-1],s=0;s<n.length;++s){var u=n[s];yi(t,u.name)||(r?r.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function HC(e,t){var n=t.key.name,i=e[n],r="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(r=(t.static?"s":"i")+t.kind),i==="iget"&&r==="iset"||i==="iset"&&r==="iget"||i==="sget"&&r==="sset"||i==="sset"&&r==="sget"?(e[n]="true",!1):i?!0:(e[n]=r,!1)}function Ds(e,t){var n=e.computed,i=e.key;return!n&&(i.type==="Identifier"&&i.name===t||i.type==="Literal"&&i.value===t)}Q.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==M.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},Q.parseExport=function(e,t){if(this.next(),this.eat(M.star))return this.parseExportAllDeclaration(e,t);if(this.eat(M._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==M.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,i=e.specifiers;n<i.length;n+=1){var r=i[n];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},Q.parseExportDeclaration=function(e){return this.parseStatement(null)},Q.parseExportDefaultDeclaration=function(){var e;if(this.type===M._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,fr|U2,!1,e)}else if(this.type===M._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var i=this.parseMaybeAssign();return this.semicolon(),i}},Q.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),yi(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},Q.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var u=0,o=t.elements;u<o.length;u+=1){var c=o[u];c&&this.checkPatternExport(e,c)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)},Q.checkVariableExport=function(e,t){if(e)for(var n=0,i=t;n<i.length;n+=1){var r=i[n];this.checkPatternExport(e,r.id)}},Q.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Q.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},Q.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(M.braceL);!this.eat(M.braceR);){if(n)n=!1;else if(this.expect(M.comma),this.afterTrailingComma(M.braceR))break;t.push(this.parseExportSpecifier(e))}return t},Q.parseImport=function(e){return this.next(),this.type===M.string?(e.specifiers=qC,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===M.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},Q.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Cn),this.finishNode(e,"ImportSpecifier")},Q.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Cn),this.finishNode(e,"ImportDefaultSpecifier")},Q.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Cn),this.finishNode(e,"ImportNamespaceSpecifier")},Q.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===M.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(M.comma)))return e;if(this.type===M.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(M.braceL);!this.eat(M.braceR);){if(t)t=!1;else if(this.expect(M.comma),this.afterTrailingComma(M.braceR))break;e.push(this.parseImportSpecifier())}return e},Q.parseWithClause=function(){var e=[];if(!this.eat(M._with))return e;this.expect(M.braceL);for(var t={},n=!0;!this.eat(M.braceR);){if(n)n=!1;else if(this.expect(M.comma),this.afterTrailingComma(M.braceR))break;var i=this.parseImportAttribute(),r=i.key.type==="Identifier"?i.key.name:i.key.value;yi(t,r)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+r+"'"),t[r]=!0,e.push(i)}return e},Q.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===M.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(M.colon),this.type!==M.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},Q.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===M.string){var e=this.parseLiteral(this.value);return WC.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},Q.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},Q.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Vt=et.prototype;Vt.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},Vt.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e},Vt.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Vt.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==M.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Vt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case M.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(M.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case M.braceL:return this.parseObj(!0)}return this.parseIdent()},Vt.parseBindingList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(M.comma),t&&this.type===M.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===M.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),r.push(u),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else r.push(this.parseAssignableListItem(i))}return r},Vt.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},Vt.parseBindingListItem=function(e){return e},Vt.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(M.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},Vt.checkLValSimple=function(e,t,n){t===void 0&&(t=vs);var i=t!==vs;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(i?"Binding ":"Assigning to ")+e.name+" in strict mode"),i&&(t===Cn&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(yi(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==J2&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(i?"Binding":"Assigning to")+" rvalue")}},Vt.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=vs),e.type){case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var u=0,o=e.elements;u<o.length;u+=1){var c=o[u];c&&this.checkLValInnerPattern(c,t,n)}break;default:this.checkLValSimple(e,t,n)}},Vt.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=vs),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var jt=function(t,n,i,r,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!i,this.override=r,this.generator=!!s},Xe={b_stat:new jt("{",!1),b_expr:new jt("{",!0),b_tmpl:new jt("${",!1),p_stat:new jt("(",!1),p_expr:new jt("(",!0),q_tmpl:new jt("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new jt("function",!1),f_expr:new jt("function",!0),f_expr_gen:new jt("function",!0,!1,null,!0),f_gen:new jt("function",!1,!1,null,!0)},Ai=et.prototype;Ai.initialContext=function(){return[Xe.b_stat]},Ai.curContext=function(){return this.context[this.context.length-1]},Ai.braceIsBlock=function(e){var t=this.curContext();return t===Xe.f_expr||t===Xe.f_stat?!0:e===M.colon&&(t===Xe.b_stat||t===Xe.b_expr)?!t.isExpr:e===M._return||e===M.name&&this.exprAllowed?xt.test(this.input.slice(this.lastTokEnd,this.start)):e===M._else||e===M.semi||e===M.eof||e===M.parenR||e===M.arrow?!0:e===M.braceL?t===Xe.b_stat:e===M._var||e===M._const||e===M.name?!1:!this.exprAllowed},Ai.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1},Ai.updateContext=function(e){var t,n=this.type;n.keyword&&e===M.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},Ai.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},M.parenR.updateContext=M.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Xe.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},M.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Xe.b_stat:Xe.b_expr),this.exprAllowed=!0},M.dollarBraceL.updateContext=function(){this.context.push(Xe.b_tmpl),this.exprAllowed=!0},M.parenL.updateContext=function(e){var t=e===M._if||e===M._for||e===M._with||e===M._while;this.context.push(t?Xe.p_stat:Xe.p_expr),this.exprAllowed=!0},M.incDec.updateContext=function(){},M._function.updateContext=M._class.updateContext=function(e){e.beforeExpr&&e!==M._else&&!(e===M.semi&&this.curContext()!==Xe.p_stat)&&!(e===M._return&&xt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===M.colon||e===M.braceL)&&this.curContext()===Xe.b_stat)?this.context.push(Xe.f_expr):this.context.push(Xe.f_stat),this.exprAllowed=!1},M.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},M.backQuote.updateContext=function(){this.curContext()===Xe.q_tmpl?this.context.pop():this.context.push(Xe.q_tmpl),this.exprAllowed=!1},M.star.updateContext=function(e){if(e===M._function){var t=this.context.length-1;this.context[t]===Xe.f_expr?this.context[t]=Xe.f_expr_gen:this.context[t]=Xe.f_gen}this.exprAllowed=!0},M.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==M.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var le=et.prototype;le.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i=e.key,r;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);return}r="$"+r;var u=t[r];if(u){var o;s==="init"?o=this.strict&&u.init||u.get||u.set:o=u.init||u[s],o&&this.raiseRecoverable(i.start,"Redefinition of property")}else u=t[r]={init:!1,get:!1,set:!1};u[s]=!0}},le.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===M.comma){var s=this.startNodeAt(n,i);for(s.expressions=[r];this.eat(M.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return r},le.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,r=-1,s=-1,u=-1;t?(r=t.parenthesizedAssign,s=t.trailingComma,u=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Ps,i=!0);var o=this.start,c=this.startLoc;(this.type===M.parenL||this.type===M.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var h=this.parseMaybeConditional(e,t);if(n&&(h=n.call(this,h,o,c)),this.type.isAssign){var d=this.startNodeAt(o,c);return d.operator=this.value,this.type===M.eq&&(h=this.toAssignable(h,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=h.start&&(t.shorthandAssign=-1),this.type===M.eq?this.checkLValPattern(h):this.checkLValSimple(h),d.left=h,this.next(),d.right=this.parseMaybeAssign(e),u>-1&&(t.doubleProto=u),this.finishNode(d,"AssignmentExpression")}else i&&this.checkExpressionErrors(t,!0);return r>-1&&(t.parenthesizedAssign=r),s>-1&&(t.trailingComma=s),h},le.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(M.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(M.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return r},le.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||r.start===n&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,n,i,-1,e)},le.parseExprOp=function(e,t,n,i,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==M._in)&&s>i){var u=this.type===M.logicalOR||this.type===M.logicalAND,o=this.type===M.coalesce;o&&(s=M.logicalAND.binop);var c=this.value;this.next();var h=this.start,d=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,d,s,r),m=this.buildBinary(t,n,e,g,c,u||o);return(u&&this.type===M.coalesce||o&&(this.type===M.logicalOR||this.type===M.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(m,t,n,i,r)}return e},le.buildBinary=function(e,t,n,i,r,s){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(e,t);return u.left=n,u.operator=r,u.right=i,this.finishNode(u,s?"LogicalExpression":"BinaryExpression")},le.parseMaybeUnary=function(e,t,n,i){var r=this.start,s=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(i),t=!0;else if(this.type.prefix){var o=this.startNode(),c=this.type===M.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,c,i),this.checkExpressionErrors(e,!0),c?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&Q2(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&i1(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):t=!0,u=this.finishNode(o,c?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===M.privateId)(i||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==M._in&&this.unexpected();else{if(u=this.parseExprSubscripts(e,i),this.checkExpressionErrors(e))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,s);h.operator=this.value,h.prefix=!1,h.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(h,"UpdateExpression")}}if(!n&&this.eat(M.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,u,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return u};function Q2(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&Q2(e.expression)}function i1(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&i1(e.expression)||e.type==="ParenthesizedExpression"&&i1(e.expression)}le.parseExprSubscripts=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprAtom(e,t);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,n,i,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s},le.parseSubscripts=function(e,t,n,i,r){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,u=!1;;){var o=this.parseSubscript(e,t,n,i,s,u,r);if(o.optional&&(u=!0),o===e||o.type==="ArrowFunctionExpression"){if(u){var c=this.startNodeAt(t,n);c.expression=o,o=this.finishNode(c,"ChainExpression")}return o}e=o}},le.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(M.arrow)},le.parseSubscriptAsyncArrow=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,i)},le.parseSubscript=function(e,t,n,i,r,s,u){var o=this.options.ecmaVersion>=11,c=o&&this.eat(M.questionDot);i&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(M.bracketL);if(h||c&&this.type!==M.parenL&&this.type!==M.backQuote||this.eat(M.dot)){var d=this.startNodeAt(t,n);d.object=e,h?(d.property=this.parseExpression(),this.expect(M.bracketR)):this.type===M.privateId&&e.type!=="Super"?d.property=this.parsePrivateIdent():d.property=this.parseIdent(this.options.allowReserved!=="never"),d.computed=!!h,o&&(d.optional=c),e=this.finishNode(d,"MemberExpression")}else if(!i&&this.eat(M.parenL)){var g=new Ps,m=this.yieldPos,A=this.awaitPos,C=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var v=this.parseExprList(M.parenR,this.options.ecmaVersion>=8,!1,g);if(r&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=m,this.awaitPos=A,this.awaitIdentPos=C,this.parseSubscriptAsyncArrow(t,n,v,u);this.checkExpressionErrors(g,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=A||this.awaitPos,this.awaitIdentPos=C||this.awaitIdentPos;var E=this.startNodeAt(t,n);E.callee=e,E.arguments=v,o&&(E.optional=c),e=this.finishNode(E,"CallExpression")}else if(this.type===M.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var k=this.startNodeAt(t,n);k.tag=e,k.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(k,"TaggedTemplateExpression")}return e},le.parseExprAtom=function(e,t,n){this.type===M.slash&&this.readRegexp();var i,r=this.potentialArrowAt===this.start;switch(this.type){case M._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===M.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==M.dot&&this.type!==M.bracketL&&this.type!==M.parenL&&this.unexpected(),this.finishNode(i,"Super");case M._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case M.name:var s=this.start,u=this.startLoc,o=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(M._function))return this.overrideContext(Xe.f_expr),this.parseFunction(this.startNodeAt(s,u),0,!1,!0,t);if(r&&!this.canInsertSemicolon()){if(this.eat(M.arrow))return this.parseArrowExpression(this.startNodeAt(s,u),[c],!1,t);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===M.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(M.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,u),[c],!0,t)}return c;case M.regexp:var h=this.value;return i=this.parseLiteral(h.value),i.regex={pattern:h.pattern,flags:h.flags},i;case M.num:case M.string:return this.parseLiteral(this.value);case M._null:case M._true:case M._false:return i=this.startNode(),i.value=this.type===M._null?null:this.type===M._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case M.parenL:var d=this.start,g=this.parseParenAndDistinguishExpression(r,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(e.parenthesizedAssign=d),e.parenthesizedBind<0&&(e.parenthesizedBind=d)),g;case M.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(M.bracketR,!0,!0,e),this.finishNode(i,"ArrayExpression");case M.braceL:return this.overrideContext(Xe.b_expr),this.parseObj(!1,e);case M._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case M._class:return this.parseClass(this.startNode(),!1);case M._new:return this.parseNew();case M.backQuote:return this.parseTemplate();case M._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},le.parseExprAtomDefault=function(){this.unexpected()},le.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===M.parenL&&!e)return this.parseDynamicImport(t);if(this.type===M.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()},le.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(M.parenR)?e.options=null:(this.expect(M.comma),this.afterTrailingComma(M.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(M.parenR)||(this.expect(M.comma),this.afterTrailingComma(M.parenR)||this.unexpected())));else if(!this.eat(M.parenR)){var t=this.start;this.eat(M.comma)&&this.eat(M.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},le.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},le.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},le.parseParenExpression=function(){this.expect(M.parenL);var e=this.parseExpression();return this.expect(M.parenR),e},le.shouldParseArrow=function(e){return!this.canInsertSemicolon()},le.parseParenAndDistinguishExpression=function(e,t){var n=this.start,i=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,o=this.startLoc,c=[],h=!0,d=!1,g=new Ps,m=this.yieldPos,A=this.awaitPos,C;for(this.yieldPos=0,this.awaitPos=0;this.type!==M.parenR;)if(h?h=!1:this.expect(M.comma),s&&this.afterTrailingComma(M.parenR,!0)){d=!0;break}else if(this.type===M.ellipsis){C=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var v=this.lastTokEnd,E=this.lastTokEndLoc;if(this.expect(M.parenR),e&&this.shouldParseArrow(c)&&this.eat(M.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=m,this.awaitPos=A,this.parseParenArrowList(n,i,c,t);(!c.length||d)&&this.unexpected(this.lastTokStart),C&&this.unexpected(C),this.checkExpressionErrors(g,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=A||this.awaitPos,c.length>1?(r=this.startNodeAt(u,o),r.expressions=c,this.finishNodeAt(r,"SequenceExpression",v,E)):r=c[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var k=this.startNodeAt(n,i);return k.expression=r,this.finishNode(k,"ParenthesizedExpression")}else return r},le.parseParenItem=function(e){return e},le.parseParenArrowList=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,i)};var KC=[];le.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===M.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,r,!0,!1),this.eat(M.parenL)?e.arguments=this.parseExprList(M.parenR,this.options.ecmaVersion>=8,!1):e.arguments=KC,this.finishNode(e,"NewExpression")},le.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===M.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===M.backQuote,this.finishNode(n,"TemplateElement")},le.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===M.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(M.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(M.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},le.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===M.name||this.type===M.num||this.type===M.string||this.type===M.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===M.star)&&!xt.test(this.input.slice(this.lastTokEnd,this.start))},le.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(M.braceR);){if(i)i=!1;else if(this.expect(M.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(M.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,r,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},le.parseProperty=function(e,t){var n=this.startNode(),i,r,s,u;if(this.options.ecmaVersion>=9&&this.eat(M.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===M.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,u=this.startLoc),e||(i=this.eat(M.star)));var o=this.containsEsc;return this.parsePropertyName(n),!e&&!o&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(n)?(r=!0,i=this.options.ecmaVersion>=9&&this.eat(M.star),this.parsePropertyName(n)):r=!1,this.parsePropertyValue(n,e,i,r,s,u,t,o),this.finishNode(n,"Property")},le.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},le.parsePropertyValue=function(e,t,n,i,r,s,u,o){(n||i)&&this.type===M.colon&&this.unexpected(),this.eat(M.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),e.kind="init"):this.options.ecmaVersion>=6&&this.type===M.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,i)):!t&&!o&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==M.comma&&this.type!==M.braceR&&this.type!==M.eq?((n||i)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||i)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),e.kind="init",t?e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key)):this.type===M.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()},le.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(M.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(M.bracketR),e.key;e.computed=!1}return e.key=this.type===M.num||this.type===M.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},le.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},le.parseMethod=function(e,t,n){var i=this.startNode(),r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Qh(t,i.generator)|Jh|(n?H2:0)),this.expect(M.parenL),i.params=this.parseBindingList(M.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(i,"FunctionExpression")},le.parseArrowExpression=function(e,t,n,i){var r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(Qh(n,!1)|$2),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,i),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(e,"ArrowFunctionExpression")},le.parseFunctionBody=function(e,t,n,i){var r=t&&this.type!==M.braceL,s=this.strict,u=!1;if(r)e.body=this.parseMaybeAssign(i),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||o)&&(u=this.strictDirective(this.end),u&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(e,!s&&!u&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,J2),e.body=this.parseBlock(!1,void 0,u&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=c}this.exitScope()},le.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var i=n[t];if(i.type!=="Identifier")return!1}return!0},le.checkParams=function(e,t){for(var n=Object.create(null),i=0,r=e.params;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,e1,t?null:n)}},le.parseExprList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(M.comma),t&&this.afterTrailingComma(e))break;var u=void 0;n&&this.type===M.comma?u=null:this.type===M.ellipsis?(u=this.parseSpread(i),i&&this.type===M.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):u=this.parseMaybeAssign(!1,i),r.push(u)}return r},le.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&i==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))}},le.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t},le.parseIdentNode=function(){var e=this.startNode();return this.type===M.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=M.name):this.unexpected(),e},le.parsePrivateIdent=function(){var e=this.startNode();return this.type===M.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},le.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===M.semi||this.canInsertSemicolon()||this.type!==M.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(M.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},le.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var Fs=et.prototype;Fs.raise=function(e,t){var n=O2(this.input,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},Fs.raiseRecoverable=Fs.raise,Fs.curPosition=function(){if(this.options.locations)return new or(this.curLine,this.pos-this.lineStart)};var Tn=et.prototype,YC=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Tn.enterScope=function(e){this.scopeStack.push(new YC(e))},Tn.exitScope=function(){this.scopeStack.pop()},Tn.treatFunctionsAsVarInScope=function(e){return e.flags&bi||!this.inModule&&e.flags&cr},Tn.declareName=function(e,t,n){var i=!1;if(t===Cn){var r=this.currentScope();i=r.lexical.indexOf(e)>-1||r.functions.indexOf(e)>-1||r.var.indexOf(e)>-1,r.lexical.push(e),this.inModule&&r.flags&cr&&delete this.undefinedExports[e]}else if(t===Y2){var s=this.currentScope();s.lexical.push(e)}else if(t===K2){var u=this.currentScope();this.treatFunctionsAsVar?i=u.lexical.indexOf(e)>-1:i=u.lexical.indexOf(e)>-1||u.var.indexOf(e)>-1,u.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var c=this.scopeStack[o];if(c.lexical.indexOf(e)>-1&&!(c.flags&q2&&c.lexical[0]===e)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(e)>-1){i=!0;break}if(c.var.push(e),this.inModule&&c.flags&cr&&delete this.undefinedExports[e],c.flags&Uh)break}i&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Tn.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)},Tn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Tn.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Uh)return t}},Tn.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Uh&&!(t.flags&$2))return t}};var Es=function(t,n,i){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new Cs(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},hr=et.prototype;hr.startNode=function(){return new Es(this,this.start,this.startLoc)},hr.startNodeAt=function(e,t){return new Es(this,e,t)};function e3(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}hr.finishNode=function(e,t){return e3.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},hr.finishNodeAt=function(e,t,n,i){return e3.call(this,e,t,n,i)},hr.copyNode=function(e){var t=new Es(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var JC="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",t3="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",n3=t3+" Extended_Pictographic",i3=n3,r3=i3+" EBase EComp EMod EPres ExtPict",s3=r3,UC=s3,QC={9:t3,10:n3,11:i3,12:r3,13:s3,14:UC},ev="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",tv={9:"",10:"",11:"",12:"",13:"",14:ev},u3="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",a3="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",o3=a3+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",c3=o3+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",l3=c3+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",f3=l3+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",nv=f3+" "+JC,iv={9:a3,10:o3,11:c3,12:l3,13:f3,14:nv},h3={};function rv(e){var t=h3[e]={binary:Vn(QC[e]+" "+u3),binaryOfStrings:Vn(tv[e]),nonBinary:{General_Category:Vn(u3),Script:Vn(iv[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var r1=0,d3=[9,10,11,12,13,14];r1<d3.length;r1+=1){var sv=d3[r1];rv(sv)}var U=et.prototype,ws=function(t,n){this.parent=t,this.base=n||this};ws.prototype.separatedFrom=function(t){for(var n=this;n;n=n.parent)for(var i=t;i;i=i.parent)if(n.base===i.base&&n!==i)return!0;return!1},ws.prototype.sibling=function(){return new ws(this.parent,this.base)};var sn=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=h3[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};sn.prototype.reset=function(t,n,i){var r=i.indexOf("v")!==-1,s=i.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=i,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},sn.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},sn.prototype.at=function(t,n){n===void 0&&(n=!1);var i=this.source,r=i.length;if(t>=r)return-1;var s=i.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=r)return s;var u=i.charCodeAt(t+1);return u>=56320&&u<=57343?(s<<10)+u-56613888:s},sn.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var i=this.source,r=i.length;if(t>=r)return r;var s=i.charCodeAt(t),u;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=r||(u=i.charCodeAt(t+1))<56320||u>57343?t+1:t+2},sn.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)},sn.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},sn.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)},sn.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1},sn.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var i=this.pos,r=0,s=t;r<s.length;r+=1){var u=s[r],o=this.at(i,n);if(o===-1||o!==u)return!1;i=this.nextIndex(i,n)}return this.pos=i,!0},U.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=!1,r=!1,s=0;s<n.length;s++){var u=n.charAt(s);t.indexOf(u)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(u,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),u==="u"&&(i=!0),u==="v"&&(r=!0)}this.options.ecmaVersion>=15&&i&&r&&this.raise(e.start,"Invalid regular expression flag")};function uv(e){for(var t in e)return!0;return!1}U.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&uv(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},U.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];e.groupNames[i]||e.raise("Invalid named capture referenced")}},U.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new ws(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},U.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},U.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1},U.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},U.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1},U.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},U.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return r!==-1&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},U.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},U.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},U.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),i=e.eat(45);if(n||i){for(var r=0;r<n.length;r++){var s=n.charAt(r);n.indexOf(s,r+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(i){var u=this.regexp_eatModifiers(e);!n&&!u&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var o=0;o<u.length;o++){var c=u.charAt(o);(u.indexOf(c,o+1)>-1||n.indexOf(c)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},U.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},U.regexp_eatModifiers=function(e){for(var t="",n=0;(n=e.current())!==-1&&av(n);)t+=Mn(n),e.advance();return t};function av(e){return e===105||e===109||e===115}U.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},U.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},U.regexp_eatSyntaxCharacter=function(e){var t=e.current();return m3(t)?(e.lastIntValue=t,e.advance(),!0):!1};function m3(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}U.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!m3(n);)e.advance();return e.pos!==t},U.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1},U.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var i=0,r=n;i<r.length;i+=1){var s=r[i];s.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},U.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},U.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Mn(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Mn(e.lastIntValue);return!0}return!1},U.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),ov(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function ov(e){return An(e,!0)||e===36||e===95}U.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),cv(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function cv(e){return pi(e,!0)||e===36||e===95||e===8204||e===8205}U.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},U.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},U.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},U.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},U.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},U.regexp_eatZero=function(e){return e.current()===48&&!Ss(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1},U.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1},U.regexp_eatControlLetter=function(e){var t=e.current();return p3(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function p3(e){return e>=65&&e<=90||e>=97&&e<=122}U.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(i&&r>=55296&&r<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var u=e.lastIntValue;if(u>=56320&&u<=57343)return e.lastIntValue=(r-55296)*1024+(u-56320)+65536,!0}e.pos=s,e.lastIntValue=r}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&lv(e.lastIntValue))return!0;i&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function lv(e){return e>=0&&e<=1114111}U.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1},U.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var g3=0,vn=1,Tt=2;U.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(fv(t))return e.lastIntValue=-1,e.advance(),vn;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var i;if(e.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&i===Tt&&e.raise("Invalid property name"),i;e.raise("Invalid property name")}return g3};function fv(e){return e===100||e===68||e===115||e===83||e===119||e===87}U.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),vn}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,r)}return g3},U.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){yi(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},U.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return vn;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Tt;e.raise("Invalid property name")},U.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";y3(t=e.current());)e.lastStringValue+=Mn(t),e.advance();return e.lastStringValue!==""};function y3(e){return p3(e)||e===95}U.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";hv(t=e.current());)e.lastStringValue+=Mn(t),e.advance();return e.lastStringValue!==""};function hv(e){return y3(e)||Ss(e)}U.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},U.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Tt&&e.raise("Negated character class may contain strings"),!0}return!1},U.regexp_classContents=function(e){return e.current()===93?vn:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),vn)},U.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}},U.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||M3(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return i!==93?(e.lastIntValue=i,e.advance(),!0):!1},U.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},U.regexp_classSetExpression=function(e){var t=vn,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Tt&&(t=Tt);for(var i=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Tt&&(t=vn);continue}e.raise("Invalid character in character class")}if(i!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(i!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Tt&&(t=Tt)}},U.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;return n!==-1&&i!==-1&&n>i&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},U.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?vn:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},U.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),i=this.regexp_classContents(e);if(e.eat(93))return n&&i===Tt&&e.raise("Negated character class may contain strings"),i;e.pos=t}if(e.eat(92)){var r=this.regexp_eatCharacterClassEscape(e);if(r)return r;e.pos=t}return null},U.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},U.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Tt&&(t=Tt);return t},U.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?vn:Tt},U.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&dv(n)||mv(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function dv(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function mv(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}U.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return pv(t)?(e.lastIntValue=t,e.advance(),!0):!1};function pv(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}U.regexp_eatClassControlLetter=function(e){var t=e.current();return Ss(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1},U.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},U.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Ss(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function Ss(e){return e>=48&&e<=57}U.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;b3(n=e.current());)e.lastIntValue=16*e.lastIntValue+A3(n),e.advance();return e.pos!==t};function b3(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function A3(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}U.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1},U.regexp_eatOctalDigit=function(e){var t=e.current();return M3(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function M3(e){return e>=48&&e<=55}U.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!b3(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+A3(r),e.advance()}return!0};var s1=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Cs(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},ve=et.prototype;ve.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new s1(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ve.getToken=function(){return this.next(),new s1(this)},typeof Symbol<"u"&&(ve[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===M.eof,value:t}}}}),ve.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(M.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())},ve.readToken=function(e){return An(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)},ve.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},ve.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,r=t;(i=R2(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},ve.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!gi(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},ve.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&G2.test(String.fromCharCode(e)))++this.pos;else break e}}},ve.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},ve.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(M.ellipsis)):(++this.pos,this.finishToken(M.dot))},ve.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(M.assign,2):this.finishOp(M.slash,1)},ve.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=e===42?M.star:M.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,i=M.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(M.assign,n+1):this.finishOp(i,n)},ve.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(M.assign,3)}return this.finishOp(e===124?M.logicalOR:M.logicalAND,2)}return t===61?this.finishOp(M.assign,2):this.finishOp(e===124?M.bitwiseOR:M.bitwiseAND,1)},ve.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(M.assign,2):this.finishOp(M.bitwiseXOR,1)},ve.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||xt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(M.incDec,2):t===61?this.finishOp(M.assign,2):this.finishOp(M.plusMin,1)},ve.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(M.assign,n+1):this.finishOp(M.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(M.relational,n))},ve.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(M.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(M.arrow)):this.finishOp(e===61?M.eq:M.prefix,1)},ve.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(M.questionDot,2)}if(t===63){if(e>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(M.assign,3)}return this.finishOp(M.coalesce,2)}}return this.finishOp(M.question,1)},ve.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),An(t,!0)||t===92))return this.finishToken(M.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Mn(t)+"'")},ve.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(M.parenL);case 41:return++this.pos,this.finishToken(M.parenR);case 59:return++this.pos,this.finishToken(M.semi);case 44:return++this.pos,this.finishToken(M.comma);case 91:return++this.pos,this.finishToken(M.bracketL);case 93:return++this.pos,this.finishToken(M.bracketR);case 123:return++this.pos,this.finishToken(M.braceL);case 125:return++this.pos,this.finishToken(M.braceR);case 58:return++this.pos,this.finishToken(M.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(M.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(M.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Mn(e)+"'")},ve.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},ve.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(xt.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(i==="[")t=!0;else if(i==="]"&&t)t=!1;else if(i==="/"&&!t)break;e=i==="\\"}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var s=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new sn(this));o.reset(n,r,u),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(r,u)}catch{}return this.finishToken(M.regexp,{pattern:r,flags:u,value:c})},ve.readInt=function(e,t,n){for(var i=this.options.ecmaVersion>=12&&t===void 0,r=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,u=0,o=0,c=0,h=t??1/0;c<h;++c,++this.pos){var d=this.input.charCodeAt(this.pos),g=void 0;if(i&&d===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=d;continue}if(d>=97?g=d-97+10:d>=65?g=d-65+10:d>=48&&d<=57?g=d-48:g=1/0,g>=e)break;o=d,u=u*e+g}return i&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:u};function gv(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function C3(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}ve.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=C3(this.input.slice(t,this.pos)),++this.pos):An(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(M.num,n)},ve.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&i===110){var r=C3(this.input.slice(t,this.pos));return++this.pos,An(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(M.num,r)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),i===46&&!n&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!n&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),An(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=gv(this.input.slice(t,this.pos),n);return this.finishToken(M.num,s)},ve.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t},ve.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;i===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(gi(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(M.string,t)};var v3={};ve.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===v3)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},ve.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw v3;this.raise(e,t)},ve.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===M.template||this.type===M.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(M.dollarBraceL)):(++this.pos,this.finishToken(M.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(M.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(gi(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},ve.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(M.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},ve.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Mn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(i,8);return r>255&&(i=i.slice(0,-1),r=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),(i!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return gi(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}},ve.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n},ve.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(pi(r,i))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(t?An:pi)(u,i)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Mn(u),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)},ve.readWord=function(){var e=this.readWord1(),t=M.name;return this.keywords.test(e)&&(t=Hh[e]),this.finishToken(t,e)};var yv="8.14.0";et.acorn={Parser:et,version:yv,defaultOptions:Kh,Position:or,SourceLocation:Cs,getLineInfo:O2,Node:Es,TokenType:Fe,tokTypes:M,keywordTypes:Hh,TokContext:jt,tokContexts:Xe,isIdentifierChar:pi,isIdentifierStart:An,Token:s1,isNewLine:gi,lineBreak:xt,lineBreakG:GC,nonASCIIwhitespace:G2};function bv(e,t){return et.parse(e,t)}var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var u1={},a1={},D3;function Cv(){return D3||(D3=1,function(e){(function t(n){var i,r,s,u,o,c;function h(S){var x={},T,N;for(T in S)S.hasOwnProperty(T)&&(N=S[T],typeof N=="object"&&N!==null?x[T]=h(N):x[T]=N);return x}function d(S,x){var T,N,K,W;for(N=S.length,K=0;N;)T=N>>>1,W=K+T,x(S[W])?N=T:(K=W+1,N-=T+1);return K}i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={},o={},c={},r={Break:u,Skip:o,Remove:c};function g(S,x){this.parent=S,this.key=x}g.prototype.replace=function(x){this.parent[this.key]=x},g.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function m(S,x,T,N){this.node=S,this.path=x,this.wrap=T,this.ref=N}function A(){}A.prototype.path=function(){var x,T,N,K,W,ee;function z(j,ne){if(Array.isArray(ne))for(N=0,K=ne.length;N<K;++N)j.push(ne[N]);else j.push(ne)}if(!this.__current.path)return null;for(W=[],x=2,T=this.__leavelist.length;x<T;++x)ee=this.__leavelist[x],z(W,ee.path);return z(W,this.__current.path),W},A.prototype.type=function(){var S=this.current();return S.type||this.__current.wrap},A.prototype.parents=function(){var x,T,N;for(N=[],x=1,T=this.__leavelist.length;x<T;++x)N.push(this.__leavelist[x].node);return N},A.prototype.current=function(){return this.__current.node},A.prototype.__execute=function(x,T){var N,K;return K=void 0,N=this.__current,this.__current=T,this.__state=null,x&&(K=x.call(this,T.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=N,K},A.prototype.notify=function(x){this.__state=x},A.prototype.skip=function(){this.notify(o)},A.prototype.break=function(){this.notify(u)},A.prototype.remove=function(){this.notify(c)},A.prototype.__initialize=function(S,x){this.visitor=x,this.root=S,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,x.fallback==="iteration"?this.__fallback=Object.keys:typeof x.fallback=="function"&&(this.__fallback=x.fallback),this.__keys=s,x.keys&&(this.__keys=Object.assign(Object.create(this.__keys),x.keys))};function C(S){return S==null?!1:typeof S=="object"&&typeof S.type=="string"}function v(S,x){return(S===i.ObjectExpression||S===i.ObjectPattern)&&x==="properties"}function E(S,x){for(var T=S.length-1;T>=0;--T)if(S[T].node===x)return!0;return!1}A.prototype.traverse=function(x,T){var N,K,W,ee,z,j,ne,ye,pe,fe,ue,Ie;for(this.__initialize(x,T),Ie={},N=this.__worklist,K=this.__leavelist,N.push(new m(x,null,null,null)),K.push(new m(null,null,null,null));N.length;){if(W=N.pop(),W===Ie){if(W=K.pop(),j=this.__execute(T.leave,W),this.__state===u||j===u)return;continue}if(W.node){if(j=this.__execute(T.enter,W),this.__state===u||j===u)return;if(N.push(Ie),K.push(W),this.__state===o||j===o)continue;if(ee=W.node,z=ee.type||W.wrap,fe=this.__keys[z],!fe)if(this.__fallback)fe=this.__fallback(ee);else throw new Error("Unknown node type "+z+".");for(ye=fe.length;(ye-=1)>=0;)if(ne=fe[ye],ue=ee[ne],!!ue){if(Array.isArray(ue)){for(pe=ue.length;(pe-=1)>=0;)if(ue[pe]&&!E(K,ue[pe])){if(v(z,fe[ye]))W=new m(ue[pe],[ne,pe],"Property",null);else if(C(ue[pe]))W=new m(ue[pe],[ne,pe],null,null);else continue;N.push(W)}}else if(C(ue)){if(E(K,ue))continue;N.push(new m(ue,ne,null,null))}}}}},A.prototype.replace=function(x,T){var N,K,W,ee,z,j,ne,ye,pe,fe,ue,Ie,nt;function ce(O){var Ye,_e,it,be;if(O.ref.remove()){for(_e=O.ref.key,be=O.ref.parent,Ye=N.length;Ye--;)if(it=N[Ye],it.ref&&it.ref.parent===be){if(it.ref.key<_e)break;--it.ref.key}}}for(this.__initialize(x,T),ue={},N=this.__worklist,K=this.__leavelist,Ie={root:x},j=new m(x,null,null,new g(Ie,"root")),N.push(j),K.push(j);N.length;){if(j=N.pop(),j===ue){if(j=K.pop(),z=this.__execute(T.leave,j),z!==void 0&&z!==u&&z!==o&&z!==c&&j.ref.replace(z),(this.__state===c||z===c)&&ce(j),this.__state===u||z===u)return Ie.root;continue}if(z=this.__execute(T.enter,j),z!==void 0&&z!==u&&z!==o&&z!==c&&(j.ref.replace(z),j.node=z),(this.__state===c||z===c)&&(ce(j),j.node=null),this.__state===u||z===u)return Ie.root;if(W=j.node,!!W&&(N.push(ue),K.push(j),!(this.__state===o||z===o))){if(ee=W.type||j.wrap,pe=this.__keys[ee],!pe)if(this.__fallback)pe=this.__fallback(W);else throw new Error("Unknown node type "+ee+".");for(ne=pe.length;(ne-=1)>=0;)if(nt=pe[ne],fe=W[nt],!!fe)if(Array.isArray(fe)){for(ye=fe.length;(ye-=1)>=0;)if(fe[ye]){if(v(ee,pe[ne]))j=new m(fe[ye],[nt,ye],"Property",new g(fe,ye));else if(C(fe[ye]))j=new m(fe[ye],[nt,ye],null,new g(fe,ye));else continue;N.push(j)}}else C(fe)&&N.push(new m(fe,nt,null,new g(W,nt)))}}return Ie.root};function k(S,x){var T=new A;return T.traverse(S,x)}function V(S,x){var T=new A;return T.replace(S,x)}function R(S,x){var T;return T=d(x,function(K){return K.range[0]>S.range[0]}),S.extendedRange=[S.range[0],S.range[1]],T!==x.length&&(S.extendedRange[1]=x[T].range[0]),T-=1,T>=0&&(S.extendedRange[0]=x[T].range[1]),S}function _(S,x,T){var N=[],K,W,ee,z;if(!S.range)throw new Error("attachComments needs range information");if(!T.length){if(x.length){for(ee=0,W=x.length;ee<W;ee+=1)K=h(x[ee]),K.extendedRange=[0,S.range[0]],N.push(K);S.leadingComments=N}return S}for(ee=0,W=x.length;ee<W;ee+=1)N.push(R(h(x[ee]),T));return z=0,k(S,{enter:function(j){for(var ne;z<N.length&&(ne=N[z],!(ne.extendedRange[1]>j.range[0]));)ne.extendedRange[1]===j.range[0]?(j.leadingComments||(j.leadingComments=[]),j.leadingComments.push(ne),N.splice(z,1)):z+=1;if(z===N.length)return r.Break;if(N[z].extendedRange[0]>j.range[1])return r.Skip}}),z=0,k(S,{leave:function(j){for(var ne;z<N.length&&(ne=N[z],!(j.range[1]<ne.extendedRange[0]));)j.range[1]===ne.extendedRange[0]?(j.trailingComments||(j.trailingComments=[]),j.trailingComments.push(ne),N.splice(z,1)):z+=1;if(z===N.length)return r.Break;if(N[z].extendedRange[0]>j.range[1])return r.Skip}}),S}return n.Syntax=i,n.traverse=k,n.replace=V,n.attachComments=_,n.VisitorKeys=s,n.VisitorOption=r,n.Controller=A,n.cloneEnvironment=function(){return t({})},n})(e)}(a1)),a1}var dr={},o1={exports:{}},F3;function vv(){return F3||(F3=1,function(){function e(u){if(u==null)return!1;switch(u.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(u){if(u==null)return!1;switch(u.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(u){if(u==null)return!1;switch(u.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(u){return n(u)||u!=null&&u.type==="FunctionDeclaration"}function r(u){switch(u.type){case"IfStatement":return u.alternate!=null?u.alternate:u.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return u.body}return null}function s(u){var o;if(u.type!=="IfStatement"||u.alternate==null)return!1;o=u.consequent;do{if(o.type==="IfStatement"&&o.alternate==null)return!0;o=r(o)}while(o);return!1}o1.exports={isExpression:e,isStatement:n,isIterationStatement:t,isSourceElement:i,isProblematicIfStatement:s,trailingStatement:r}}()),o1.exports}var c1={exports:{}},E3;function w3(){return E3||(E3=1,function(){var e,t,n,i,r,s;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function u(E){return 48<=E&&E<=57}function o(E){return 48<=E&&E<=57||97<=E&&E<=102||65<=E&&E<=70}function c(E){return E>=48&&E<=55}n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(E){return E===32||E===9||E===11||E===12||E===160||E>=5760&&n.indexOf(E)>=0}function d(E){return E===10||E===13||E===8232||E===8233}function g(E){if(E<=65535)return String.fromCharCode(E);var k=String.fromCharCode(Math.floor((E-65536)/1024)+55296),V=String.fromCharCode((E-65536)%1024+56320);return k+V}for(i=new Array(128),s=0;s<128;++s)i[s]=s>=97&&s<=122||s>=65&&s<=90||s===36||s===95;for(r=new Array(128),s=0;s<128;++s)r[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===36||s===95;function m(E){return E<128?i[E]:t.NonAsciiIdentifierStart.test(g(E))}function A(E){return E<128?r[E]:t.NonAsciiIdentifierPart.test(g(E))}function C(E){return E<128?i[E]:e.NonAsciiIdentifierStart.test(g(E))}function v(E){return E<128?r[E]:e.NonAsciiIdentifierPart.test(g(E))}c1.exports={isDecimalDigit:u,isHexDigit:o,isOctalDigit:c,isWhiteSpace:h,isLineTerminator:d,isIdentifierStartES5:m,isIdentifierPartES5:A,isIdentifierStartES6:C,isIdentifierPartES6:v}}()),c1.exports}var l1={exports:{}},S3;function Pv(){return S3||(S3=1,function(){var e=w3();function t(m){switch(m){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(m,A){return!A&&m==="yield"?!1:i(m,A)}function i(m,A){if(A&&t(m))return!0;switch(m.length){case 2:return m==="if"||m==="in"||m==="do";case 3:return m==="var"||m==="for"||m==="new"||m==="try";case 4:return m==="this"||m==="else"||m==="case"||m==="void"||m==="with"||m==="enum";case 5:return m==="while"||m==="break"||m==="catch"||m==="throw"||m==="const"||m==="yield"||m==="class"||m==="super";case 6:return m==="return"||m==="typeof"||m==="delete"||m==="switch"||m==="export"||m==="import";case 7:return m==="default"||m==="finally"||m==="extends";case 8:return m==="function"||m==="continue"||m==="debugger";case 10:return m==="instanceof";default:return!1}}function r(m,A){return m==="null"||m==="true"||m==="false"||n(m,A)}function s(m,A){return m==="null"||m==="true"||m==="false"||i(m,A)}function u(m){return m==="eval"||m==="arguments"}function o(m){var A,C,v;if(m.length===0||(v=m.charCodeAt(0),!e.isIdentifierStartES5(v)))return!1;for(A=1,C=m.length;A<C;++A)if(v=m.charCodeAt(A),!e.isIdentifierPartES5(v))return!1;return!0}function c(m,A){return(m-55296)*1024+(A-56320)+65536}function h(m){var A,C,v,E,k;if(m.length===0)return!1;for(k=e.isIdentifierStartES6,A=0,C=m.length;A<C;++A){if(v=m.charCodeAt(A),55296<=v&&v<=56319){if(++A,A>=C||(E=m.charCodeAt(A),!(56320<=E&&E<=57343)))return!1;v=c(v,E)}if(!k(v))return!1;k=e.isIdentifierPartES6}return!0}function d(m,A){return o(m)&&!r(m,A)}function g(m,A){return h(m)&&!s(m,A)}l1.exports={isKeywordES5:n,isKeywordES6:i,isReservedWordES5:r,isReservedWordES6:s,isRestrictedWord:u,isIdentifierNameES5:o,isIdentifierNameES6:h,isIdentifierES5:d,isIdentifierES6:g}}()),l1.exports}var B3;function Dv(){return B3||(B3=1,function(){dr.ast=vv(),dr.code=w3(),dr.keyword=Pv()}()),dr}var mr={},f1={},Bs={},_s={},_3;function Fv(){if(_3)return _s;_3=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return _s.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},_s.decode=function(t){var n=65,i=90,r=97,s=122,u=48,o=57,c=43,h=47,d=26,g=52;return n<=t&&t<=i?t-n:r<=t&&t<=s?t-r+d:u<=t&&t<=o?t-u+g:t==c?62:t==h?63:-1},_s}var x3;function k3(){if(x3)return Bs;x3=1;var e=Fv(),t=5,n=1<<t,i=n-1,r=n;function s(o){return o<0?(-o<<1)+1:(o<<1)+0}function u(o){var c=(o&1)===1,h=o>>1;return c?-h:h}return Bs.encode=function(c){var h="",d,g=s(c);do d=g&i,g>>>=t,g>0&&(d|=r),h+=e.encode(d);while(g>0);return h},Bs.decode=function(c,h,d){var g=c.length,m=0,A=0,C,v;do{if(h>=g)throw new Error("Expected more digits in base 64 VLQ value.");if(v=e.decode(c.charCodeAt(h++)),v===-1)throw new Error("Invalid base64 digit: "+c.charAt(h-1));C=!!(v&r),v&=i,m=m+(v<<A),A+=t}while(C);d.value=u(m),d.rest=h},Bs}var h1={},V3;function pr(){return V3||(V3=1,function(e){function t(_,S,x){if(S in _)return _[S];if(arguments.length===3)return x;throw new Error('"'+S+'" is a required argument.')}e.getArg=t;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function r(_){var S=_.match(n);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}e.urlParse=r;function s(_){var S="";return _.scheme&&(S+=_.scheme+":"),S+="//",_.auth&&(S+=_.auth+"@"),_.host&&(S+=_.host),_.port&&(S+=":"+_.port),_.path&&(S+=_.path),S}e.urlGenerate=s;function u(_){var S=_,x=r(_);if(x){if(!x.path)return _;S=x.path}for(var T=e.isAbsolute(S),N=S.split(/\/+/),K,W=0,ee=N.length-1;ee>=0;ee--)K=N[ee],K==="."?N.splice(ee,1):K===".."?W++:W>0&&(K===""?(N.splice(ee+1,W),W=0):(N.splice(ee,2),W--));return S=N.join("/"),S===""&&(S=T?"/":"."),x?(x.path=S,s(x)):S}e.normalize=u;function o(_,S){_===""&&(_="."),S===""&&(S=".");var x=r(S),T=r(_);if(T&&(_=T.path||"/"),x&&!x.scheme)return T&&(x.scheme=T.scheme),s(x);if(x||S.match(i))return S;if(T&&!T.host&&!T.path)return T.host=S,s(T);var N=S.charAt(0)==="/"?S:u(_.replace(/\/+$/,"")+"/"+S);return T?(T.path=N,s(T)):N}e.join=o,e.isAbsolute=function(_){return _.charAt(0)==="/"||n.test(_)};function c(_,S){_===""&&(_="."),_=_.replace(/\/$/,"");for(var x=0;S.indexOf(_+"/")!==0;){var T=_.lastIndexOf("/");if(T<0||(_=_.slice(0,T),_.match(/^([^\/]+:\/)?\/*$/)))return S;++x}return Array(x+1).join("../")+S.substr(_.length+1)}e.relative=c;var h=function(){var _=Object.create(null);return!("__proto__"in _)}();function d(_){return _}function g(_){return A(_)?"$"+_:_}e.toSetString=h?d:g;function m(_){return A(_)?_.slice(1):_}e.fromSetString=h?d:m;function A(_){if(!_)return!1;var S=_.length;if(S<9||_.charCodeAt(S-1)!==95||_.charCodeAt(S-2)!==95||_.charCodeAt(S-3)!==111||_.charCodeAt(S-4)!==116||_.charCodeAt(S-5)!==111||_.charCodeAt(S-6)!==114||_.charCodeAt(S-7)!==112||_.charCodeAt(S-8)!==95||_.charCodeAt(S-9)!==95)return!1;for(var x=S-10;x>=0;x--)if(_.charCodeAt(x)!==36)return!1;return!0}function C(_,S,x){var T=E(_.source,S.source);return T!==0||(T=_.originalLine-S.originalLine,T!==0)||(T=_.originalColumn-S.originalColumn,T!==0||x)||(T=_.generatedColumn-S.generatedColumn,T!==0)||(T=_.generatedLine-S.generatedLine,T!==0)?T:E(_.name,S.name)}e.compareByOriginalPositions=C;function v(_,S,x){var T=_.generatedLine-S.generatedLine;return T!==0||(T=_.generatedColumn-S.generatedColumn,T!==0||x)||(T=E(_.source,S.source),T!==0)||(T=_.originalLine-S.originalLine,T!==0)||(T=_.originalColumn-S.originalColumn,T!==0)?T:E(_.name,S.name)}e.compareByGeneratedPositionsDeflated=v;function E(_,S){return _===S?0:_===null?1:S===null?-1:_>S?1:-1}function k(_,S){var x=_.generatedLine-S.generatedLine;return x!==0||(x=_.generatedColumn-S.generatedColumn,x!==0)||(x=E(_.source,S.source),x!==0)||(x=_.originalLine-S.originalLine,x!==0)||(x=_.originalColumn-S.originalColumn,x!==0)?x:E(_.name,S.name)}e.compareByGeneratedPositionsInflated=k;function V(_){return JSON.parse(_.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=V;function R(_,S,x){if(S=S||"",_&&(_[_.length-1]!=="/"&&S[0]!=="/"&&(_+="/"),S=_+S),x){var T=r(x);if(!T)throw new Error("sourceMapURL could not be parsed");if(T.path){var N=T.path.lastIndexOf("/");N>=0&&(T.path=T.path.substring(0,N+1))}S=o(s(T),S)}return u(S)}e.computeSourceURL=R}(h1)),h1}var d1={},T3;function I3(){if(T3)return d1;T3=1;var e=pr(),t=Object.prototype.hasOwnProperty,n=typeof Map<"u";function i(){this._array=[],this._set=n?new Map:Object.create(null)}return i.fromArray=function(s,u){for(var o=new i,c=0,h=s.length;c<h;c++)o.add(s[c],u);return o},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(s,u){var o=n?s:e.toSetString(s),c=n?this.has(s):t.call(this._set,o),h=this._array.length;(!c||u)&&this._array.push(s),c||(n?this._set.set(s,h):this._set[o]=h)},i.prototype.has=function(s){if(n)return this._set.has(s);var u=e.toSetString(s);return t.call(this._set,u)},i.prototype.indexOf=function(s){if(n){var u=this._set.get(s);if(u>=0)return u}else{var o=e.toSetString(s);if(t.call(this._set,o))return this._set[o]}throw new Error('"'+s+'" is not in the set.')},i.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw new Error("No element indexed by "+s)},i.prototype.toArray=function(){return this._array.slice()},d1.ArraySet=i,d1}var m1={},N3;function Ev(){if(N3)return m1;N3=1;var e=pr();function t(i,r){var s=i.generatedLine,u=r.generatedLine,o=i.generatedColumn,c=r.generatedColumn;return u>s||u==s&&c>=o||e.compareByGeneratedPositionsInflated(i,r)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(r,s){this._array.forEach(r,s)},n.prototype.add=function(r){t(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},m1.MappingList=n,m1}var L3;function R3(){if(L3)return f1;L3=1;var e=k3(),t=pr(),n=I3().ArraySet,i=Ev().MappingList;function r(s){s||(s={}),this._file=t.getArg(s,"file",null),this._sourceRoot=t.getArg(s,"sourceRoot",null),this._skipValidation=t.getArg(s,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}return r.prototype._version=3,r.fromSourceMap=function(u){var o=u.sourceRoot,c=new r({file:u.file,sourceRoot:o});return u.eachMapping(function(h){var d={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(d.source=h.source,o!=null&&(d.source=t.relative(o,d.source)),d.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(d.name=h.name)),c.addMapping(d)}),u.sources.forEach(function(h){var d=h;o!==null&&(d=t.relative(o,h)),c._sources.has(d)||c._sources.add(d);var g=u.sourceContentFor(h);g!=null&&c.setSourceContent(h,g)}),c},r.prototype.addMapping=function(u){var o=t.getArg(u,"generated"),c=t.getArg(u,"original",null),h=t.getArg(u,"source",null),d=t.getArg(u,"name",null);this._skipValidation||this._validateMapping(o,c,h,d),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:h,name:d})},r.prototype.setSourceContent=function(u,o){var c=u;this._sourceRoot!=null&&(c=t.relative(this._sourceRoot,c)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(c)]=o):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(u,o,c){var h=o;if(o==null){if(u.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=u.file}var d=this._sourceRoot;d!=null&&(h=t.relative(d,h));var g=new n,m=new n;this._mappings.unsortedForEach(function(A){if(A.source===h&&A.originalLine!=null){var C=u.originalPositionFor({line:A.originalLine,column:A.originalColumn});C.source!=null&&(A.source=C.source,c!=null&&(A.source=t.join(c,A.source)),d!=null&&(A.source=t.relative(d,A.source)),A.originalLine=C.line,A.originalColumn=C.column,C.name!=null&&(A.name=C.name))}var v=A.source;v!=null&&!g.has(v)&&g.add(v);var E=A.name;E!=null&&!m.has(E)&&m.add(E)},this),this._sources=g,this._names=m,u.sources.forEach(function(A){var C=u.sourceContentFor(A);C!=null&&(c!=null&&(A=t.join(c,A)),d!=null&&(A=t.relative(d,A)),this.setSourceContent(A,C))},this)},r.prototype._validateMapping=function(u,o,c,h){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0&&!o&&!c&&!h)){if(u&&"line"in u&&"column"in u&&o&&"line"in o&&"column"in o&&u.line>0&&u.column>=0&&o.line>0&&o.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:c,original:o,name:h}))}},r.prototype._serializeMappings=function(){for(var u=0,o=1,c=0,h=0,d=0,g=0,m="",A,C,v,E,k=this._mappings.toArray(),V=0,R=k.length;V<R;V++){if(C=k[V],A="",C.generatedLine!==o)for(u=0;C.generatedLine!==o;)A+=";",o++;else if(V>0){if(!t.compareByGeneratedPositionsInflated(C,k[V-1]))continue;A+=","}A+=e.encode(C.generatedColumn-u),u=C.generatedColumn,C.source!=null&&(E=this._sources.indexOf(C.source),A+=e.encode(E-g),g=E,A+=e.encode(C.originalLine-1-h),h=C.originalLine-1,A+=e.encode(C.originalColumn-c),c=C.originalColumn,C.name!=null&&(v=this._names.indexOf(C.name),A+=e.encode(v-d),d=v)),m+=A}return m},r.prototype._generateSourcesContent=function(u,o){return u.map(function(c){if(!this._sourcesContents)return null;o!=null&&(c=t.relative(o,c));var h=t.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},r.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(u.file=this._file),this._sourceRoot!=null&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},f1.SourceMapGenerator=r,f1}var gr={},p1={},G3;function wv(){return G3||(G3=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(n,i,r,s,u,o){var c=Math.floor((i-n)/2)+n,h=u(r,s[c],!0);return h===0?c:h>0?i-c>1?t(c,i,r,s,u,o):o==e.LEAST_UPPER_BOUND?i<s.length?i:-1:c:c-n>1?t(n,c,r,s,u,o):o==e.LEAST_UPPER_BOUND?c:n<0?-1:n}e.search=function(i,r,s,u){if(r.length===0)return-1;var o=t(-1,r.length,i,r,s,u||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&s(r[o],r[o-1],!0)===0;)--o;return o}}(p1)),p1}var g1={},Z3;function Sv(){if(Z3)return g1;Z3=1;function e(i,r,s){var u=i[r];i[r]=i[s],i[s]=u}function t(i,r){return Math.round(i+Math.random()*(r-i))}function n(i,r,s,u){if(s<u){var o=t(s,u),c=s-1;e(i,o,u);for(var h=i[u],d=s;d<u;d++)r(i[d],h)<=0&&(c+=1,e(i,c,d));e(i,c+1,d);var g=c+1;n(i,r,s,g-1),n(i,r,g+1,u)}}return g1.quickSort=function(i,r){n(i,r,0,i.length-1)},g1}var X3;function Bv(){if(X3)return gr;X3=1;var e=pr(),t=wv(),n=I3().ArraySet,i=k3(),r=Sv().quickSort;function s(h,d){var g=h;return typeof h=="string"&&(g=e.parseSourceMapInput(h)),g.sections!=null?new c(g,d):new u(g,d)}s.fromSourceMap=function(h,d){return u.fromSourceMap(h,d)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(d,g){var m=d.charAt(g);return m===";"||m===","},s.prototype._parseMappings=function(d,g){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(d,g,m){var A=g||null,C=m||s.GENERATED_ORDER,v;switch(C){case s.GENERATED_ORDER:v=this._generatedMappings;break;case s.ORIGINAL_ORDER:v=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var E=this.sourceRoot;v.map(function(k){var V=k.source===null?null:this._sources.at(k.source);return V=e.computeSourceURL(E,V,this._sourceMapURL),{source:V,generatedLine:k.generatedLine,generatedColumn:k.generatedColumn,originalLine:k.originalLine,originalColumn:k.originalColumn,name:k.name===null?null:this._names.at(k.name)}},this).forEach(d,A)},s.prototype.allGeneratedPositionsFor=function(d){var g=e.getArg(d,"line"),m={source:e.getArg(d,"source"),originalLine:g,originalColumn:e.getArg(d,"column",0)};if(m.source=this._findSourceIndex(m.source),m.source<0)return[];var A=[],C=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(C>=0){var v=this._originalMappings[C];if(d.column===void 0)for(var E=v.originalLine;v&&v.originalLine===E;)A.push({line:e.getArg(v,"generatedLine",null),column:e.getArg(v,"generatedColumn",null),lastColumn:e.getArg(v,"lastGeneratedColumn",null)}),v=this._originalMappings[++C];else for(var k=v.originalColumn;v&&v.originalLine===g&&v.originalColumn==k;)A.push({line:e.getArg(v,"generatedLine",null),column:e.getArg(v,"generatedColumn",null),lastColumn:e.getArg(v,"lastGeneratedColumn",null)}),v=this._originalMappings[++C]}return A},gr.SourceMapConsumer=s;function u(h,d){var g=h;typeof h=="string"&&(g=e.parseSourceMapInput(h));var m=e.getArg(g,"version"),A=e.getArg(g,"sources"),C=e.getArg(g,"names",[]),v=e.getArg(g,"sourceRoot",null),E=e.getArg(g,"sourcesContent",null),k=e.getArg(g,"mappings"),V=e.getArg(g,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);v&&(v=e.normalize(v)),A=A.map(String).map(e.normalize).map(function(R){return v&&e.isAbsolute(v)&&e.isAbsolute(R)?e.relative(v,R):R}),this._names=n.fromArray(C.map(String),!0),this._sources=n.fromArray(A,!0),this._absoluteSources=this._sources.toArray().map(function(R){return e.computeSourceURL(v,R,d)}),this.sourceRoot=v,this.sourcesContent=E,this._mappings=k,this._sourceMapURL=d,this.file=V}u.prototype=Object.create(s.prototype),u.prototype.consumer=s,u.prototype._findSourceIndex=function(h){var d=h;if(this.sourceRoot!=null&&(d=e.relative(this.sourceRoot,d)),this._sources.has(d))return this._sources.indexOf(d);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==h)return g;return-1},u.fromSourceMap=function(d,g){var m=Object.create(u.prototype),A=m._names=n.fromArray(d._names.toArray(),!0),C=m._sources=n.fromArray(d._sources.toArray(),!0);m.sourceRoot=d._sourceRoot,m.sourcesContent=d._generateSourcesContent(m._sources.toArray(),m.sourceRoot),m.file=d._file,m._sourceMapURL=g,m._absoluteSources=m._sources.toArray().map(function(x){return e.computeSourceURL(m.sourceRoot,x,g)});for(var v=d._mappings.toArray().slice(),E=m.__generatedMappings=[],k=m.__originalMappings=[],V=0,R=v.length;V<R;V++){var _=v[V],S=new o;S.generatedLine=_.generatedLine,S.generatedColumn=_.generatedColumn,_.source&&(S.source=C.indexOf(_.source),S.originalLine=_.originalLine,S.originalColumn=_.originalColumn,_.name&&(S.name=A.indexOf(_.name)),k.push(S)),E.push(S)}return r(m.__originalMappings,e.compareByOriginalPositions),m},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u.prototype._parseMappings=function(d,g){for(var m=1,A=0,C=0,v=0,E=0,k=0,V=d.length,R=0,_={},S={},x=[],T=[],N,K,W,ee,z;R<V;)if(d.charAt(R)===";")m++,R++,A=0;else if(d.charAt(R)===",")R++;else{for(N=new o,N.generatedLine=m,ee=R;ee<V&&!this._charIsMappingSeparator(d,ee);ee++);if(K=d.slice(R,ee),W=_[K],W)R+=K.length;else{for(W=[];R<ee;)i.decode(d,R,S),z=S.value,R=S.rest,W.push(z);if(W.length===2)throw new Error("Found a source, but no line and column");if(W.length===3)throw new Error("Found a source and line, but no column");_[K]=W}N.generatedColumn=A+W[0],A=N.generatedColumn,W.length>1&&(N.source=E+W[1],E+=W[1],N.originalLine=C+W[2],C=N.originalLine,N.originalLine+=1,N.originalColumn=v+W[3],v=N.originalColumn,W.length>4&&(N.name=k+W[4],k+=W[4])),T.push(N),typeof N.originalLine=="number"&&x.push(N)}r(T,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=T,r(x,e.compareByOriginalPositions),this.__originalMappings=x},u.prototype._findMapping=function(d,g,m,A,C,v){if(d[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[m]);if(d[A]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[A]);return t.search(d,g,C,v)},u.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var g=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var m=this._generatedMappings[d+1];if(g.generatedLine===m.generatedLine){g.lastGeneratedColumn=m.generatedColumn-1;continue}}g.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(d){var g={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},m=this._findMapping(g,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(d,"bias",s.GREATEST_LOWER_BOUND));if(m>=0){var A=this._generatedMappings[m];if(A.generatedLine===g.generatedLine){var C=e.getArg(A,"source",null);C!==null&&(C=this._sources.at(C),C=e.computeSourceURL(this.sourceRoot,C,this._sourceMapURL));var v=e.getArg(A,"name",null);return v!==null&&(v=this._names.at(v)),{source:C,line:e.getArg(A,"originalLine",null),column:e.getArg(A,"originalColumn",null),name:v}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},u.prototype.sourceContentFor=function(d,g){if(!this.sourcesContent)return null;var m=this._findSourceIndex(d);if(m>=0)return this.sourcesContent[m];var A=d;this.sourceRoot!=null&&(A=e.relative(this.sourceRoot,A));var C;if(this.sourceRoot!=null&&(C=e.urlParse(this.sourceRoot))){var v=A.replace(/^file:\/\//,"");if(C.scheme=="file"&&this._sources.has(v))return this.sourcesContent[this._sources.indexOf(v)];if((!C.path||C.path=="/")&&this._sources.has("/"+A))return this.sourcesContent[this._sources.indexOf("/"+A)]}if(g)return null;throw new Error('"'+A+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(d){var g=e.getArg(d,"source");if(g=this._findSourceIndex(g),g<0)return{line:null,column:null,lastColumn:null};var m={source:g,originalLine:e.getArg(d,"line"),originalColumn:e.getArg(d,"column")},A=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(d,"bias",s.GREATEST_LOWER_BOUND));if(A>=0){var C=this._originalMappings[A];if(C.source===m.source)return{line:e.getArg(C,"generatedLine",null),column:e.getArg(C,"generatedColumn",null),lastColumn:e.getArg(C,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},gr.BasicSourceMapConsumer=u;function c(h,d){var g=h;typeof h=="string"&&(g=e.parseSourceMapInput(h));var m=e.getArg(g,"version"),A=e.getArg(g,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var C={line:-1,column:0};this._sections=A.map(function(v){if(v.url)throw new Error("Support for url field in sections not implemented.");var E=e.getArg(v,"offset"),k=e.getArg(E,"line"),V=e.getArg(E,"column");if(k<C.line||k===C.line&&V<C.column)throw new Error("Section offsets must be ordered and non-overlapping.");return C=E,{generatedOffset:{generatedLine:k+1,generatedColumn:V+1},consumer:new s(e.getArg(v,"map"),d)}})}return c.prototype=Object.create(s.prototype),c.prototype.constructor=s,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var h=[],d=0;d<this._sections.length;d++)for(var g=0;g<this._sections[d].consumer.sources.length;g++)h.push(this._sections[d].consumer.sources[g]);return h}}),c.prototype.originalPositionFor=function(d){var g={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},m=t.search(g,this._sections,function(C,v){var E=C.generatedLine-v.generatedOffset.generatedLine;return E||C.generatedColumn-v.generatedOffset.generatedColumn}),A=this._sections[m];return A?A.consumer.originalPositionFor({line:g.generatedLine-(A.generatedOffset.generatedLine-1),column:g.generatedColumn-(A.generatedOffset.generatedLine===g.generatedLine?A.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(d,g){for(var m=0;m<this._sections.length;m++){var A=this._sections[m],C=A.consumer.sourceContentFor(d,!0);if(C)return C}if(g)return null;throw new Error('"'+d+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){for(var g=0;g<this._sections.length;g++){var m=this._sections[g];if(m.consumer._findSourceIndex(e.getArg(d,"source"))!==-1){var A=m.consumer.generatedPositionFor(d);if(A){var C={line:A.line+(m.generatedOffset.generatedLine-1),column:A.column+(m.generatedOffset.generatedLine===A.line?m.generatedOffset.generatedColumn-1:0)};return C}}}return{line:null,column:null}},c.prototype._parseMappings=function(d,g){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var A=this._sections[m],C=A.consumer._generatedMappings,v=0;v<C.length;v++){var E=C[v],k=A.consumer._sources.at(E.source);k=e.computeSourceURL(A.consumer.sourceRoot,k,this._sourceMapURL),this._sources.add(k),k=this._sources.indexOf(k);var V=null;E.name&&(V=A.consumer._names.at(E.name),this._names.add(V),V=this._names.indexOf(V));var R={source:k,generatedLine:E.generatedLine+(A.generatedOffset.generatedLine-1),generatedColumn:E.generatedColumn+(A.generatedOffset.generatedLine===E.generatedLine?A.generatedOffset.generatedColumn-1:0),originalLine:E.originalLine,originalColumn:E.originalColumn,name:V};this.__generatedMappings.push(R),typeof R.originalLine=="number"&&this.__originalMappings.push(R)}r(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),r(this.__originalMappings,e.compareByOriginalPositions)},gr.IndexedSourceMapConsumer=c,gr}var y1={},W3;function _v(){if(W3)return y1;W3=1;var e=R3().SourceMapGenerator,t=pr(),n=/(\r?\n)/,i=10,r="$$$isSourceNode$$$";function s(u,o,c,h,d){this.children=[],this.sourceContents={},this.line=u??null,this.column=o??null,this.source=c??null,this.name=d??null,this[r]=!0,h!=null&&this.add(h)}return s.fromStringWithSourceMap=function(o,c,h){var d=new s,g=o.split(n),m=0,A=function(){var V=_(),R=_()||"";return V+R;function _(){return m<g.length?g[m++]:void 0}},C=1,v=0,E=null;return c.eachMapping(function(V){if(E!==null)if(C<V.generatedLine)k(E,A()),C++,v=0;else{var R=g[m]||"",_=R.substr(0,V.generatedColumn-v);g[m]=R.substr(V.generatedColumn-v),v=V.generatedColumn,k(E,_),E=V;return}for(;C<V.generatedLine;)d.add(A()),C++;if(v<V.generatedColumn){var R=g[m]||"";d.add(R.substr(0,V.generatedColumn)),g[m]=R.substr(V.generatedColumn),v=V.generatedColumn}E=V},this),m<g.length&&(E&&k(E,A()),d.add(g.splice(m).join(""))),c.sources.forEach(function(V){var R=c.sourceContentFor(V);R!=null&&(h!=null&&(V=t.join(h,V)),d.setSourceContent(V,R))}),d;function k(V,R){if(V===null||V.source===void 0)d.add(R);else{var _=h?t.join(h,V.source):V.source;d.add(new s(V.originalLine,V.originalColumn,_,R,V.name))}}},s.prototype.add=function(o){if(Array.isArray(o))o.forEach(function(c){this.add(c)},this);else if(o[r]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},s.prototype.prepend=function(o){if(Array.isArray(o))for(var c=o.length-1;c>=0;c--)this.prepend(o[c]);else if(o[r]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},s.prototype.walk=function(o){for(var c,h=0,d=this.children.length;h<d;h++)c=this.children[h],c[r]?c.walk(o):c!==""&&o(c,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(o){var c,h,d=this.children.length;if(d>0){for(c=[],h=0;h<d-1;h++)c.push(this.children[h]),c.push(o);c.push(this.children[h]),this.children=c}return this},s.prototype.replaceRight=function(o,c){var h=this.children[this.children.length-1];return h[r]?h.replaceRight(o,c):typeof h=="string"?this.children[this.children.length-1]=h.replace(o,c):this.children.push("".replace(o,c)),this},s.prototype.setSourceContent=function(o,c){this.sourceContents[t.toSetString(o)]=c},s.prototype.walkSourceContents=function(o){for(var c=0,h=this.children.length;c<h;c++)this.children[c][r]&&this.children[c].walkSourceContents(o);for(var d=Object.keys(this.sourceContents),c=0,h=d.length;c<h;c++)o(t.fromSetString(d[c]),this.sourceContents[d[c]])},s.prototype.toString=function(){var o="";return this.walk(function(c){o+=c}),o},s.prototype.toStringWithSourceMap=function(o){var c={code:"",line:1,column:0},h=new e(o),d=!1,g=null,m=null,A=null,C=null;return this.walk(function(v,E){c.code+=v,E.source!==null&&E.line!==null&&E.column!==null?((g!==E.source||m!==E.line||A!==E.column||C!==E.name)&&h.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name}),g=E.source,m=E.line,A=E.column,C=E.name,d=!0):d&&(h.addMapping({generated:{line:c.line,column:c.column}}),g=null,d=!1);for(var k=0,V=v.length;k<V;k++)v.charCodeAt(k)===i?(c.line++,c.column=0,k+1===V?(g=null,d=!1):d&&h.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name})):c.column++}),this.walkSourceContents(function(v,E){h.setSourceContent(v,E)}),{code:c.code,map:h}},y1.SourceNode=s,y1}var O3;function xv(){return O3||(O3=1,mr.SourceMapGenerator=R3().SourceMapGenerator,mr.SourceMapConsumer=Bv().SourceMapConsumer,mr.SourceNode=_v().SourceNode),mr}const kv={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version:"2.1.0",engines:{node:">=6.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/escodegen.git"},dependencies:{estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},optionalDependencies:{"source-map":"~0.6.1"},devDependencies:{acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},license:"BSD-2-Clause",scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}};var z3;function Vv(){return z3||(z3=1,function(e){(function(){var t,n,i,r,s,u,o,c,h,d,g,m,A,C,v,E,k,V,R,_,S,x,T,N,K,W;s=Cv(),u=Dv(),t=s.Syntax;function ee(l){return Le.Expression.hasOwnProperty(l.type)}function z(l){return Le.Statement.hasOwnProperty(l.type)}n={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},i={"??":n.Coalesce,"||":n.LogicalOR,"&&":n.LogicalAND,"|":n.BitwiseOR,"^":n.BitwiseXOR,"&":n.BitwiseAND,"==":n.Equality,"!=":n.Equality,"===":n.Equality,"!==":n.Equality,is:n.Equality,isnt:n.Equality,"<":n.Relational,">":n.Relational,"<=":n.Relational,">=":n.Relational,in:n.Relational,instanceof:n.Relational,"<<":n.BitwiseSHIFT,">>":n.BitwiseSHIFT,">>>":n.BitwiseSHIFT,"+":n.Additive,"-":n.Additive,"*":n.Multiplicative,"%":n.Multiplicative,"/":n.Multiplicative,"**":n.Exponentiation};var j=1,ne=2,ye=4,pe=8,fe=16,ue=32,Ie=64,nt=ne|ye,ce=j|ne,O=j|ne|ye,Ye=j,_e=ye,it=j|ye,be=j,Je=j|ue,we=0,Ue=j|fe,It=j|pe;function Dt(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Ne(l,y){var p="";for(y|=0;y>0;y>>>=1,l+=l)y&1&&(p+=l);return p}function Gn(l){return/[\r\n]/g.test(l)}function We(l){var y=l.length;return y&&u.code.isLineTerminator(l.charCodeAt(y-1))}function cn(l,y){var p;for(p in y)y.hasOwnProperty(p)&&(l[p]=y[p]);return l}function Mt(l,y){var p,b;function D(I){return typeof I=="object"&&I instanceof Object&&!(I instanceof RegExp)}for(p in y)y.hasOwnProperty(p)&&(b=y[p],D(b)?D(l[p])?Mt(l[p],b):l[p]=Mt({},b):l[p]=b);return l}function Nt(l){var y,p,b,D,I;if(l!==l)throw new Error("Numeric literal whose value is NaN");if(l<0||l===0&&1/l<0)throw new Error("Numeric literal whose value is negative");if(l===1/0)return h?"null":d?"1e400":"1e+400";if(y=""+l,!d||y.length<3)return y;for(p=y.indexOf("."),!h&&y.charCodeAt(0)===48&&p===1&&(p=0,y=y.slice(1)),b=y,y=y.replace("e+","e"),D=0,(I=b.indexOf("e"))>0&&(D=+b.slice(I+1),b=b.slice(0,I)),p>=0&&(D-=b.length-p-1,b=+(b.slice(0,p)+b.slice(p+1))+""),I=0;b.charCodeAt(b.length+I-1)===48;)--I;return I!==0&&(D-=I,b=b.slice(0,I)),D!==0&&(b+="e"+D),(b.length<y.length||g&&l>1e12&&Math.floor(l)===l&&(b="0x"+l.toString(16)).length<y.length)&&+b===l&&(y=b),y}function Kt(l,y){return(l&-2)===8232?(y?"u":"\\u")+(l===8232?"2028":"2029"):l===10||l===13?(y?"":"\\")+(l===10?"n":"r"):String.fromCharCode(l)}function Zn(l){var y,p,b,D,I,G,X,J;if(p=l.toString(),l.source){if(y=p.match(/\/([^/]*)$/),!y)return p;for(b=y[1],p="",X=!1,J=!1,D=0,I=l.source.length;D<I;++D)G=l.source.charCodeAt(D),J?(p+=Kt(G,J),J=!1):(X?G===93&&(X=!1):G===47?p+="\\":G===91&&(X=!0),p+=Kt(G,J),J=G===92);return"/"+p+"/"+b}return p}function ln(l,y){var p;return l===8?"\\b":l===12?"\\f":l===9?"\\t":(p=l.toString(16).toUpperCase(),h||l>255?"\\u"+"0000".slice(p.length)+p:l===0&&!u.code.isDecimalDigit(y)?"\\0":l===11?"\\x0B":"\\x"+"00".slice(p.length)+p)}function Pn(l){if(l===92)return"\\\\";if(l===10)return"\\n";if(l===13)return"\\r";if(l===8232)return"\\u2028";if(l===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function Dn(l){var y,p,b,D;for(D=m==="double"?'"':"'",y=0,p=l.length;y<p;++y)if(b=l.charCodeAt(y),b===39){D='"';break}else if(b===34){D="'";break}else b===92&&++y;return D+l+D}function mt(l){var y="",p,b,D,I=0,G=0,X,J;for(p=0,b=l.length;p<b;++p){if(D=l.charCodeAt(p),D===39)++I;else if(D===34)++G;else if(D===47&&h)y+="\\";else if(u.code.isLineTerminator(D)||D===92){y+=Pn(D);continue}else if(!u.code.isIdentifierPartES5(D)&&(h&&D<32||!h&&!A&&(D<32||D>126))){y+=ln(D,l.charCodeAt(p+1));continue}y+=String.fromCharCode(D)}if(X=!(m==="double"||m==="auto"&&G<I),J=X?"'":'"',!(X?I:G))return J+y+J;for(l=y,y=J,p=0,b=l.length;p<b;++p)D=l.charCodeAt(p),(D===39&&X||D===34&&!X)&&(y+="\\"),y+=String.fromCharCode(D);return y+J}function Fn(l){var y,p,b,D="";for(y=0,p=l.length;y<p;++y)b=l[y],D+=Array.isArray(b)?Fn(b):b;return D}function Me(l,y){if(!x)return Array.isArray(l)?Fn(l):l;if(y==null){if(l instanceof r)return l;y={}}return y.loc==null?new r(null,null,x,l,y.name||null):new r(y.loc.start.line,y.loc.start.column,x===!0?y.loc.source||null:x,l,y.name||null)}function Ve(){return v||" "}function te(l,y){var p,b,D,I;return p=Me(l).toString(),p.length===0?[y]:(b=Me(y).toString(),b.length===0?[l]:(D=p.charCodeAt(p.length-1),I=b.charCodeAt(0),(D===43||D===45)&&D===I||u.code.isIdentifierPartES5(D)&&u.code.isIdentifierPartES5(I)||D===47&&I===105?[l,Ve(),y]:u.code.isWhiteSpace(D)||u.code.isLineTerminator(D)||u.code.isWhiteSpace(I)||u.code.isLineTerminator(I)?[l,y]:[l,v,y]))}function je(l){return[o,l]}function xe(l){var y;y=o,o+=c,l(o),o=y}function Bi(l){var y;for(y=l.length-1;y>=0&&!u.code.isLineTerminator(l.charCodeAt(y));--y);return l.length-1-y}function Er(l,y){var p,b,D,I,G,X,J,he;for(p=l.split(/\r\n|[\r\n]/),X=Number.MAX_VALUE,b=1,D=p.length;b<D;++b){for(I=p[b],G=0;G<I.length&&u.code.isWhiteSpace(I.charCodeAt(G));)++G;X>G&&(X=G)}for(typeof y<"u"?(J=o,p[1][X]==="*"&&(y+=" "),o=y):(X&1&&--X,J=o),b=1,D=p.length;b<D;++b)he=Me(je(p[b].slice(X))),p[b]=x?he.join(""):he;return o=J,p.join(`
`)}function Ft(l,y){if(l.type==="Line"){if(We(l.value))return"//"+l.value;var p="//"+l.value;return N||(p+=`
`),p}return _.format.indent.adjustMultilineComment&&/[\n\r]/.test(l.value)?Er("/*"+l.value+"*/",y):"/*"+l.value+"*/"}function Xn(l,y){var p,b,D,I,G,X,J,he,Re,Lt,Yt,Ae,pt,Ge;if(l.leadingComments&&l.leadingComments.length>0){if(I=y,N){for(D=l.leadingComments[0],y=[],he=D.extendedRange,Re=D.range,Yt=T.substring(he[0],Re[0]),Ge=(Yt.match(/\n/g)||[]).length,Ge>0?(y.push(Ne(`
`,Ge)),y.push(je(Ft(D)))):(y.push(Yt),y.push(Ft(D))),Lt=Re,p=1,b=l.leadingComments.length;p<b;p++)D=l.leadingComments[p],Re=D.range,Ae=T.substring(Lt[1],Re[0]),Ge=(Ae.match(/\n/g)||[]).length,y.push(Ne(`
`,Ge)),y.push(je(Ft(D))),Lt=Re;pt=T.substring(Re[1],he[1]),Ge=(pt.match(/\n/g)||[]).length,y.push(Ne(`
`,Ge))}else for(D=l.leadingComments[0],y=[],V&&l.type===t.Program&&l.body.length===0&&y.push(`
`),y.push(Ft(D)),We(Me(y).toString())||y.push(`
`),p=1,b=l.leadingComments.length;p<b;++p)D=l.leadingComments[p],J=[Ft(D)],We(Me(J).toString())||J.push(`
`),y.push(je(J));y.push(je(I))}if(l.trailingComments)if(N)D=l.trailingComments[0],he=D.extendedRange,Re=D.range,Yt=T.substring(he[0],Re[0]),Ge=(Yt.match(/\n/g)||[]).length,Ge>0?(y.push(Ne(`
`,Ge)),y.push(je(Ft(D)))):(y.push(Yt),y.push(Ft(D)));else for(G=!We(Me(y).toString()),X=Ne(" ",Bi(Me([o,y,c]).toString())),p=0,b=l.trailingComments.length;p<b;++p)D=l.trailingComments[p],G?(p===0?y=[y,c]:y=[y,X],y.push(Ft(D,X))):y=[y,je(Ft(D))],p!==b-1&&!We(Me(y).toString())&&(y=[y,`
`]);return y}function fn(l,y,p){var b,D=0;for(b=l;b<y;b++)T[b]===`
`&&D++;for(b=1;b<D;b++)p.push(C)}function $e(l,y,p){return y<p?["(",l,")"]:l}function ri(l){var y,p,b;for(b=l.split(/\r\n|\n/),y=1,p=b.length;y<p;y++)b[y]=C+o+b[y];return b}function si(l,y){var p,b,D;return p=l[_.verbatim],typeof p=="string"?b=$e(ri(p),n.Sequence,y):(b=ri(p.content),D=p.precedence!=null?p.precedence:n.Sequence,b=$e(b,D,y)),Me(b,l)}function Le(){}Le.prototype.maybeBlock=function(l,y){var p,b,D=this;return b=!_.comment||!l.leadingComments,l.type===t.BlockStatement&&b?[v,this.generateStatement(l,y)]:l.type===t.EmptyStatement&&b?";":(xe(function(){p=[C,je(D.generateStatement(l,y))]}),p)},Le.prototype.maybeBlockSuffix=function(l,y){var p=We(Me(y).toString());return l.type===t.BlockStatement&&(!_.comment||!l.leadingComments)&&!p?[y,v]:p?[y,o]:[y,C,o]};function at(l){return Me(l.name,l)}function hn(l,y){return l.async?"async"+(y?Ve():v):""}function Wn(l){var y=l.generator&&!_.moz.starlessGenerator;return y?"*"+v:""}function _i(l){var y=l.value,p="";return y.async&&(p+=hn(y,!l.computed)),y.generator&&(p+=Wn(y)?"*":""),p}Le.prototype.generatePattern=function(l,y,p){return l.type===t.Identifier?at(l):this.generateExpression(l,y,p)},Le.prototype.generateFunctionParams=function(l){var y,p,b,D;if(D=!1,l.type===t.ArrowFunctionExpression&&!l.rest&&(!l.defaults||l.defaults.length===0)&&l.params.length===1&&l.params[0].type===t.Identifier)b=[hn(l,!0),at(l.params[0])];else{for(b=l.type===t.ArrowFunctionExpression?[hn(l,!1)]:[],b.push("("),l.defaults&&(D=!0),y=0,p=l.params.length;y<p;++y)D&&l.defaults[y]?b.push(this.generateAssignment(l.params[y],l.defaults[y],"=",n.Assignment,O)):b.push(this.generatePattern(l.params[y],n.Assignment,O)),y+1<p&&b.push(","+v);l.rest&&(l.params.length&&b.push(","+v),b.push("..."),b.push(at(l.rest))),b.push(")")}return b},Le.prototype.generateFunctionBody=function(l){var y,p;return y=this.generateFunctionParams(l),l.type===t.ArrowFunctionExpression&&(y.push(v),y.push("=>")),l.expression?(y.push(v),p=this.generateExpression(l.body,n.Assignment,O),p.toString().charAt(0)==="{"&&(p=["(",p,")"]),y.push(p)):y.push(this.maybeBlock(l.body,It)),y},Le.prototype.generateIterationForStatement=function(l,y,p){var b=["for"+(y.await?Ve()+"await":"")+v+"("],D=this;return xe(function(){y.left.type===t.VariableDeclaration?xe(function(){b.push(y.left.kind+Ve()),b.push(D.generateStatement(y.left.declarations[0],we))}):b.push(D.generateExpression(y.left,n.Call,O)),b=te(b,l),b=[te(b,D.generateExpression(y.right,n.Assignment,O)),")"]}),b.push(this.maybeBlock(y.body,p)),b},Le.prototype.generatePropertyKey=function(l,y){var p=[];return y&&p.push("["),p.push(this.generateExpression(l,n.Assignment,O)),y&&p.push("]"),p},Le.prototype.generateAssignment=function(l,y,p,b,D){return n.Assignment<b&&(D|=j),$e([this.generateExpression(l,n.Call,D),v+p+v,this.generateExpression(y,n.Assignment,D)],n.Assignment,b)},Le.prototype.semicolon=function(l){return!k&&l&ue?"":";"},Le.Statement={BlockStatement:function(l,y){var p,b,D=["{",C],I=this;return xe(function(){l.body.length===0&&N&&(p=l.range,p[1]-p[0]>2&&(b=T.substring(p[0]+1,p[1]-1),b[0]===`
`&&(D=["{"]),D.push(b)));var G,X,J,he;for(he=be,y&pe&&(he|=fe),G=0,X=l.body.length;G<X;++G)N&&(G===0&&(l.body[0].leadingComments&&(p=l.body[0].leadingComments[0].extendedRange,b=T.substring(p[0],p[1]),b[0]===`
`&&(D=["{"])),l.body[0].leadingComments||fn(l.range[0],l.body[0].range[0],D)),G>0&&!l.body[G-1].trailingComments&&!l.body[G].leadingComments&&fn(l.body[G-1].range[1],l.body[G].range[0],D)),G===X-1&&(he|=ue),l.body[G].leadingComments&&N?J=I.generateStatement(l.body[G],he):J=je(I.generateStatement(l.body[G],he)),D.push(J),We(Me(J).toString())||N&&G<X-1&&l.body[G+1].leadingComments||D.push(C),N&&G===X-1&&(l.body[G].trailingComments||fn(l.body[G].range[1],l.range[1],D))}),D.push(je("}")),D},BreakStatement:function(l,y){return l.label?"break "+l.label.name+this.semicolon(y):"break"+this.semicolon(y)},ContinueStatement:function(l,y){return l.label?"continue "+l.label.name+this.semicolon(y):"continue"+this.semicolon(y)},ClassBody:function(l,y){var p=["{",C],b=this;return xe(function(D){var I,G;for(I=0,G=l.body.length;I<G;++I)p.push(D),p.push(b.generateExpression(l.body[I],n.Sequence,O)),I+1<G&&p.push(C)}),We(Me(p).toString())||p.push(C),p.push(o),p.push("}"),p},ClassDeclaration:function(l,y){var p,b;return p=["class"],l.id&&(p=te(p,this.generateExpression(l.id,n.Sequence,O))),l.superClass&&(b=te("extends",this.generateExpression(l.superClass,n.Unary,O)),p=te(p,b)),p.push(v),p.push(this.generateStatement(l.body,Je)),p},DirectiveStatement:function(l,y){return _.raw&&l.raw?l.raw+this.semicolon(y):Dn(l.directive)+this.semicolon(y)},DoWhileStatement:function(l,y){var p=te("do",this.maybeBlock(l.body,be));return p=this.maybeBlockSuffix(l.body,p),te(p,["while"+v+"(",this.generateExpression(l.test,n.Sequence,O),")"+this.semicolon(y)])},CatchClause:function(l,y){var p,b=this;return xe(function(){var D;l.param?(p=["catch"+v+"(",b.generateExpression(l.param,n.Sequence,O),")"],l.guard&&(D=b.generateExpression(l.guard,n.Sequence,O),p.splice(2,0," if ",D))):p=["catch"]}),p.push(this.maybeBlock(l.body,be)),p},DebuggerStatement:function(l,y){return"debugger"+this.semicolon(y)},EmptyStatement:function(l,y){return";"},ExportDefaultDeclaration:function(l,y){var p=["export"],b;return b=y&ue?Je:be,p=te(p,"default"),z(l.declaration)?p=te(p,this.generateStatement(l.declaration,b)):p=te(p,this.generateExpression(l.declaration,n.Assignment,O)+this.semicolon(y)),p},ExportNamedDeclaration:function(l,y){var p=["export"],b,D=this;return b=y&ue?Je:be,l.declaration?te(p,this.generateStatement(l.declaration,b)):(l.specifiers&&(l.specifiers.length===0?p=te(p,"{"+v+"}"):l.specifiers[0].type===t.ExportBatchSpecifier?p=te(p,this.generateExpression(l.specifiers[0],n.Sequence,O)):(p=te(p,"{"),xe(function(I){var G,X;for(p.push(C),G=0,X=l.specifiers.length;G<X;++G)p.push(I),p.push(D.generateExpression(l.specifiers[G],n.Sequence,O)),G+1<X&&p.push(","+C)}),We(Me(p).toString())||p.push(C),p.push(o+"}")),l.source?p=te(p,["from"+v,this.generateExpression(l.source,n.Sequence,O),this.semicolon(y)]):p.push(this.semicolon(y))),p)},ExportAllDeclaration:function(l,y){return["export"+v,"*"+v,"from"+v,this.generateExpression(l.source,n.Sequence,O),this.semicolon(y)]},ExpressionStatement:function(l,y){var p,b;function D(X){var J;return X.slice(0,5)!=="class"?!1:(J=X.charCodeAt(5),J===123||u.code.isWhiteSpace(J)||u.code.isLineTerminator(J))}function I(X){var J;return X.slice(0,8)!=="function"?!1:(J=X.charCodeAt(8),J===40||u.code.isWhiteSpace(J)||J===42||u.code.isLineTerminator(J))}function G(X){var J,he,Re;if(X.slice(0,5)!=="async"||!u.code.isWhiteSpace(X.charCodeAt(5)))return!1;for(he=6,Re=X.length;he<Re&&u.code.isWhiteSpace(X.charCodeAt(he));++he);return he===Re||X.slice(he,he+8)!=="function"?!1:(J=X.charCodeAt(he+8),J===40||u.code.isWhiteSpace(J)||J===42||u.code.isLineTerminator(J))}return p=[this.generateExpression(l.expression,n.Sequence,O)],b=Me(p).toString(),b.charCodeAt(0)===123||D(b)||I(b)||G(b)||R&&y&fe&&l.expression.type===t.Literal&&typeof l.expression.value=="string"?p=["(",p,")"+this.semicolon(y)]:p.push(this.semicolon(y)),p},ImportDeclaration:function(l,y){var p,b,D=this;return l.specifiers.length===0?["import",v,this.generateExpression(l.source,n.Sequence,O),this.semicolon(y)]:(p=["import"],b=0,l.specifiers[b].type===t.ImportDefaultSpecifier&&(p=te(p,[this.generateExpression(l.specifiers[b],n.Sequence,O)]),++b),l.specifiers[b]&&(b!==0&&p.push(","),l.specifiers[b].type===t.ImportNamespaceSpecifier?p=te(p,[v,this.generateExpression(l.specifiers[b],n.Sequence,O)]):(p.push(v+"{"),l.specifiers.length-b===1?(p.push(v),p.push(this.generateExpression(l.specifiers[b],n.Sequence,O)),p.push(v+"}"+v)):(xe(function(I){var G,X;for(p.push(C),G=b,X=l.specifiers.length;G<X;++G)p.push(I),p.push(D.generateExpression(l.specifiers[G],n.Sequence,O)),G+1<X&&p.push(","+C)}),We(Me(p).toString())||p.push(C),p.push(o+"}"+v)))),p=te(p,["from"+v,this.generateExpression(l.source,n.Sequence,O),this.semicolon(y)]),p)},VariableDeclarator:function(l,y){var p=y&j?O:nt;return l.init?[this.generateExpression(l.id,n.Assignment,p),v,"=",v,this.generateExpression(l.init,n.Assignment,p)]:this.generatePattern(l.id,n.Assignment,p)},VariableDeclaration:function(l,y){var p,b,D,I,G,X=this;p=[l.kind],G=y&j?be:we;function J(){for(I=l.declarations[0],_.comment&&I.leadingComments?(p.push(`
`),p.push(je(X.generateStatement(I,G)))):(p.push(Ve()),p.push(X.generateStatement(I,G))),b=1,D=l.declarations.length;b<D;++b)I=l.declarations[b],_.comment&&I.leadingComments?(p.push(","+C),p.push(je(X.generateStatement(I,G)))):(p.push(","+v),p.push(X.generateStatement(I,G)))}return l.declarations.length>1?xe(J):J(),p.push(this.semicolon(y)),p},ThrowStatement:function(l,y){return[te("throw",this.generateExpression(l.argument,n.Sequence,O)),this.semicolon(y)]},TryStatement:function(l,y){var p,b,D,I;if(p=["try",this.maybeBlock(l.block,be)],p=this.maybeBlockSuffix(l.block,p),l.handlers)for(b=0,D=l.handlers.length;b<D;++b)p=te(p,this.generateStatement(l.handlers[b],be)),(l.finalizer||b+1!==D)&&(p=this.maybeBlockSuffix(l.handlers[b].body,p));else{for(I=l.guardedHandlers||[],b=0,D=I.length;b<D;++b)p=te(p,this.generateStatement(I[b],be)),(l.finalizer||b+1!==D)&&(p=this.maybeBlockSuffix(I[b].body,p));if(l.handler)if(Array.isArray(l.handler))for(b=0,D=l.handler.length;b<D;++b)p=te(p,this.generateStatement(l.handler[b],be)),(l.finalizer||b+1!==D)&&(p=this.maybeBlockSuffix(l.handler[b].body,p));else p=te(p,this.generateStatement(l.handler,be)),l.finalizer&&(p=this.maybeBlockSuffix(l.handler.body,p))}return l.finalizer&&(p=te(p,["finally",this.maybeBlock(l.finalizer,be)])),p},SwitchStatement:function(l,y){var p,b,D,I,G,X=this;if(xe(function(){p=["switch"+v+"(",X.generateExpression(l.discriminant,n.Sequence,O),")"+v+"{"+C]}),l.cases)for(G=be,D=0,I=l.cases.length;D<I;++D)D===I-1&&(G|=ue),b=je(this.generateStatement(l.cases[D],G)),p.push(b),We(Me(b).toString())||p.push(C);return p.push(je("}")),p},SwitchCase:function(l,y){var p,b,D,I,G,X=this;return xe(function(){for(l.test?p=[te("case",X.generateExpression(l.test,n.Sequence,O)),":"]:p=["default:"],D=0,I=l.consequent.length,I&&l.consequent[0].type===t.BlockStatement&&(b=X.maybeBlock(l.consequent[0],be),p.push(b),D=1),D!==I&&!We(Me(p).toString())&&p.push(C),G=be;D<I;++D)D===I-1&&y&ue&&(G|=ue),b=je(X.generateStatement(l.consequent[D],G)),p.push(b),D+1!==I&&!We(Me(b).toString())&&p.push(C)}),p},IfStatement:function(l,y){var p,b,D,I=this;return xe(function(){p=["if"+v+"(",I.generateExpression(l.test,n.Sequence,O),")"]}),D=y&ue,b=be,D&&(b|=ue),l.alternate?(p.push(this.maybeBlock(l.consequent,be)),p=this.maybeBlockSuffix(l.consequent,p),l.alternate.type===t.IfStatement?p=te(p,["else ",this.generateStatement(l.alternate,b)]):p=te(p,te("else",this.maybeBlock(l.alternate,b)))):p.push(this.maybeBlock(l.consequent,b)),p},ForStatement:function(l,y){var p,b=this;return xe(function(){p=["for"+v+"("],l.init?l.init.type===t.VariableDeclaration?p.push(b.generateStatement(l.init,we)):(p.push(b.generateExpression(l.init,n.Sequence,nt)),p.push(";")):p.push(";"),l.test&&(p.push(v),p.push(b.generateExpression(l.test,n.Sequence,O))),p.push(";"),l.update&&(p.push(v),p.push(b.generateExpression(l.update,n.Sequence,O))),p.push(")")}),p.push(this.maybeBlock(l.body,y&ue?Je:be)),p},ForInStatement:function(l,y){return this.generateIterationForStatement("in",l,y&ue?Je:be)},ForOfStatement:function(l,y){return this.generateIterationForStatement("of",l,y&ue?Je:be)},LabeledStatement:function(l,y){return[l.label.name+":",this.maybeBlock(l.body,y&ue?Je:be)]},Program:function(l,y){var p,b,D,I,G;for(I=l.body.length,p=[V&&I>0?`
`:""],G=Ue,D=0;D<I;++D)!V&&D===I-1&&(G|=ue),N&&(D===0&&(l.body[0].leadingComments||fn(l.range[0],l.body[D].range[0],p)),D>0&&!l.body[D-1].trailingComments&&!l.body[D].leadingComments&&fn(l.body[D-1].range[1],l.body[D].range[0],p)),b=je(this.generateStatement(l.body[D],G)),p.push(b),D+1<I&&!We(Me(b).toString())&&(N&&l.body[D+1].leadingComments||p.push(C)),N&&D===I-1&&(l.body[D].trailingComments||fn(l.body[D].range[1],l.range[1],p));return p},FunctionDeclaration:function(l,y){return[hn(l,!0),"function",Wn(l)||Ve(),l.id?at(l.id):"",this.generateFunctionBody(l)]},ReturnStatement:function(l,y){return l.argument?[te("return",this.generateExpression(l.argument,n.Sequence,O)),this.semicolon(y)]:["return"+this.semicolon(y)]},WhileStatement:function(l,y){var p,b=this;return xe(function(){p=["while"+v+"(",b.generateExpression(l.test,n.Sequence,O),")"]}),p.push(this.maybeBlock(l.body,y&ue?Je:be)),p},WithStatement:function(l,y){var p,b=this;return xe(function(){p=["with"+v+"(",b.generateExpression(l.object,n.Sequence,O),")"]}),p.push(this.maybeBlock(l.body,y&ue?Je:be)),p}},cn(Le.prototype,Le.Statement),Le.Expression={SequenceExpression:function(l,y,p){var b,D,I;for(n.Sequence<y&&(p|=j),b=[],D=0,I=l.expressions.length;D<I;++D)b.push(this.generateExpression(l.expressions[D],n.Assignment,p)),D+1<I&&b.push(","+v);return $e(b,n.Sequence,y)},AssignmentExpression:function(l,y,p){return this.generateAssignment(l.left,l.right,l.operator,y,p)},ArrowFunctionExpression:function(l,y,p){return $e(this.generateFunctionBody(l),n.ArrowFunction,y)},ConditionalExpression:function(l,y,p){return n.Conditional<y&&(p|=j),$e([this.generateExpression(l.test,n.Coalesce,p),v+"?"+v,this.generateExpression(l.consequent,n.Assignment,p),v+":"+v,this.generateExpression(l.alternate,n.Assignment,p)],n.Conditional,y)},LogicalExpression:function(l,y,p){return l.operator==="??"&&(p|=Ie),this.BinaryExpression(l,y,p)},BinaryExpression:function(l,y,p){var b,D,I,G,X,J;return G=i[l.operator],D=l.operator==="**"?n.Postfix:G,I=l.operator==="**"?G:G+1,G<y&&(p|=j),X=this.generateExpression(l.left,D,p),J=X.toString(),J.charCodeAt(J.length-1)===47&&u.code.isIdentifierPartES5(l.operator.charCodeAt(0))?b=[X,Ve(),l.operator]:b=te(X,l.operator),X=this.generateExpression(l.right,I,p),l.operator==="/"&&X.toString().charAt(0)==="/"||l.operator.slice(-1)==="<"&&X.toString().slice(0,3)==="!--"?(b.push(Ve()),b.push(X)):b=te(b,X),l.operator==="in"&&!(p&j)?["(",b,")"]:(l.operator==="||"||l.operator==="&&")&&p&Ie?["(",b,")"]:$e(b,G,y)},CallExpression:function(l,y,p){var b,D,I;for(b=[this.generateExpression(l.callee,n.Call,ce)],l.optional&&b.push("?."),b.push("("),D=0,I=l.arguments.length;D<I;++D)b.push(this.generateExpression(l.arguments[D],n.Assignment,O)),D+1<I&&b.push(","+v);return b.push(")"),p&ne?$e(b,n.Call,y):["(",b,")"]},ChainExpression:function(l,y,p){n.OptionalChaining<y&&(p|=ne);var b=this.generateExpression(l.expression,n.OptionalChaining,p);return $e(b,n.OptionalChaining,y)},NewExpression:function(l,y,p){var b,D,I,G,X;if(D=l.arguments.length,X=p&ye&&!E&&D===0?it:Ye,b=te("new",this.generateExpression(l.callee,n.New,X)),!(p&ye)||E||D>0){for(b.push("("),I=0,G=D;I<G;++I)b.push(this.generateExpression(l.arguments[I],n.Assignment,O)),I+1<G&&b.push(","+v);b.push(")")}return $e(b,n.New,y)},MemberExpression:function(l,y,p){var b,D;return b=[this.generateExpression(l.object,n.Call,p&ne?ce:Ye)],l.computed?(l.optional&&b.push("?."),b.push("["),b.push(this.generateExpression(l.property,n.Sequence,p&ne?O:it)),b.push("]")):(!l.optional&&l.object.type===t.Literal&&typeof l.object.value=="number"&&(D=Me(b).toString(),D.indexOf(".")<0&&!/[eExX]/.test(D)&&u.code.isDecimalDigit(D.charCodeAt(D.length-1))&&!(D.length>=2&&D.charCodeAt(0)===48)&&b.push(" ")),b.push(l.optional?"?.":"."),b.push(at(l.property))),$e(b,n.Member,y)},MetaProperty:function(l,y,p){var b;return b=[],b.push(typeof l.meta=="string"?l.meta:at(l.meta)),b.push("."),b.push(typeof l.property=="string"?l.property:at(l.property)),$e(b,n.Member,y)},UnaryExpression:function(l,y,p){var b,D,I,G,X;return D=this.generateExpression(l.argument,n.Unary,O),v===""?b=te(l.operator,D):(b=[l.operator],l.operator.length>2?b=te(b,D):(G=Me(b).toString(),X=G.charCodeAt(G.length-1),I=D.toString().charCodeAt(0),((X===43||X===45)&&X===I||u.code.isIdentifierPartES5(X)&&u.code.isIdentifierPartES5(I))&&b.push(Ve()),b.push(D))),$e(b,n.Unary,y)},YieldExpression:function(l,y,p){var b;return l.delegate?b="yield*":b="yield",l.argument&&(b=te(b,this.generateExpression(l.argument,n.Yield,O))),$e(b,n.Yield,y)},AwaitExpression:function(l,y,p){var b=te(l.all?"await*":"await",this.generateExpression(l.argument,n.Await,O));return $e(b,n.Await,y)},UpdateExpression:function(l,y,p){return l.prefix?$e([l.operator,this.generateExpression(l.argument,n.Unary,O)],n.Unary,y):$e([this.generateExpression(l.argument,n.Postfix,O),l.operator],n.Postfix,y)},FunctionExpression:function(l,y,p){var b=[hn(l,!0),"function"];return l.id?(b.push(Wn(l)||Ve()),b.push(at(l.id))):b.push(Wn(l)||v),b.push(this.generateFunctionBody(l)),b},ArrayPattern:function(l,y,p){return this.ArrayExpression(l,y,p,!0)},ArrayExpression:function(l,y,p,b){var D,I,G=this;return l.elements.length?(I=b?!1:l.elements.length>1,D=["[",I?C:""],xe(function(X){var J,he;for(J=0,he=l.elements.length;J<he;++J)l.elements[J]?(D.push(I?X:""),D.push(G.generateExpression(l.elements[J],n.Assignment,O))):(I&&D.push(X),J+1===he&&D.push(",")),J+1<he&&D.push(","+(I?C:v))}),I&&!We(Me(D).toString())&&D.push(C),D.push(I?o:""),D.push("]"),D):"[]"},RestElement:function(l,y,p){return"..."+this.generatePattern(l.argument)},ClassExpression:function(l,y,p){var b,D;return b=["class"],l.id&&(b=te(b,this.generateExpression(l.id,n.Sequence,O))),l.superClass&&(D=te("extends",this.generateExpression(l.superClass,n.Unary,O)),b=te(b,D)),b.push(v),b.push(this.generateStatement(l.body,Je)),b},MethodDefinition:function(l,y,p){var b,D;return l.static?b=["static"+v]:b=[],l.kind==="get"||l.kind==="set"?D=[te(l.kind,this.generatePropertyKey(l.key,l.computed)),this.generateFunctionBody(l.value)]:D=[_i(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)],te(b,D)},Property:function(l,y,p){return l.kind==="get"||l.kind==="set"?[l.kind,Ve(),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:l.shorthand?l.value.type==="AssignmentPattern"?this.AssignmentPattern(l.value,n.Sequence,O):this.generatePropertyKey(l.key,l.computed):l.method?[_i(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:[this.generatePropertyKey(l.key,l.computed),":"+v,this.generateExpression(l.value,n.Assignment,O)]},ObjectExpression:function(l,y,p){var b,D,I,G=this;return l.properties.length?(b=l.properties.length>1,xe(function(){I=G.generateExpression(l.properties[0],n.Sequence,O)}),!b&&!Gn(Me(I).toString())?["{",v,I,v,"}"]:(xe(function(X){var J,he;if(D=["{",C,X,I],b)for(D.push(","+C),J=1,he=l.properties.length;J<he;++J)D.push(X),D.push(G.generateExpression(l.properties[J],n.Sequence,O)),J+1<he&&D.push(","+C)}),We(Me(D).toString())||D.push(C),D.push(o),D.push("}"),D)):"{}"},AssignmentPattern:function(l,y,p){return this.generateAssignment(l.left,l.right,"=",y,p)},ObjectPattern:function(l,y,p){var b,D,I,G,X,J=this;if(!l.properties.length)return"{}";if(G=!1,l.properties.length===1)X=l.properties[0],X.type===t.Property&&X.value.type!==t.Identifier&&(G=!0);else for(D=0,I=l.properties.length;D<I;++D)if(X=l.properties[D],X.type===t.Property&&!X.shorthand){G=!0;break}return b=["{",G?C:""],xe(function(he){var Re,Lt;for(Re=0,Lt=l.properties.length;Re<Lt;++Re)b.push(G?he:""),b.push(J.generateExpression(l.properties[Re],n.Sequence,O)),Re+1<Lt&&b.push(","+(G?C:v))}),G&&!We(Me(b).toString())&&b.push(C),b.push(G?o:""),b.push("}"),b},ThisExpression:function(l,y,p){return"this"},Super:function(l,y,p){return"super"},Identifier:function(l,y,p){return at(l)},ImportDefaultSpecifier:function(l,y,p){return at(l.id||l.local)},ImportNamespaceSpecifier:function(l,y,p){var b=["*"],D=l.id||l.local;return D&&b.push(v+"as"+Ve()+at(D)),b},ImportSpecifier:function(l,y,p){var b=l.imported,D=[b.name],I=l.local;return I&&I.name!==b.name&&D.push(Ve()+"as"+Ve()+at(I)),D},ExportSpecifier:function(l,y,p){var b=l.local,D=[b.name],I=l.exported;return I&&I.name!==b.name&&D.push(Ve()+"as"+Ve()+at(I)),D},Literal:function(l,y,p){var b;if(l.hasOwnProperty("raw")&&S&&_.raw)try{if(b=S(l.raw).body[0].expression,b.type===t.Literal&&b.value===l.value)return l.raw}catch{}return l.regex?"/"+l.regex.pattern+"/"+l.regex.flags:typeof l.value=="bigint"?l.value.toString()+"n":l.bigint?l.bigint+"n":l.value===null?"null":typeof l.value=="string"?mt(l.value):typeof l.value=="number"?Nt(l.value):typeof l.value=="boolean"?l.value?"true":"false":Zn(l.value)},GeneratorExpression:function(l,y,p){return this.ComprehensionExpression(l,y,p)},ComprehensionExpression:function(l,y,p){var b,D,I,G,X=this;return b=l.type===t.GeneratorExpression?["("]:["["],_.moz.comprehensionExpressionStartsWithAssignment&&(G=this.generateExpression(l.body,n.Assignment,O),b.push(G)),l.blocks&&xe(function(){for(D=0,I=l.blocks.length;D<I;++D)G=X.generateExpression(l.blocks[D],n.Sequence,O),D>0||_.moz.comprehensionExpressionStartsWithAssignment?b=te(b,G):b.push(G)}),l.filter&&(b=te(b,"if"+v),G=this.generateExpression(l.filter,n.Sequence,O),b=te(b,["(",G,")"])),_.moz.comprehensionExpressionStartsWithAssignment||(G=this.generateExpression(l.body,n.Assignment,O),b=te(b,G)),b.push(l.type===t.GeneratorExpression?")":"]"),b},ComprehensionBlock:function(l,y,p){var b;return l.left.type===t.VariableDeclaration?b=[l.left.kind,Ve(),this.generateStatement(l.left.declarations[0],we)]:b=this.generateExpression(l.left,n.Call,O),b=te(b,l.of?"of":"in"),b=te(b,this.generateExpression(l.right,n.Sequence,O)),["for"+v+"(",b,")"]},SpreadElement:function(l,y,p){return["...",this.generateExpression(l.argument,n.Assignment,O)]},TaggedTemplateExpression:function(l,y,p){var b=ce;p&ne||(b=Ye);var D=[this.generateExpression(l.tag,n.Call,b),this.generateExpression(l.quasi,n.Primary,_e)];return $e(D,n.TaggedTemplate,y)},TemplateElement:function(l,y,p){return l.value.raw},TemplateLiteral:function(l,y,p){var b,D,I;for(b=["`"],D=0,I=l.quasis.length;D<I;++D)b.push(this.generateExpression(l.quasis[D],n.Primary,O)),D+1<I&&(b.push("${"+v),b.push(this.generateExpression(l.expressions[D],n.Sequence,O)),b.push(v+"}"));return b.push("`"),b},ModuleSpecifier:function(l,y,p){return this.Literal(l,y,p)},ImportExpression:function(l,y,p){return $e(["import(",this.generateExpression(l.source,n.Assignment,O),")"],n.Call,y)}},cn(Le.prototype,Le.Expression),Le.prototype.generateExpression=function(l,y,p){var b,D;return D=l.type||t.Property,_.verbatim&&l.hasOwnProperty(_.verbatim)?si(l,y):(b=this[D](l,y,p),_.comment&&(b=Xn(l,b)),Me(b,l))},Le.prototype.generateStatement=function(l,y){var p,b;return p=this[l.type](l,y),_.comment&&(p=Xn(l,p)),b=Me(p).toString(),l.type===t.Program&&!V&&C===""&&b.charAt(b.length-1)===`
`&&(p=x?Me(p).replaceRight(/\s+$/,""):b.replace(/\s+$/,"")),Me(p,l)};function wr(l){var y;if(y=new Le,z(l))return y.generateStatement(l,be);if(ee(l))return y.generateExpression(l,n.Sequence,O);throw new Error("Unknown node type: "+l.type)}function Sr(l,y){var p=Dt(),b,D;return y!=null?(typeof y.indent=="string"&&(p.format.indent.style=y.indent),typeof y.base=="number"&&(p.format.indent.base=y.base),y=Mt(p,y),c=y.format.indent.style,typeof y.base=="string"?o=y.base:o=Ne(c,y.format.indent.base)):(y=p,c=y.format.indent.style,o=Ne(c,y.format.indent.base)),h=y.format.json,d=y.format.renumber,g=h?!1:y.format.hexadecimal,m=h?"double":y.format.quotes,A=y.format.escapeless,C=y.format.newline,v=y.format.space,y.format.compact&&(C=v=c=o=""),E=y.format.parentheses,k=y.format.semicolons,V=y.format.safeConcatenation,R=y.directive,S=h?null:y.parse,x=y.sourceMap,T=y.sourceCode,N=y.format.preserveBlankLines&&T!==null,_=y,x&&(e.browser?r=Av.sourceMap.SourceNode:r=xv().SourceNode),b=wr(l),x?(D=b.toStringWithSourceMap({file:y.file,sourceRoot:y.sourceMapRoot}),y.sourceContent&&D.map.setSourceContent(y.sourceMap,y.sourceContent),y.sourceMapWithCode?D:D.map.toString()):(D={code:b.toString(),map:null},y.sourceMapWithCode?D:D.code)}K={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},W=Dt().format,e.version=kv.version,e.generate=Sr,e.attachComments=s.attachComments,e.Precedence=Mt({},n),e.browser=!1,e.FORMAT_MINIFY=K,e.FORMAT_DEFAULTS=W})()}(u1)),u1}var Tv=Vv();const Iv=P3(Tv);class Nv{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:t=>this.replacement=t}}replace(t,n,i,r){t&&n&&(i!=null?t[n][i]=r:t[n]=r)}remove(t,n,i){t&&n&&(i!=null?t[n].splice(i,1):delete t[n])}}class Lv extends Nv{constructor(t,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:i=>this.replacement=i},this.enter=t,this.leave=n}visit(t,n,i,r){if(t){if(this.enter){const u=this.should_skip,o=this.should_remove,c=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,t,n,i,r),this.replacement&&(t=this.replacement,this.replace(n,i,r,t)),this.should_remove&&this.remove(n,i,r);const h=this.should_skip,d=this.should_remove;if(this.should_skip=u,this.should_remove=o,this.replacement=c,h)return t;if(d)return null}let s;for(s in t){const u=t[s];if(u&&typeof u=="object")if(Array.isArray(u)){const o=u;for(let c=0;c<o.length;c+=1){const h=o[c];j3(h)&&(this.visit(h,t,s,c)||c--)}}else j3(u)&&this.visit(u,t,s,null)}if(this.leave){const u=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,t,n,i,r),this.replacement&&(t=this.replacement,this.replace(n,i,r,t)),this.should_remove&&this.remove(n,i,r);const c=this.should_remove;if(this.replacement=u,this.should_remove=o,c)return null}}return t}}function j3(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"}function Rv(e,{enter:t,leave:n}){return new Lv(t,n).visit(e,null)}let $3=[];function Gv(e){$3.push(e)}let yr=new Map;function Zv(e,t){yr.set(e,t)}function q3(e,t={}){const{wrapAsync:n=!1,addReturn:i=!0,emitMiniLocations:r=!0,emitWidgets:s=!0}=t;let u=bv(e,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),o=[];const c=(m,A)=>{const C=yr.get("minilang");if(C){const v=`[${m}]`,E=C.getLocations(v,A.start);o=o.concat(E)}else{const v=As(`"${m}"`,A.start,e);o=o.concat(v)}};let h=[];Rv(u,{enter(m,A){if(Jv(m)){const{name:C}=m.tag,v=yr.get(C),E=m.quasi.quasis[0].value.raw,k=m.quasi.start+1;if(r){const V=v.getLocations(E,k);o=o.concat(V)}return this.skip(),this.replace(tP(C,E,k))}if(Uv(m,"tidal")){const C=m.quasi.quasis[0].value.raw,v=m.quasi.start+1;if(r){const E=Qv(C,v);o=o.concat(E)}return this.skip(),this.replace(eP(C,v))}if(Wv(m,A)){const{quasis:C}=m,{raw:v}=C[0].value;return this.skip(),r&&c(v,m),this.replace(H3(v,m))}if(Xv(m)){const{value:C}=m;return this.skip(),r&&c(C,m),this.replace(H3(C,m))}if(Ov(m))return s&&h.push({from:m.arguments[0].start,to:m.arguments[0].end,value:m.arguments[0].raw,min:m.arguments[1]?.value??0,max:m.arguments[2]?.value??1,step:m.arguments[3]?.value,type:"slider"}),this.replace(jv(m));if(zv(m)){const C=m.callee.property.name,v=h.filter(k=>k.type===C).length,E={to:m.end,index:v,type:C,id:t.id};return s&&h.push(E),this.replace($v(m,E))}if(qv(m,A))return this.replace(Hv(m));if(Kv(m))return this.replace(Yv(m))},leave(m,A,C,v){}});let{body:d}=u;if(!d.length)console.warn("empty body -> fallback to silence"),d.push({type:"ExpressionStatement",expression:{type:"Identifier",name:"silence"}});else if(!d?.[d.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(i){const{expression:m}=d[d.length-1];d[d.length-1]={type:"ReturnStatement",argument:m}}let g=Iv.generate(u);return n&&(g=`(async ()=>{${g}})()`),r?{output:g,miniLocations:o,widgets:h}:{output:g}}function Xv(e,t,n){return e.type!=="Literal"?!1:e.raw[0]==='"'}function Wv(e,t){return e.type==="TemplateLiteral"&&t.type!=="TaggedTemplateExpression"}function H3(e,t){const{start:n}=t,i=yr.get("minilang");let r="m";return i&&i.name&&(r=i.name),{type:"CallExpression",callee:{type:"Identifier",name:r},arguments:[{type:"Literal",value:e},{type:"Literal",value:n}],optional:!1}}function Ov(e){return e.type==="CallExpression"&&e.callee.name==="slider"}function zv(e){return e.type==="CallExpression"&&$3.includes(e.callee.property?.name)}function jv(e){const t="slider_"+e.arguments[0].start;return e.arguments.unshift({type:"Literal",value:t,raw:t}),e.callee.name="sliderWithID",e}function K3(e){return`${e.id||""}_widget_${e.type}_${e.index}`}function $v(e,t){const n=K3(t);return e.arguments.unshift({type:"Literal",value:n,raw:n}),e}function qv(e,t){return e.type==="CallExpression"&&e.callee.name==="samples"&&t.type!=="AwaitExpression"}function Hv(e){return{type:"AwaitExpression",argument:e}}function Kv(e){return e.type==="LabeledStatement"}function Yv(e){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:e.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:e.label.name,raw:`'${e.label.name}'`}]}}}function Jv(e){return e.type==="TaggedTemplateExpression"&&yr.has(e.tag.name)}function Uv(e,t){return e.type==="TaggedTemplateExpression"&&e.tag.name===t}function Qv(e,t){return e.split("").reduce((n,i,r)=>(i!=='"'||(!n.length||n[n.length-1].length>1?n.push([r+1]):n[n.length-1].push(r)),n),[]).map(([n,i])=>{const r=e.slice(n,i);return As(`"${r}"`,t+n-1)}).flat()}function eP(e,t){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:e},{type:"Literal",value:t}],optional:!1}}function tP(e,t,n){return{type:"CallExpression",callee:{type:"Identifier",name:e},arguments:[{type:"Literal",value:t},{type:"Literal",value:n}],optional:!1}}function b1(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function A1(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var Y3=[0,2,4,-1,1,3,5],J3=Y3.map(e=>Math.floor(e*7/12));function U3(e){const{step:t,alt:n,oct:i,dir:r=1}=e,s=Y3[t]+7*n;if(i===void 0)return[r*s];const u=i-J3[t]-4*n;return[r*s,r*u]}var nP=[3,0,4,1,5,2,6];function Q3(e){const[t,n,i]=e,r=nP[iP(t)],s=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:s,dir:i};const u=n+4*s+J3[r];return{step:r,alt:s,oct:u,dir:i}}function iP(e){const t=(e+1)%7;return t<0?7+t:t}var eb=(e,t)=>Array(Math.abs(t)+1).join(e),M1=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),rP="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",sP="(AA|A|P|M|m|d|dd)([-+]?\\d+)",uP=new RegExp("^"+rP+"|"+sP+"$");function aP(e){const t=uP.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var tb={};function un(e){return typeof e=="string"?tb[e]||(tb[e]=oP(e)):A1(e)?un(lP(e)):b1(e)?un(e.name):M1}var nb=[0,2,4,5,7,9,11],ib="PMMPPMM";function oP(e){const t=aP(e);if(t[0]==="")return M1;const n=+t[0],i=t[1],r=(Math.abs(n)-1)%7,s=ib[r];if(s==="M"&&i==="P")return M1;const u=s==="M"?"majorable":"perfectable",o=""+n+i,c=n<0?-1:1,h=n===8||n===-8?n:c*(r+1),d=cP(u,i),g=Math.floor((Math.abs(n)-1)/7),m=c*(nb[r]+d+12*g),A=(c*(nb[r]+d)%12+12)%12,C=U3({step:r,alt:d,oct:g,dir:c});return{empty:!1,name:o,num:n,q:i,step:r,alt:d,dir:c,type:u,simple:h,semitones:m,chroma:A,coord:C,oct:g}}function rb(e,t){const[n,i=0]=e,r=n*7+i*12<0,s=t||r?[-n,-i,-1]:[n,i,1];return un(Q3(s))}function cP(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function lP(e){const{step:t,alt:n,oct:i=0,dir:r}=e;if(!r)return"";const s=t+1+7*i,u=s===0?t+1:s,o=r<0?"-":"",c=ib[t]==="M"?"majorable":"perfectable";return o+u+fP(c,n)}function fP(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?eb("A",t):eb("d",e==="perfectable"?t:t+1)}var sb=(e,t)=>Array(Math.abs(t)+1).join(e),ub=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),ab=new Map,hP=e=>"CDEFGAB".charAt(e),xs=e=>e<0?sb("b",-e):sb("#",e),C1=e=>e[0]==="b"?-e.length:e.length;function Ee(e){const t=JSON.stringify(e),n=ab.get(t);if(n)return n;const i=typeof e=="string"?gP(e):A1(e)?Ee(yP(e)):b1(e)?Ee(e.name):ub;return ab.set(t,i),i}var dP=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function v1(e){const t=dP.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function mP(e){return Ee(Q3(e))}var pP=(e,t)=>(e%t+t)%t,P1=[0,2,4,5,7,9,11];function gP(e){const t=v1(e);if(t[0]===""||t[3]!=="")return ub;const n=t[0],i=t[1],r=t[2],s=(n.charCodeAt(0)+3)%7,u=C1(i),o=r.length?+r:void 0,c=U3({step:s,alt:u,oct:o}),h=n+i+r,d=n+i,g=(P1[s]+u+120)%12,m=o===void 0?pP(P1[s]+u,12)-12*99:P1[s]+u+12*(o+1),A=m>=0&&m<=127?m:null,C=o===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:i,alt:u,chroma:g,coord:c,freq:C,height:m,letter:n,midi:A,name:h,oct:o,pc:d,step:s}}function yP(e){const{step:t,alt:n,oct:i}=e,r=hP(t);if(!r)return"";const s=r+xs(n);return i||i===0?s+i:s}function $t(e,t){const n=Ee(e),i=Array.isArray(t)?t:un(t).coord;if(n.empty||!i||i.length<2)return"";const r=n.coord,s=r.length===1?[r[0]+i[0]]:[r[0]+i[0],r[1]+i[1]];return mP(s).name}function ob(e,t){const n=e.length;return i=>{if(!t)return"";const r=i<0?(n- -i%n)%n:i%n,s=Math.floor(i/n),u=$t(t,[0,s]);return $t(u,e[r])}}function ks(e,t){const n=Ee(e),i=Ee(t);if(n.empty||i.empty)return"";const r=n.coord,s=i.coord,u=s[0]-r[0],o=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(u*7/12),c=i.height===n.height&&i.midi!==null&&n.oct===i.oct&&n.step>i.step;return rb([u,o],c).name}var cb=(e,t)=>Array(t+1).join(e),bP=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function lb(e){const t=bP.exec(e);return t?[t[1],t[2],t[3]]:["","",""]}function Vs(e){const[t,n,i]=lb(e);if(n==="")return"";let r=4;for(let u=0;u<i.length;u++)r+=i.charAt(u)===","?-1:1;const s=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+s+(r+1):n+s+r}function fb(e){const t=Ee(e);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:i,oct:r}=t,s=i[0]==="b"?i.replace(/b/g,"_"):i.replace(/#/g,"^"),u=r>4?n.toLowerCase():n,o=r===5?"":r>4?cb("'",r-5):cb(",",4-r);return s+u+o}function AP(e,t){return fb($t(Vs(e),t))}function MP(e,t){return ks(Vs(e),Vs(t))}var CP={abcToScientificNotation:Vs,scientificToAbcNotation:fb,tokenize:lb,transpose:AP,distance:MP};function vP(e,t){const n=[];for(;t--;n[t]=t+e);return n}function PP(e,t){const n=[];for(;t--;n[t]=e-t);return n}function DP(e,t){return e<t?vP(e,t-e+1):PP(e,e-t+1)}function FP(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function EP(e){return e.filter(t=>t===0||t)}function hb(e){return e.map(n=>Ee(n)).filter(n=>!n.empty).sort((n,i)=>n.height-i.height).map(n=>n.name)}function wP(e){return hb(e).filter((t,n,i)=>n===0||t!==i[n-1])}function SP(e,t=Math.random){let n,i,r=e.length;for(;r;)n=Math.floor(t()*r--),i=e[r],e[r]=e[n],e[n]=i;return e}function db(e){return e.length===0?[[]]:db(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,r)=>{const s=n.slice();return s.splice(r,0,e[0]),s})),[])}const BP=Object.freeze(Object.defineProperty({__proto__:null,compact:EP,permutations:db,range:DP,rotate:FP,shuffle:SP,sortedNoteNames:hb,sortedUniqNoteNames:wP},Symbol.toStringTag,{value:"Module"}));function _P(e,t){const n=[];for(;t--;n[t]=t+e);return n}function xP(e,t){const n=[];for(;t--;n[t]=e-t);return n}function Ts(e,t){return e<t?_P(e,t-e+1):xP(e,e-t+1)}function Mi(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function D1(e){return e.filter(t=>t===0||t)}function kP(e,t=Math.random){let n,i,r=e.length;for(;r;)n=Math.floor(t()*r--),i=e[r],e[r]=e[n],e[n]=i;return e}function mb(e){return e.length===0?[[]]:mb(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,r)=>{const s=n.slice();return s.splice(r,0,e[0]),s})),[])}var VP={compact:D1,permutations:mb,range:Ts,rotate:Mi,shuffle:kP},In={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},F1=e=>Number(e).toString(2).padStart(12,"0"),pb=e=>parseInt(e,2),TP=/^[01]{12}$/;function E1(e){return TP.test(e)}var IP=e=>typeof e=="number"&&e>=0&&e<=4095,NP=e=>e&&E1(e.chroma),gb={[In.chroma]:In};function st(e){const t=E1(e)?e:IP(e)?F1(e):Array.isArray(e)?HP(e):NP(e)?e.chroma:In.chroma;return gb[t]=gb[t]||qP(t)}var LP=st,yb=e=>st(e).chroma,RP=e=>st(e).intervals,GP=e=>st(e).setNum,ZP=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function XP(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(ZP[n]);return t}function WP(e){return st(e).intervals.map(t=>$t("C",t))}function OP(){return Ts(2048,4095).map(F1)}function w1(e,t=!0){const i=st(e).chroma.split("");return D1(i.map((r,s)=>{const u=Mi(s,i);return t&&u[0]==="0"?null:u.join("")}))}function zP(e,t){return st(e).setNum===st(t).setNum}function Is(e){const t=st(e).setNum;return n=>{const i=st(n).setNum;return t&&t!==i&&(i&t)===i}}function Ns(e){const t=st(e).setNum;return n=>{const i=st(n).setNum;return t&&t!==i&&(i|t)===i}}function bb(e){const t=st(e);return n=>{const i=Ee(n);return t&&!i.empty&&t.chroma.charAt(i.chroma)==="1"}}function jP(e){const t=bb(e);return n=>n.filter(t)}var Ab={get:st,chroma:yb,num:GP,intervals:RP,chromas:OP,isSupersetOf:Ns,isSubsetOf:Is,isNoteIncludedIn:bb,isEqual:zP,filter:jP,modes:w1,notes:WP,pcset:LP};function $P(e){const t=e.split("");return t.map((n,i)=>Mi(i,t).join(""))}function qP(e){const t=pb(e),n=$P(e).map(pb).filter(s=>s>=2048).sort()[0],i=F1(n),r=XP(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:i,intervals:r}}function HP(e){if(e.length===0)return In.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let i=0;i<e.length;i++)t=Ee(e[i]),t.empty&&(t=un(e[i])),t.empty||(n[t.chroma]=1);return n.join("")}var KP=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],YP=KP;({...In});var S1=[],Ls={};function Mb(){return S1.slice()}function JP(e,t,n){const i=QP(e),r={...st(e),name:n||"",quality:i,intervals:e,aliases:t};S1.push(r),r.name&&(Ls[r.name]=r),Ls[r.setNum]=r,Ls[r.chroma]=r,r.aliases.forEach(s=>UP(r,s))}function UP(e,t){Ls[t]=e}function QP(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}YP.forEach(([e,t,n])=>JP(e.split(" "),n.split(" "),t)),S1.sort((e,t)=>e.setNum-t.setNum);var eD=e=>{const t=e.reduce((n,i)=>{const r=Ee(i).chroma;return r!==void 0&&(n[r]=n[r]||Ee(i).name),n},{});return n=>t[n]};function tD(e,t={}){const n=e.map(r=>Ee(r).pc).filter(r=>r);return Ee.length===0?[]:oD(n,1,t).filter(r=>r.weight).sort((r,s)=>s.weight-r.weight).map(r=>r.name)}var Rs={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Gs=e=>t=>!!(t&e),nD=Gs(Rs.anyThirds),iD=Gs(Rs.perfectFifth),rD=Gs(Rs.anySeventh),sD=Gs(Rs.nonPerfectFifths);function uD(e){const t=parseInt(e.chroma,2);return nD(t)&&iD(t)&&rD(t)}function aD(e){const t=parseInt(e,2);return sD(t)?e:(t|16).toString(2)}function oD(e,t,n){const i=e[0],r=Ee(i).chroma,s=eD(e),u=w1(e,!1),o=[];return u.forEach((c,h)=>{const d=n.assumePerfectFifth&&aD(c);Mb().filter(m=>n.assumePerfectFifth&&uD(m)?m.chroma===d:m.chroma===c).forEach(m=>{const A=m.aliases[0],C=s(h);h!==r?o.push({weight:.5*t,name:`${C}${A}/${i}`}):o.push({weight:1*t,name:`${C}${A}`})})}),o}function br(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}var Cb=[0,2,4,5,7,9,11],vb=({step:e,alt:t})=>(Cb[e]+t+120)%12,B1=({step:e,alt:t,oct:n,dir:i=1})=>i*(Cb[e]+t+12*(n===void 0?-100:n)),Pb=e=>{const t=B1(e);return e.oct!==void 0&&t>=-12&&t<=115?t+12:null};function Zs(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var Db=[0,2,4,-1,1,3,5],Fb=Db.map(e=>Math.floor(e*7/12));function Xs(e){const{step:t,alt:n,oct:i,dir:r=1}=e,s=Db[t]+7*n;if(i===void 0)return[r*s];const u=i-Fb[t]-4*n;return[r*s,r*u]}var cD=[3,0,4,1,5,2,6];function Ws(e){const[t,n,i]=e,r=cD[lD(t)],s=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:s,dir:i};const u=n+4*s+Fb[r];return{step:r,alt:s,oct:u,dir:i}}function lD(e){const t=(e+1)%7;return t<0?7+t:t}var Eb=(e,t)=>Array(Math.abs(t)+1).join(e),_1={empty:!0,name:"",acc:""},fD="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",hD="(AA|A|P|M|m|d|dd)([-+]?\\d+)",dD=new RegExp("^"+fD+"|"+hD+"$");function x1(e){const t=dD.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var wb={};function lt(e){return typeof e=="string"?wb[e]||(wb[e]=mD(e)):Zs(e)?lt(gD(e)):br(e)?lt(e.name):_1}var Sb=[0,2,4,5,7,9,11],Bb="PMMPPMM";function mD(e){const t=x1(e);if(t[0]==="")return _1;const n=+t[0],i=t[1],r=(Math.abs(n)-1)%7,s=Bb[r];if(s==="M"&&i==="P")return _1;const u=s==="M"?"majorable":"perfectable",o=""+n+i,c=n<0?-1:1,h=n===8||n===-8?n:c*(r+1),d=pD(u,i),g=Math.floor((Math.abs(n)-1)/7),m=c*(Sb[r]+d+12*g),A=(c*(Sb[r]+d)%12+12)%12,C=Xs({step:r,alt:d,oct:g,dir:c});return{empty:!1,name:o,num:n,q:i,step:r,alt:d,dir:c,type:u,simple:h,semitones:m,chroma:A,coord:C,oct:g}}function Ar(e,t){const[n,i=0]=e,r=n*7+i*12<0,s=t||r?[-n,-i,-1]:[n,i,1];return lt(Ws(s))}function pD(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function gD(e){const{step:t,alt:n,oct:i=0,dir:r}=e;if(!r)return"";const s=t+1+7*i,u=s===0?t+1:s,o=r<0?"-":"",c=Bb[t]==="M"?"majorable":"perfectable";return o+u+yD(c,n)}function yD(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?Eb("A",t):Eb("d",e==="perfectable"?t:t+1)}var _b=(e,t)=>Array(Math.abs(t)+1).join(e),xb={empty:!0,name:"",pc:"",acc:""},kb=new Map,k1=e=>"CDEFGAB".charAt(e),V1=e=>e<0?_b("b",-e):_b("#",e),T1=e=>e[0]==="b"?-e.length:e.length;function an(e){const t=JSON.stringify(e),n=kb.get(t);if(n)return n;const i=typeof e=="string"?MD(e):Zs(e)?an(CD(e)):br(e)?an(e.name):xb;return kb.set(t,i),i}var bD=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Os(e){const t=bD.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function I1(e){return an(Ws(e))}var AD=(e,t)=>(e%t+t)%t,N1=[0,2,4,5,7,9,11];function MD(e){const t=Os(e);if(t[0]===""||t[3]!=="")return xb;const n=t[0],i=t[1],r=t[2],s=(n.charCodeAt(0)+3)%7,u=T1(i),o=r.length?+r:void 0,c=Xs({step:s,alt:u,oct:o}),h=n+i+r,d=n+i,g=(N1[s]+u+120)%12,m=o===void 0?AD(N1[s]+u,12)-12*99:N1[s]+u+12*(o+1),A=m>=0&&m<=127?m:null,C=o===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:i,alt:u,chroma:g,coord:c,freq:C,height:m,letter:n,midi:A,name:h,oct:o,pc:d,step:s}}function CD(e){const{step:t,alt:n,oct:i}=e,r=k1(t);if(!r)return"";const s=r+V1(n);return i||i===0?s+i:s}function Ci(e,t){const n=an(e),i=Array.isArray(t)?t:lt(t).coord;if(n.empty||!i||i.length<2)return"";const r=n.coord,s=r.length===1?[r[0]+i[0]]:[r[0]+i[0],r[1]+i[1]];return I1(s).name}function zs(e,t){const n=e.length;return i=>{if(!t)return"";const r=i<0?(n- -i%n)%n:i%n,s=Math.floor(i/n),u=Ci(t,[0,s]);return Ci(u,e[r])}}function L1(e,t){const n=an(e),i=an(t);if(n.empty||i.empty)return"";const r=n.coord,s=i.coord,u=s[0]-r[0],o=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(u*7/12),c=i.height===n.height&&i.midi!==null&&n.midi!==null&&n.step>i.step;return Ar([u,o],c).name}var Vb=(e,t)=>Array(Math.abs(t)+1).join(e);function vi(e,t,n){return function(...i){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,i)}}var Tb=vi("isNamed","isNamedPitch",br);const Ib=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:T1,altToAcc:V1,chroma:vb,coordToInterval:Ar,coordToNote:I1,coordinates:Xs,deprecate:vi,distance:L1,fillStr:Vb,height:B1,interval:lt,isNamed:Tb,isNamedPitch:br,isPitch:Zs,midi:Pb,note:an,pitch:Ws,stepToLetter:k1,tokenizeInterval:x1,tokenizeNote:Os,tonicIntervalsTransposer:zs,transpose:Ci},Symbol.toStringTag,{value:"Module"}));var vD=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],PD=vD,DD={...In,name:"",quality:"Unknown",intervals:[],aliases:[]},Pi=[],Un={};function R1(e){return Un[e]||DD}var FD=vi("ChordType.chordType","ChordType.get",R1);function ED(){return Pi.map(e=>e.name).filter(e=>e)}function wD(){return Pi.map(e=>e.aliases[0]).filter(e=>e)}function SD(){return Object.keys(Un)}function js(){return Pi.slice()}var BD=vi("ChordType.entries","ChordType.all",js);function _D(){Pi=[],Un={}}function Nb(e,t,n){const i=kD(e),r={...st(e),name:n||"",quality:i,intervals:e,aliases:t};Pi.push(r),r.name&&(Un[r.name]=r),Un[r.setNum]=r,Un[r.chroma]=r,r.aliases.forEach(s=>xD(r,s))}function xD(e,t){Un[t]=e}function kD(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}PD.forEach(([e,t,n])=>Nb(e.split(" "),n.split(" "),t)),Pi.sort((e,t)=>e.setNum-t.setNum);var Lb={names:ED,symbols:wD,get:R1,all:js,add:Nb,removeAll:_D,keys:SD,entries:BD,chordType:FD},VD=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],TD=VD,ID={...In,intervals:[],aliases:[]},$s=[],Qn={};function Rb(){return $s.map(e=>e.name)}function qs(e){return Qn[e]||ID}var ND=qs;function Di(){return $s.slice()}var LD=Di;function RD(){return Object.keys(Qn)}function GD(){$s=[],Qn={}}function Gb(e,t,n=[]){const i={...st(e),name:t,intervals:e,aliases:n};return $s.push(i),Qn[i.name]=i,Qn[i.setNum]=i,Qn[i.chroma]=i,i.aliases.forEach(r=>ZD(i,r)),i}function ZD(e,t){Qn[t]=e}TD.forEach(([e,t,...n])=>Gb(e.split(" "),t,n));var Zb={names:Rb,get:qs,all:Di,add:Gb,removeAll:GD,keys:RD,entries:LD,scaleType:ND},G1={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Z1(e){const[t,n,i,r]=Os(e);return t===""?["",e]:t==="A"&&r==="ug"?["","aug"]:[t+n,i+r]}function ei(e){if(e==="")return G1;if(Array.isArray(e)&&e.length===2)return Hs(e[1],e[0]);{const[t,n]=Z1(e),i=Hs(n,t);return i.empty?Hs(e):i}}function Hs(e,t,n){const i=R1(e),r=an(t||""),s=an(n||"");if(i.empty||t&&r.empty||n&&s.empty)return G1;const u=L1(r.pc,s.pc),o=i.intervals.indexOf(u)+1;if(!s.empty&&!o)return G1;const c=Array.from(i.intervals);for(let m=1;m<o;m++){const A=c[0][0],C=c[0][1],v=parseInt(A,10)+7;c.push(`${v}${C}`),c.shift()}const h=r.empty?[]:c.map(m=>Ci(r,m));e=i.aliases.indexOf(e)!==-1?e:i.aliases[0];const d=`${r.empty?"":r.pc}${e}${s.empty||o<=1?"":"/"+s.pc}`,g=`${t?r.pc+" ":""}${i.name}${o>1&&n?" over "+s.pc:""}`;return{...i,name:g,symbol:d,type:i.name,root:s.name,intervals:c,rootDegree:o,tonic:r.name,notes:h}}var XD=vi("Chord.chord","Chord.get",ei);function WD(e,t){const[n,i]=Z1(e);return n?Ci(n,t)+i:e}function OD(e){const t=ei(e),n=Ns(t.chroma);return Di().filter(i=>n(i.chroma)).map(i=>i.name)}function zD(e){const t=ei(e),n=Ns(t.chroma);return js().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function jD(e){const t=ei(e),n=Is(t.chroma);return js().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function $D(e){const{intervals:t,tonic:n}=ei(e),i=zs(t,n);return r=>r?i(r>0?r-1:r):""}function qD(e){const{intervals:t,tonic:n}=ei(e);return zs(t,n)}var HD={getChord:Hs,get:ei,detect:tD,chordScales:OD,extended:zD,reduced:jD,tokenize:Z1,transpose:WD,degrees:$D,steps:qD,chord:XD},KD=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],YD=KD,Ks=[];YD.forEach(([e,t,n])=>r5(e,t,n));var JD={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function UD(){return Ks.reduce((e,t)=>(t.names.forEach(n=>e.push(n)),e),[])}function QD(){return Ks.map(e=>e.shorthand)}var e5=/^([^.]+)(\.*)$/;function X1(e){const[t,n,i]=e5.exec(e)||[],r=Ks.find(o=>o.shorthand===n||o.names.includes(n));if(!r)return JD;const s=s5(r.fraction,i.length),u=s[0]/s[1];return{...r,name:e,dots:i,value:u,fraction:s}}var t5=e=>X1(e).value,n5=e=>X1(e).fraction,i5={names:UD,shorthands:QD,get:X1,value:t5,fraction:n5};function r5(e,t,n){Ks.push({empty:!1,dots:"",name:"",value:1/e,fraction:e<1?[1/e,1]:[1,e],shorthand:t,names:n})}function s5(e,t){const n=Math.pow(2,t);let i=e[0]*n,r=e[1]*n;const s=i;for(let u=0;u<t;u++)i+=s/Math.pow(2,u+1);for(;i%2===0&&r%2===0;)i/=2,r/=2;return[i,r]}function u5(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Xb=lt,a5=e=>lt(e).name,o5=e=>lt(e).semitones,c5=e=>lt(e).q,l5=e=>lt(e).num;function f5(e){const t=lt(e);return t.empty?"":t.simple+t.q}function h5(e){const t=lt(e);if(t.empty)return"";const n=(7-t.step)%7,i=t.type==="perfectable"?-t.alt:-(t.alt+1);return lt({step:n,alt:i,oct:t.oct,dir:t.dir}).name}var d5=[1,2,2,3,3,4,5,5,6,6,7,7],m5="P m M m M P d P m M m M".split(" ");function p5(e){const t=e<0?-1:1,n=Math.abs(e),i=n%12,r=Math.floor(n/12);return t*(d5[i]+7*r)+m5[i]}var g5=ks,Wb=Ob((e,t)=>[e[0]+t[0],e[1]+t[1]]),y5=e=>t=>Wb(e,t),b5=Ob((e,t)=>[e[0]-t[0],e[1]-t[1]]);function A5(e,t){const n=Xb(e);if(n.empty)return"";const[i,r,s]=n.coord;return Ar([i+t,r,s]).name}var Fi={names:u5,get:Xb,name:a5,num:l5,semitones:o5,quality:c5,fromSemitones:p5,distance:g5,invert:h5,simplify:f5,add:Wb,addTo:y5,substract:b5,transposeFifths:A5};function Ob(e){return(t,n)=>{const i=lt(t).coord,r=lt(n).coord;if(i&&r){const s=e(i,r);return Ar(s).name}}}function zb(e){return+e>=0&&+e<=127}function jb(e){if(zb(e))return+e;const t=Ee(e);return t.empty?null:t.midi}function M5(e,t=440){return Math.pow(2,(e-69)/12)*t}var C5=Math.log(2),v5=Math.log(440);function W1(e){const t=12*(Math.log(e)-v5)/C5+69;return Math.round(t*100)/100}var P5="C C# D D# E F F# G G# A A# B".split(" "),D5="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Nn(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const i=(t.sharps===!0?P5:D5)[e%12];if(t.pitchClass)return i;const r=Math.floor(e/12)-1;return i+r}function O1(e){return e%12}function F5(e){return e.split("").reduce((t,n,i)=>(i<12&&n==="1"&&t.push(i),t),[])}function E5(e){return e.map(O1).sort((t,n)=>t-n).filter((t,n,i)=>n===0||t!==i[n-1])}function z1(e){return Array.isArray(e)?E5(e):F5(e)}function w5(e){const t=z1(e);return n=>{const i=O1(n);for(let r=0;r<12;r++){if(t.includes(i+r))return n+r;if(t.includes(i-r))return n-r}}}function $b(e,t){const n=z1(e),i=n.length;return r=>{const s=r<0?(i- -r%i)%i:r%i,u=Math.floor(r/i);return n[s]+u*12+t}}function S5(e,t){const n=$b(e,t);return i=>{if(i!==0)return n(i>0?i-1:i)}}var B5={chroma:O1,freqToMidi:W1,isMidi:zb,midiToFreq:M5,midiToNoteName:Nn,pcsetNearest:w5,pcset:z1,pcsetDegrees:S5,pcsetSteps:$b,toMidi:jb},_5=["C","D","E","F","G","A","B"],qb=e=>e.name,Hb=e=>e.map(Ee).filter(t=>!t.empty);function x5(e){return e===void 0?_5.slice():Array.isArray(e)?Hb(e).map(qb):[]}var qt=Ee,k5=e=>qt(e).name,V5=e=>qt(e).pc,T5=e=>qt(e).acc,I5=e=>qt(e).oct,N5=e=>qt(e).midi,L5=e=>qt(e).freq,R5=e=>qt(e).chroma;function Kb(e){return Nn(e)}function G5(e){return Nn(W1(e))}function Z5(e){return Nn(W1(e),{sharps:!0})}function X5(e){return Nn(e,{sharps:!0})}var W5=ks,Ht=$t,O5=$t,Yb=e=>t=>Ht(t,e),z5=Yb,Jb=e=>t=>Ht(e,t),j5=Jb;function Ys(e,t){return Ht(e,[t,0])}var $5=Ys;function q5(e,t){return Ht(e,[0,t])}var j1=(e,t)=>e.height-t.height,H5=(e,t)=>t.height-e.height;function Ub(e,t){return t=t||j1,Hb(e).sort(t).map(qb)}function Qb(e){return Ub(e,j1).filter((t,n,i)=>n===0||t!==i[n-1])}var K5=e=>{const t=qt(e);return t.empty?"":Nn(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function eA(e,t){const n=qt(e);if(n.empty)return"";const i=qt(t||Nn(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(i.empty||i.chroma!==n.chroma)return"";if(n.oct===void 0)return i.pc;const r=n.chroma-n.alt,s=i.chroma-i.alt,u=r>11||s<0?-1:r<0||s>11?1:0,o=n.oct+u;return i.pc+o}var Ln={names:x5,get:qt,name:k5,pitchClass:V5,accidentals:T5,octave:I5,midi:N5,ascending:j1,descending:H5,distance:W5,sortedNames:Ub,sortedUniqNames:Qb,fromMidi:Kb,fromMidiSharps:X5,freq:L5,fromFreq:G5,fromFreqSharps:Z5,chroma:R5,transpose:Ht,tr:O5,transposeBy:Yb,trBy:z5,transposeFrom:Jb,trFrom:j5,transposeFifths:Ys,transposeOctaves:q5,trFifths:$5,simplify:K5,enharmonic:eA},tA={empty:!0,name:"",chordType:""},nA={};function Rn(e){return typeof e=="string"?nA[e]||(nA[e]=n9(e)):typeof e=="number"?Rn(Js[e]||""):A1(e)?U5(e):b1(e)?Rn(e.name):tA}var Y5=Rn;function J5(e=!0){return(e?Js:t9).slice()}function U5(e){return Rn(xs(e.alt)+Js[e.step])}var Q5=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function e9(e){return Q5.exec(e)||["","","",""]}var iA="I II III IV V VI VII",Js=iA.split(" "),t9=iA.toLowerCase().split(" ");function n9(e){const[t,n,i,r]=e9(e);if(!i)return tA;const s=i.toUpperCase(),u=Js.indexOf(s),o=C1(n),c=1;return{empty:!1,name:t,roman:i,interval:un({step:u,alt:o,dir:c}).name,acc:n,chordType:r,alt:o,step:u,major:i===s,oct:0,dir:c}}var i9={names:J5,get:Rn,romanNumeral:Y5},ut=Object.freeze([]),rA={type:"major",tonic:"",alteration:0,keySignature:""},Us={tonic:"",grades:ut,intervals:ut,scale:ut,triads:ut,chords:ut,chordsHarmonicFunction:ut,chordScales:ut,secondaryDominants:ut,secondaryDominantSupertonics:ut,substituteDominantsMinorRelative:ut,substituteDominants:ut,substituteDominantSupertonics:ut,secondaryDominantsMinorRelative:ut},r9={...rA,...Us,type:"major",minorRelative:"",scale:ut,substituteDominants:ut,secondaryDominantSupertonics:ut,substituteDominantsMinorRelative:ut},s9={...rA,type:"minor",relativeMajor:"",natural:Us,harmonic:Us,melodic:Us},$1=(e,t,n="")=>t.map((i,r)=>`${e[r]}${n}${i}`);function Qs(e,t,n,i,r){return s=>{const u=e.map(A=>Rn(A).interval||""),o=u.map(A=>Ht(s,A)),c=$1(o,n),h=o.map(A=>Ht(A,"5P")).map(A=>o.includes(A)&&!c.includes(A+"7")?A+"7":""),d=sA(h,t),g=h.map(A=>{if(!A)return"";const C=A.slice(0,-1);return Ht(C,"5d")+"7"}),m=sA(g,t);return{tonic:s,grades:e,intervals:u,scale:o,triads:$1(o,t),chords:c,chordsHarmonicFunction:i.slice(),chordScales:$1(o,r," "),secondaryDominants:h,secondaryDominantSupertonics:d,substituteDominants:g,substituteDominantSupertonics:m,secondaryDominantsMinorRelative:d,substituteDominantsMinorRelative:m}}}var sA=(e,t)=>e.map((n,i)=>{if(!n)return"";const r=n.slice(0,-1),s=Ht(r,"5P");return t[i].endsWith("m")?s+"m7":s+"m7b5"}),uA=(e,t)=>{const n=Ee(e),i=Ee(t);return n.empty||i.empty?0:i.coord[0]-n.coord[0]},u9=Qs("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),a9=Qs("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),o9=Qs("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),c9=Qs("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function l9(e){const t=Ee(e).pc;if(!t)return r9;const n=u9(t),i=uA("C",t);return{...n,type:"major",minorRelative:Ht(t,"-3m"),alteration:i,keySignature:xs(i)}}function f9(e){const t=Ee(e).pc;if(!t)return s9;const n=uA("C",t)-3;return{type:"minor",tonic:t,relativeMajor:Ht(t,"3m"),alteration:n,keySignature:xs(n),natural:a9(t),harmonic:o9(t),melodic:c9(t)}}function h9(e){return typeof e=="number"?Ys("C",e):typeof e=="string"&&/^b+|#+$/.test(e)?Ys("C",C1(e)):null}var d9={majorKey:l9,majorTonicFromKeySignature:h9,minorKey:f9},m9=un;function p9(e){const t=un(e);return t.empty?"":t.simple+t.q}function g9(e,t){const n=m9(e);if(n.empty)return"";const[i,r,s]=n.coord;return rb([i+t,r,s]).name}var q1=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],aA={...In,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},H1=q1.map(M9),K1={};H1.forEach(e=>{K1[e.name]=e,e.aliases.forEach(t=>{K1[t]=e})});function ti(e){return typeof e=="string"?K1[e.toLowerCase()]||aA:e&&e.name?ti(e.name):aA}var y9=ti;function oA(){return H1.slice()}var b9=oA;function A9(){return H1.map(e=>e.name)}function M9(e){const[t,n,i,r,s,u,o]=e,c=o?[o]:[],h=Number(n).toString(2);return{empty:!1,intervals:qs(r).intervals,modeNum:t,chroma:h,normalized:h,name:r,setNum:n,alt:i,triad:s,seventh:u,aliases:c}}function C9(e,t){return ti(e).intervals.map(n=>$t(t,n))}function cA(e){return(t,n)=>{const i=ti(t);if(i.empty)return[];const r=Mi(i.modeNum,e),s=i.intervals.map(u=>$t(n,u));return r.map((u,o)=>s[o]+u)}}var v9=cA(q1.map(e=>e[4])),P9=cA(q1.map(e=>e[5]));function lA(e,t){const n=ti(t),i=ti(e);return n.empty||i.empty?"":p9(g9("1P",i.alt-n.alt))}function D9(e,t,n){return $t(n,lA(e,t))}var F9={get:ti,names:A9,all:oA,distance:lA,relativeTonic:D9,notes:C9,triads:v9,seventhChords:P9,entries:b9,mode:y9};function E9(e){const[t,n,i,r]=v1(e);return t===""?Y1("",e):t==="A"&&r==="ug"?Y1("","aug"):Y1(t+n,i+r)}function Y1(e,t){const n=t.split("/");if(n.length===1)return[e,n[0],""];const[i,r,s,u]=v1(n[1]);return i!==""&&s===""&&u===""?[e,n[0],i+r]:[e,t,""]}function w9(e,t){return t.map(Rn).map(i=>$t(e,un(i))+i.chordType)}function S9(e,t){return t.map(n=>{const[i,r]=E9(n),s=ks(e,i);return Rn(un(s)).name+r})}var B9={fromRomanNumerals:w9,toRomanNumerals:S9};function fA(e){const t=D1(e.map(n=>typeof n=="number"?n:jb(n)));return!e.length||t.length!==e.length?[]:t.reduce((n,i)=>{const r=n[n.length-1];return n.concat(Ts(r,i).slice(1))},[t[0]])}function _9(e,t){return fA(e).map(n=>Nn(n,t))}var x9={numeric:fA,chromatic:_9},k9={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function hA(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=Ee(e.substring(0,t));if(n.empty){const r=Ee(e);return r.empty?["",e]:[r.name,""]}const i=e.substring(n.name.length+1).toLowerCase();return[n.name,i.length?i:""]}var V9=Rb;function on(e){const t=Array.isArray(e)?e:hA(e),n=Ee(t[0]).name,i=qs(t[1]);if(i.empty)return k9;const r=i.name,s=n?i.intervals.map(o=>$t(n,o)):[],u=n?n+" "+r:r;return{...i,name:u,type:r,tonic:n,notes:s}}var T9=on;function I9(e,t={}){const n=yb(e),i=Ee(t.tonic??e[0]??""),r=i.chroma;if(r===void 0)return[];const s=n.split("");s[r]="1";const u=Mi(r,s).join(""),o=Di().find(h=>h.chroma===u),c=[];return o&&c.push(i.name+" "+o.name),t.match==="exact"||dA(u).forEach(h=>{c.push(i.name+" "+h)}),c}function N9(e){const t=on(e),n=Is(t.chroma);return Mb().filter(i=>n(i.chroma)).map(i=>i.aliases[0])}function dA(e){const t=E1(e)?e:on(e).chroma,n=Ns(t);return Di().filter(i=>n(i.chroma)).map(i=>i.name)}function L9(e){const t=Is(on(e).chroma);return Di().filter(n=>t(n.chroma)).map(n=>n.name)}function mA(e){const t=e.map(r=>Ee(r).pc).filter(r=>r),n=t[0],i=Qb(t);return Mi(i.indexOf(n),i)}function R9(e){const t=on(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return w1(t.chroma).map((i,r)=>{const s=on(i).name;return s?[n[r],s]:["",""]}).filter(i=>i[0])}function G9(e){const t=Array.isArray(e)?mA(e):on(e).notes,n=t.map(i=>Ee(i).chroma);return i=>{const r=Ee(typeof i=="number"?Kb(i):i),s=r.height;if(s===void 0)return;const u=s%12,o=n.indexOf(u);if(o!==-1)return eA(r.name,t[o])}}function Z9(e){const t=G9(e);return(n,i)=>{const r=Ee(n).height,s=Ee(i).height;return r===void 0||s===void 0?[]:Ts(r,s).map(t).filter(u=>u)}}function X9(e){const{intervals:t,tonic:n}=on(e),i=ob(t,n);return r=>r?i(r>0?r-1:r):""}function W9(e){const{intervals:t,tonic:n}=on(e);return ob(t,n)}var Ei={degrees:X9,detect:I9,extended:dA,get:on,modeNames:R9,names:V9,rangeOf:Z9,reduced:L9,scaleChords:N9,scaleNotes:mA,steps:W9,tokenize:hA,scale:T9},O9={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},z9=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function j9(){return z9.slice()}var $9=/^(\d*\d(?:\+\d)*)\/(\d+)$/,pA=new Map;function q9(e){const t=JSON.stringify(e),n=pA.get(t);if(n)return n;const i=Y9(J1(e));return pA.set(t,i),i}function J1(e){if(typeof e=="string"){const[s,u,o]=$9.exec(e)||[];return J1([u,o])}const[t,n]=e,i=+n;if(typeof t=="number")return[t,i];const r=t.split("+").map(s=>+s);return r.length===1?[r[0],i]:[r,i]}var H9={names:j9,parse:J1,get:q9},K9=e=>Math.log(e)/Math.log(2)%1===0;function Y9([e,t]){const n=Array.isArray(e)?e.reduce((o,c)=>o+c,0):e,i=t;if(n===0||i===0)return O9;const r=Array.isArray(e)?`${e.join("+")}/${t}`:`${e}/${t}`,s=Array.isArray(e)?e:[],u=i===4||i===2?"simple":i===8&&n%3===0?"compound":K9(i)?"irregular":"irrational";return{empty:!1,name:r,type:u,upper:n,lower:i,additive:s}}var J9=Ib,U9=Ab,Q9=Lb,e7=Zb;const t7=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:CP,Array:BP,Chord:HD,ChordDictionary:Q9,ChordType:Lb,Collection:VP,Core:Ib,DurationValue:i5,Interval:Fi,Key:d9,Midi:B5,Mode:F9,Note:Ln,PcSet:U9,Pcset:Ab,Progression:B9,Range:x9,RomanNumeral:i9,Scale:Ei,ScaleDictionary:e7,ScaleType:Zb,TimeSignature:H9,Tonal:J9,accToAlt:T1,altToAcc:V1,chroma:vb,coordToInterval:Ar,coordToNote:I1,coordinates:Xs,deprecate:vi,distance:L1,fillStr:Vb,height:B1,interval:lt,isNamed:Tb,isNamedPitch:br,isPitch:Zs,midi:Pb,note:an,pitch:Ws,stepToLetter:k1,tokenizeInterval:x1,tokenizeNote:Os,tonicIntervalsTransposer:zs,transpose:Ci},Symbol.toStringTag,{value:"Module"})),n7=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],i7=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],r7=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s7={b:-1,"#":1},u7=e=>{const[t,...n]=e.split("");return i7.indexOf(t.toLowerCase())+n.reduce((i,r)=>i+s7[r],0)};function a7(e){const t=(e||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}const U1=e=>e%12,gA=e=>{let t=Number(e);return isNaN(t)?Fi.semitones(e):t},Q1=(e,t)=>{if(typeof e=="number")return e;if(typeof e=="string")return mn(e,t)},o7=(e,t=!1)=>{const n=Math.floor(e/12)-1;return(t?r7:n7)[e%12]+n};function c7(e,t,n=1){e=e.map(r=>typeof r=="string"?mn(r):r);const i=Math.floor(t/e.length)*n*12;return t=Ct(t,e.length),e[t]+i}function l7(e,t,n){let i=0,r=1/0;return t.forEach((s,u)=>{const o=Math.abs(s-e);(o<r||n)&&(i=u,r=o)}),i}let ed={};function f7(e,t,n,i){let[r,s]=Ei.tokenize(t);const u=Q1(r),o=U1(u);if(!ed[s]){let{intervals:m}=Ei.get(`C ${s}`);ed[s]=m.map(gA)}const c=ed[s];if(!c)return null;let h=u;if(n){n=Q1(n,3);const m=U1(n),A=Ct(m-o,12),C=l7(A,c,i);e=e+C,h=n-A}const d=Math.floor(e/c.length)*12;return e=Ct(e,c.length),c[e]+h+d}let yA={below:e=>e.slice(-1)[0],duck:e=>e.slice(-1)[0],above:e=>e[0],root:e=>e[0]};function h7({chord:e,dictionary:t,offset:n=0,n:i,mode:r="below",anchor:s="c5",octaves:u=1}){const[o,c]=a7(e),h=u7(o);s=Q1(s?.note||s,4);const d=U1(s),g=t[c].map(x=>(typeof x=="string"?x.split(" "):x).map(gA));let m,A,C=g.map((x,T)=>{const N=yA[r](x),K=Ct(d-N-h,12);return(m===void 0||K<m)&&(m=K,A=T),K});r==="root"&&(A=0);const v=Math.ceil(n/g.length)*12,E=Ct(A+n,g.length),k=g[E],V=yA[r](k),R=s-C[E]+v,_=k.map(x=>R-V+x);let S=_.map(x=>o7(x));return r==="duck"&&(S=S.filter((x,T)=>_[T]!==s)),i!==void 0?[c7(S,i,u)]:S}const d7=e=>(e<=0?-1:1)+e*7+"P";function m7(e,t){t=t.replaceAll(":"," "),e=Math.ceil(e);let{intervals:n,tonic:i,empty:r}=Ei.get(t);if(r&&Bn(t)||r&&!i)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(r)throw new Error(`invalid scale "${t}"`);i=i||"C";const{pc:s,oct:u=3}=Ln.get(i),o=Math.floor(e/n.length),c=Ct(e,n.length),h=Fi.add(n[c],d7(o));return Ln.transpose(s+u,h)}function bA(e,t,n){let[i,r]=Ei.tokenize(e),{notes:s}=Ei.get(`${i} ${r}`);if(s=s.map(A=>Ln.get(A).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:u,oct:o=3}=Ln.get(n),c=s.indexOf(u);if(c===-1)throw new Error(`note "${n}" is not in scale "${e}"`);let h=c,d=o,g=u;const m=Math.sign(t);for(;Math.abs(h-c)<Math.abs(t);){h+=m;const A=Ct(h,s.length);m<0&&g[0]==="C"&&(d+=m),g=s[A],m>0&&g[0]==="C"&&(d+=m)}return g+d}const{transpose:AA,trans:MA}=L(["transpose","trans"],function(t,n){return n.withHap(i=>{const r=i.value.note??i.value;if(typeof r=="number"){let o;typeof t=="number"?o=t:typeof t=="string"&&(o=Fi.semitones(t)||0);const c=r+o;return typeof i.value=="object"?i.withValue(()=>({...i.value,note:c})):i.withValue(()=>c)}if(typeof r!="string"||!Bn(r))return Qe(`[tonal] transpose: not a note "${r}"`,"warning"),i;const s=isNaN(Number(t))?String(t):Fi.fromSemitones(t),u=Ln.simplify(Ln.transpose(r,s));return typeof i.value=="object"?i.withValue(()=>({...i.value,note:u})):i.withValue(()=>u)})}),{scaleTranspose:CA,scaleTrans:vA,strans:PA}=L(["scaleTranspose","scaleTrans","strans"],function(e,t){return t.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:bA(n.context.scale,Number(e),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>bA(n.context.scale,Number(e),n.value))})}),DA=L("scale",function(e,t){return Array.isArray(e)&&(e=e.flat().join(" ")),t.fmap(n=>{const i=typeof n=="object";let r=i?n.n:n;if(i&&delete n.n,Bn(r))return He(r);let s=Number(r),u=0;if(isNaN(s)){if(r=String(r),!/^[-+]?\d+(#*|b*){1}$/.test(r))return Qe(`[tonal] invalid scale step "${r}", expected number or integer with optional # b suffixes`,"error"),Se;const o=r.indexOf("#");if(o>=0)s=Number(r.substring(0,o)),u=r.length-o;else{const c=r.indexOf("b");s=Number(r.substring(0,c)),u=c-r.length}}try{let o;i&&n.anchor?o=f7(s,e,n.anchor):o=m7(s,e),u!=0&&(o=Ln.transpose(o,Fi.fromSemitones(u))),n=He(i?{...n,note:o}:o)}catch(o){Qe(`[tonal] ${o.message}`,"error"),n=Se}return n}).outerJoin().withHap(n=>n.setContext({...n.context,scale:e}))},!0,!0);var td={},Mr={},Cr={},FA;function EA(){if(FA)return Cr;FA=1,Cr.__esModule=!0,Cr.getBestVoicing=void 0;function e(t){var n=t.chord,i=t.range,r=t.finder,s=t.picker,u=t.lastVoicing,o=r(n,i);return o.length?s(o,u):[]}return Cr.getBestVoicing=e,Cr}var vr={};const wA=Mv(t7);var Pr={},SA;function BA(){if(SA)return Pr;SA=1,Pr.__esModule=!0,Pr.tokenizeChord=void 0;function e(t){var n=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return n?n.slice(1):[]}return Pr.tokenizeChord=e,Pr}var _A;function p7(){if(_A)return vr;_A=1,vr.__esModule=!0,vr.voicingsInRange=void 0;var e=wA,t=kA(),n=BA();function i(r,s,u){s===void 0&&(s=t.lefthand),u===void 0&&(u=["D3","A4"]);var o=(0,n.tokenizeChord)(r),c=o[0],h=o[1];if(!s[h])return[];var d=s[h].map(function(m){return m.split(" ")}),g=e.Range.chromatic(u);return d.reduce(function(m,A){var C=A.map(function(V){return e.Interval.substract(V,A[0])}),v=e.Note.transpose(c,A[0]),E=g.filter(function(V){return e.Note.chroma(V)===e.Note.chroma(v)}).filter(function(V){return e.Note.midi(e.Note.transpose(V,C[C.length-1]))<=e.Note.midi(u[1])}).map(function(V){return e.Note.enharmonic(V,v)}),k=E.map(function(V){return C.map(function(R){return e.Note.transpose(V,R)})});return m.concat(k)},[])}return vr.voicingsInRange=i,vr}var xA;function kA(){return xA||(xA=1,function(e){var t=Mr.__assign||function(){return t=Object.assign||function(o){for(var c,h=1,d=arguments.length;h<d;h++){c=arguments[h];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(o[g]=c[g])}return o},t.apply(this,arguments)},n=Mr.__rest||function(o,c){var h={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&c.indexOf(d)<0&&(h[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,d=Object.getOwnPropertySymbols(o);g<d.length;g++)c.indexOf(d[g])<0&&Object.prototype.propertyIsEnumerable.call(o,d[g])&&(h[d[g]]=o[d[g]]);return h};e.__esModule=!0,e.dictionaryVoicing=e.dictionaryVoicingFinder=e.triads=e.guidetones=e.lefthand=void 0;var i=EA(),r=p7();e.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},e.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},e.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var s=function(o){return function(c,h){return(0,r.voicingsInRange)(c,o,h)}};e.dictionaryVoicingFinder=s;var u=function(o){var c=o.dictionary,h=o.range,d=n(o,["dictionary","range"]);return(0,i.getBestVoicing)(t(t({},d),{range:h,finder:(0,e.dictionaryVoicingFinder)(c)}))};e.dictionaryVoicing=u}(Mr)),Mr}var Dr={},VA;function g7(){if(VA)return Dr;VA=1,Dr.__esModule=!0,Dr.minTopNoteDiff=void 0;var e=wA;function t(n,i){if(!i)return n[0];var r=function(s){return Math.abs(e.Note.midi(i[i.length-1])-e.Note.midi(s[s.length-1]))};return n.reduce(function(s,u){return r(u)<r(s)?u:s},n[0])}return Dr.minTopNoteDiff=t,Dr}var TA;function y7(){return TA||(TA=1,function(e){e.__esModule=!0;var t=kA(),n=g7(),i=EA(),r=BA();e.default={tokenizeChord:r.tokenizeChord,getBestVoicing:i.getBestVoicing,dictionaryVoicing:t.dictionaryVoicing,dictionaryVoicingFinder:t.dictionaryVoicingFinder,lefthand:t.lefthand,guidetones:t.guidetones,triads:t.triads,minTopNoteDiff:n.minTopNoteDiff}}(td)),td}var b7=y7();const IA=P3(b7),wi={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},Fr={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:A7,minTopNoteDiff:M7}=IA.default||IA,ni={lefthand:{dictionary:{m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},mode:"below",anchor:"a4"},guidetones:{dictionary:{m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},mode:"above",anchor:"a4"},legacy:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},mode:"below",anchor:"a4"}};let NA="ireal";const nd=e=>NA=e,LA=(e,t)=>id(e,ni[e].dictionary,t),id=(e,t,n=["F3","A4"])=>{Object.assign(ni,{[e]:{dictionary:t,range:n}})},eu=(e,t,n={})=>{Object.assign(ni,{[e]:{dictionary:t,...n}})},C7=(e,t,n)=>{const{dictionary:i,range:r}=ni[t];return A7({chord:e,dictionary:i,range:r,picker:M7,lastVoicing:n})};let tu;const RA=L("voicings",function(e,t){return t.fmap(n=>(tu=C7(n,e,tu),ke(...tu))).outerJoin()}),GA=L("rootNotes",function(e,t){return t.fmap(n=>{const s=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+e;return n.chord?{note:s}:s})}),ZA=L("voicing",function(e){return e.fmap(t=>{t=typeof t=="string"?{chord:t}:t;let{dictionary:n=NA,chord:i,anchor:r,offset:s,mode:u,n:o,octaves:c,...h}=t;n=typeof n=="string"?ni[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let d=h7({...n,chord:i,anchor:r,offset:s,mode:u,n:o,octaves:c});return ke(...d).note().set(h)}catch{return Qe(`[voicing]: unknown chord "${i}"`),Se}}).outerJoin()});function Si(e,t,n){n=Array.isArray(n)?n:[n],n.forEach(i=>{i[t]=i[e]})}Si("^","",[wi,Fr]),Object.keys(wi).forEach(e=>{if(e.includes("-")){let t=e.replace("-","m");Si(e,t,[Fr,wi])}if(e.includes("^")){let t=e.replace("^","M");Si(e,t,[Fr,wi])}if(e.includes("+")){let t=e.replace("+","aug");Si(e,t,[Fr,wi])}}),eu("ireal",wi),eu("ireal-ext",Fr);function XA(){tu=void 0,nd("ireal")}const WA="@strudel/tonal",v7=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:id,packageName:WA,registerVoicings:eu,resetVoicings:XA,rootNotes:GA,scale:DA,scaleTrans:vA,scaleTranspose:CA,setDefaultVoicings:nd,setVoicingRange:LA,strans:PA,trans:MA,transpose:AA,voicing:ZA,voicingAlias:Si,voicingRegistry:ni,voicings:RA},Symbol.toStringTag,{value:"Module"}));async function OA(){const e=Yi(Yi,Promise.resolve().then(()=>Xy),Promise.resolve().then(()=>kC),Promise.resolve().then(()=>v7),Promise.resolve().then(()=>BC),{hush:jA,evaluate:$A});await Promise.all([e,_h()])}let rd,ii;function zA(e={}){Fh(),e.miniAllStrings!==!1&&zh();const{prebake:t,...n}=e;return ii=Lh({...n,transpiler:q3}),rd=(async()=>(await OA(),await t?.(),ii))(),Ji(()=>ii.scheduler.now()),rd}window.initStrudel=zA,q.prototype.play=function(){if(!ii)throw new Error(".play: no repl found. Have you called initStrudel?");return rd.then(()=>{ii.setPattern(this,!0)}),this};function jA(){ii.stop()}async function $A(e,t=!0){return ii.evaluate(e,t)}return a.ClockCollator=Du,a.Cyclist=Kf,a.DEFAULT_MAX_POLYPHONY=fs,a.Fraction=$,a.Hap=ze,a.Pattern=q,a.StartRules=x2,a.State=qn,a.SyntaxError=kn,a.TimeSpan=qe,a.__chooseWith=is,a._brandBy=ts,a._fitslice=Wu,a._irand=ns,a._keyDown=rs,a._match=Ou,a._mod=Ct,a._morph=jr,a._polymeterListSteps=ju,a._retime=Wr,a._slices=Or,a.accelerate=fa,a.activeLabel=ul,a.ad=ff,a.add=Yd,a.addVoicings=id,a.adsr=lf,a.aliasBank=a2,a.almostAlways=yy,a.almostNever=gy,a.always=Ay,a.amp=pa,a.analyze=Ba,a.anchor=xl,a.and=pm,a.apply=jm,a.applyFM=Qi,a.applyGainCurve=nn,a.ar=df,a.arp=_d,a.arpWith=Bd,a.arrange=Id,a.as=xf,a.att=ya,a.attack=ga,a.averageArray=du,a.backgroundImage=Gy,a.band=nm,a.bandf=Ra,a.bandq=Xa,a.bank=Sa,a.base64ToUnicode=vu,a.bbexpr=co,a.bbst=fo,a.beat=pg,a.begin=Oa,a.berlin=ry,a.berlinWith=jf,a.binary=Og,a.binaryN=Gf,a.bind=Xd,a.binshift=V0,a.bite=Jm,a.bjork=Kr,a.blshift=sm,a.bor=im,a.bp=Za,a.bpa=jo,a.bpattack=zo,a.bpd=Jo,a.bpdecay=Yo,a.bpe=Go,a.bpenv=Ro,a.bpf=Ga,a.bpq=Wa,a.bpr=cc,a.bprelease=oc,a.bps=ic,a.bpsustain=nc,a.brak=ap,a.brand=Kg,a.brandBy=Hg,a.brshift=um,a.bxor=rm,a.bypass=Ip,a.byteBeatExpression=oo,a.byteBeatStartTime=lo,a.calculateSteps=Sd,a.cat=Iu,a.ccn=Af,a.ccv=Mf,a.ceil=Mm,a.ch=mo,a.channel=So,a.channels=ho,a.choose=Xf,a.chooseCycles=Wf,a.chooseIn=Jg,a.chooseInWith=Ki,a.chooseOut=Ug,a.chooseWith=Hi,a.chop=rg,a.chord=Sl,a.chunk=Dp,a.chunkBack=wp,a.chunkBackInto=Tp,a.chunkInto=kp,a.chunkback=Sp,a.chunkbackinto=Vp,a.chunkinto=xp,a.clamp=Zi,a.cleanupUi=Zy,a.clip=j0,a.coarse=Ja,a.code2hash=Fd,a.color=of,a.colour=cf,a.comb=_0,a.compose=Ad,a.compress=wm,a.compressSpan=Sm,a.compressor=Ql,a.compressorAttack=n0,a.compressorKnee=e0,a.compressorRatio=t0,a.compressorRelease=i0,a.compressspan=Bm,a.connectToDestination=wh,a.constant=Md,a.contract=Ju,a.control=bf,a.controls=yg,a.cosine=Bg,a.cosine2=_g,a.cpm=$m,a.cps=z0,a.createClock=Vf,a.createFilter=Ui,a.createParam=zi,a.createParams=qr,a.crush=Ya,a.ctf=xo,a.ctlNum=Cf,a.ctranspose=ll,a.curry=ge,a.curve=Y0,a.cut=Bo,a.cutoff=_o,a.cycleToSeconds=Lr,a.dec=ka,a.decay=xa,a.defaultPrebake=OA,a.degrade=ay,a.degradeBy=uy,a.degradeByWith=sy,a.degree=ol,a.delay=Ec,a.delayfb=Sc,a.delayfeedback=wc,a.delaysync=Vc,a.delayt=xc,a.delaytime=_c,a.deltaSlide=J0,a.det=Nc,a.detune=Ic,a.dfb=Bc,a.dict=_l,a.dictionary=Bl,a.dist=Ul,a.distort=Jl,a.div=Qd,a.djf=Fc,a.dough=M2,a.doughTrigger=Ih,a.drawFrequencyScope=Gh,a.drawLine=wu,a.drawTimeScope=Rh,a.drive=ao,a.drop=Hu,a.dry=Gc,a.drywet=rh,a.ds=hf,a.dspWorklet=Th,a.dt=kc,a.duck=ro,a.duckattack=uo,a.duckdepth=so,a.dur=H0,a.duration=q0,a.e=Mg,a.early=qm,a.echo=bp,a.echoWith=mp,a.echowith=pp,a.eish=wg,a.end=za,a.enhance=S0,a.eq=fm,a.eqt=hm,a.euclid=Ag,a.euclidLegato=Dg,a.euclidLegatoRot=Fg,a.euclidRot=vg,a.euclidish=Eg,a.euclidrot=Cg,a.evalScope=Yi,a.evaluate=$A,a.every=zm,a.expand=Yu,a.expression=c0,a.extend=Ku,a.fadeInTime=Wc,a.fadeOutTime=Xc,a.fadeTime=Zc,a.fanchor=fc,a.fast=Nm,a.fastChunk=_p,a.fastGap=_m,a.fastcat=rt,a.fastchunk=Bp,a.fastgap=xm,a.fft=_a,a.filter=Zp,a.filterWhen=Xp,a.firstOf=Om,a.fit=lg,a.flatten=Qt,a.floor=Am,a.fm=Ma,a.fmattack=va,a.fmdecay=Da,a.fmenv=Ca,a.fmh=ba,a.fmi=Aa,a.fmrelease=Ea,a.fmsustain=Fa,a.fmvelocity=wa,a.fmwave=Pa,a.focus=km,a.focusSpan=Vm,a.focusspan=Tm,a.fractionalArgs=Cd,a.frameRate=N0,a.frames=L0,a.freeze=P0,a.freq=Oc,a.freqToMidi=kr,a.fromBipolar=vm,a.fshift=f0,a.fshiftnote=h0,a.fshiftphase=d0,a.ftype=lc,a.func=ym,a.gain=da,a.gainNode=ht,a.gap=Hn,a.gat=nl,a.gate=tl,a.getADSRValues=Wt,a.getAnalyserById=Sh,a.getAnalyzerData=ir,a.getAudioContext=Ce,a.getAudioContextCurrentTime=d2,a.getAudioDevices=bh,a.getCachedBuffer=Yy,a.getCompressor=ih,a.getControlName=Hr,a.getCurrentKeyboardState=Eu,a.getDefaultValue=Ke,a.getEventOffsetMs=pd,a.getFreq=hu,a.getFrequency=pu,a.getLeafLocation=bs,a.getLeafLocations=As,a.getLeaves=Oh,a.getLfo=nr,a.getLoadedBuffer=Jy,a.getOscillator=kh,a.getParamADSR=Xt,a.getPerformanceTimeSeconds=wd,a.getPitchEnvelope=oi,a.getPlayableNoteValue=bd,a.getSampleBuffer=oh,a.getSampleBufferSource=ch,a.getSampleInfo=ah,a.getSound=er,a.getSoundIndex=yd,a.getTime=us,a.getTrigger=Jf,a.getVibratoOscillator=ci,a.getWidgetID=K3,a.getWorklet=St,a.getZZFX=Vh,a.grow=Op,a.gt=om,a.gte=lm,a.h=T2,a.harmonic=fl,a.hash2code=Ed,a.hbrick=T0,a.hcutoff=bc,a.hold=La,a.hours=R0,a.hp=Mc,a.hpa=Oo,a.hpattack=Wo,a.hpd=Ko,a.hpdecay=Ho,a.hpe=Lo,a.hpenv=No,a.hpf=Ac,a.hpq=vc,a.hpr=ac,a.hprelease=uc,a.hps=tc,a.hpsustain=ec,a.hresonance=Cc,a.hsl=Gp,a.hsla=Rp,a.hurry=Lm,a.hush=jA,a.id=$n,a.imag=w0,a.inhabit=_y,a.inhabitmod=ky,a.initAudio=Ph,a.initAudioOnFirstClick=Fh,a.initStrudel=zA,a.initializeAudioOutput=Eh,a.innerBind=Wd,a.inside=Zm,a.inv=rp,a.invert=ip,a.ir=Wl,a.irand=Yg,a.irbegin=jl,a.iresponse=Ol,a.irspeed=zl,a.isControlName=ra,a.isNote=Bn,a.isNoteWithOctave=dd,a.isPattern=Zr,a.isaw=$i,a.isaw2=Ur,a.iter=Mp,a.iterBack=Cp,a.iterback=vp,a.itri=Tg,a.itri2=Ig,a.jux=dp,a.juxBy=fp,a.juxby=hp,a.kcutoff=g0,a.keep=Hd,a.keepif=Kd,a.keyAlias=Fu,a.keyDown=Cy,a.krush=p0,a.label=al,a.lastOf=Wm,a.late=Ru,a.lbrick=I0,a.legato=$0,a.leslie=il,a.lfo=ef,a.linger=Um,a.listRange=Vr,a.loadBuffer=ls,a.lock=Tc,a.logKey=xr,a.loop=ja,a.loopAt=og,a.loopAtCps=fg,a.loopBegin=$a,a.loopEnd=Ha,a.loopat=cg,a.loopatcps=hg,a.loopb=qa,a.loope=Ka,a.lp=Vo,a.lpa=Xo,a.lpattack=Zo,a.lpd=qo,a.lpdecay=$o,a.lpe=Io,a.lpenv=To,a.lpf=ko,a.lpq=Dc,a.lpr=sc,a.lprelease=rc,a.lps=Qo,a.lpsustain=Uo,a.lrate=rl,a.lsize=sl,a.lt=am,a.lte=cm,a.m=V2,a.mapArgs=Ir,a.mask=Ld,a.midi2note=gd,a.midiToFreq=_n,a.midibend=Sf,a.midichan=mf,a.midicmd=yf,a.midimap=pf,a.midiport=gf,a.miditouch=Bf,a.mini=Ms,a.mini2ast=mi,a.miniAllStrings=zh,a.minify=I2,a.minutes=G0,a.mod=em,a.mode=Tl,a.morph=gg,a.mouseX=Gg,a.mouseY=Lg,a.mousex=Rg,a.mousey=Ng,a.mtranspose=cl,a.mul=Ud,a.n=ca,a.nanFallback=mu,a.ne=dm,a.net=mm,a.never=by,a.noise=pc,a.noises=os,a.note=la,a.noteToMidi=mn,a.nothing=bt,a.nrpnn=vf,a.nrpv=Pf,a.nudge=ml,a.numeralArgs=yt,a.objectMap=Pu,a.octave=pl,a.octaveR=dl,a.octaves=Vl,a.octer=y0,a.octersub=b0,a.octersubsub=A0,a.off=up,a.offset=kl,a.often=my,a.onTriggerSample=dh,a.or=gm,a.orbit=gl,a.outerBind=Od,a.outside=Xm,a.overgain=yl,a.overshape=bl,a.pace=zu,a.packageName=WA,a.pairs=Au,a.palindrome=lp,a.pan=Al,a.panchor=el,a.panic=m2,a.panorient=Pl,a.panspan=Ml,a.pansplay=Cl,a.panwidth=vl,a.parse=Wh,a.parseFractional=bu,a.parseNumeral=Tr,a.partials=B0,a.patt=jc,a.pattack=zc,a.patternifyAST=Jn,a.pcurve=Qc,a.pdec=qc,a.pdecay=$c,a.penv=Uc,a.perlin=iy,a.perlinWith=zf,a.ph=Ao,a.phasdp=wo,a.phaser=Mo,a.phasercenter=Po,a.phaserdepth=Fo,a.phaserrate=bo,a.phasersweep=Co,a.phc=Do,a.phd=Eo,a.phs=vo,a.pick=$f,a.pickF=vy,a.pickOut=Dy,a.pickReset=Sy,a.pickRestart=Ey,a.pickSqueeze=xy,a.pickmod=qf,a.pickmodF=Py,a.pickmodOut=Fy,a.pickmodReset=By,a.pickmodRestart=wy,a.pickmodSqueeze=Vy,a.pipe=yu,a.pitchJump=U0,a.pitchJumpTime=Q0,a.ply=Im,a.pm=Vd,a.polyBind=$d,a.polyTouch=_f,a.polymeter=Oi,a.polyrhythm=xd,a.postgain=ma,a.pow=tm,a.pr=kd,a.prel=Jc,a.prelease=Yc,a.press=cp,a.pressBy=op,a.processSampleMap=fh,a.progNum=Df,a.psus=Kc,a.psustain=Hc,a.pure=He,a.pw=po,a.pwrate=go,a.pwsweep=yo,a.rand=ct,a.rand2=qg,a.randcat=Qg,a.randrun=Zf,a.range=Pm,a.range2=Fm,a.rangex=Dm,a.rarely=py,a.rate=Dl,a.ratio=Em,a.rdim=Gl,a.real=E0,a.ref=dg,a.register=L,a.registerControl=B,a.registerLanguage=Zv,a.registerSamplesPrefix=t2,a.registerSound=tn,a.registerSynthSounds=_h,a.registerVoicings=eu,a.registerWidgetType=Gv,a.registerZZFXSounds=b2,a.reify=H,a.rel=Na,a.release=Ia,a.removeUndefineds=jn,a.repeatCycles=Pp,a.repeatTime=tf,a.repl=Ry,a.resetDefaultValues=Mh,a.resetDefaults=c2,a.resetGlobalEffects=p2,a.resetLoadedSounds=h2,a.resetVoicings=XA,a.resonance=Pc,a.rev=Gu,a.reverseBuffer=lh,a.rfade=Xl,a.rib=Lp,a.ribbon=Np,a.ring=M0,a.ringdf=v0,a.ringf=C0,a.rlp=Ll,a.room=Il,a.roomdim=Rl,a.roomfade=Zl,a.roomlp=Nl,a.roomsize=$l,a.rootNotes=GA,a.rotate=gu,a.round=bm,a.rsize=Kl,a.run=Rf,a.s=sa,a.s_add=Yp,a.s_alt=$p,a.s_cat=jp,a.s_contract=eg,a.s_expand=Up,a.s_extend=Qp,a.s_polymeter=qp,a.s_sub=Jp,a.s_taper=Hp,a.s_taperlist=Kp,a.s_tour=tg,a.s_zip=ng,a.samples=hh,a.saw=ai,a.saw2=Jr,a.scale=DA,a.scaleTrans=vA,a.scaleTranspose=CA,a.scram=k0,a.scramble=$g,a.scrub=kf,a.seconds=Z0,a.seg=ep,a.segment=Qm,a.semitone=El,a.seq=Nu,a.seqPLoop=Nd,a.sequence=wt,a.sequenceP=_u,a.set=qd,a.setDefault=o2,a.setDefaultAudioContext=Ch,a.setDefaultValue=hs,a.setDefaultValues=l2,a.setDefaultVoicings=nd,a.setGainCurve=u2,a.setLogger=eh,a.setMaxPolyphony=ph,a.setMultiChannelOrbits=gh,a.setStringParser=Bu,a.setTime=Ji,a.setVersionDefaults=f2,a.setVoicingRange=LA,a.shape=Yl,a.shrink=Qu,a.shrinklist=Uu,a.shuffle=jg,a.signal=vt,a.silence=Se,a.sine=Tf,a.sine2=Qr,a.size=ql,a.slice=na,a.slide=Fl,a.slow=Rm,a.slowChunk=Ep,a.slowcat=pn,a.slowcatPrime=Xr,a.slowchunk=Fp,a.smear=x0,a.sol2note=vd,a.someCycles=dy,a.someCyclesBy=hy,a.sometimes=fy,a.sometimesBy=ly,a.songPtr=X0,a.sound=ua,a.soundMap=zt,a.source=aa,a.sparsity=Gm,a.speak=Ny,a.speed=$r,a.splice=ag,a.splitAt=Nr,a.spread=Rc,a.square=If,a.square2=xg,a.squeeze=Ty,a.squeezeBind=zd,a.squiz=u0,a.src=oa,a.stack=ke,a.stackBy=Td,a.stackCentre=Tu,a.stackLeft=ku,a.stackRight=Vu,a.steady=Sg,a.stepBind=jd,a.stepalt=$u,a.stepcat=ft,a.steps=ig,a.stepsPerOctave=hl,a.strans=PA,a.stretch=r0,a.striate=sg,a.stringifyValues=Rr,a.struct=Rd,a.strudelScope=Hf,a.stut=Ap,a.stutWith=gp,a.stutwith=yp,a.sub=Jd,a.superdough=gs,a.superdoughTrigger=y2,a.superimpose=Gd,a.sus=Ta,a.sustain=Va,a.sustainpedal=l0,a.swing=np,a.swingBy=tp,a.sysex=Ff,a.sysexdata=wf,a.sysexid=Ef,a.sz=Hl,a.take=qu,a.time=es,a.timeCat=zr,a.timecat=zp,a.toBipolar=Cm,a.tokenizeNote=fu,a.tour=ea,a.trans=MA,a.transpiler=q3,a.transpose=AA,a.tremolo=Ua,a.tremolodepth=eo,a.tremolophase=no,a.tremoloshape=io,a.tremoloskew=to,a.tremolosync=Qa,a.tri=kg,a.tri2=Vg,a.triode=m0,a.tsdelay=F0,a.uid=W0,a.undegrade=cy,a.undegradeBy=oy,a.unicodeToBase64=Cu,a.uniq=Pd,a.uniqsort=Dd,a.uniqsortr=Mu,a.unison=Lc,a.unit=s0,a.v=mc,a.val=O0,a.valueToMidi=md,a.velocity=ha,a.vib=hc,a.vibmod=gc,a.vibrato=dc,a.vmod=yc,a.voice=wl,a.voicing=ZA,a.voicingAlias=Si,a.voicingRegistry=ni,a.voicings=RA,a.vowel=a0,a.waveformN=xh,a.waveloss=o0,a.wchoose=ty,a.wchooseCycles=Of,a.webAudioTimeout=li,a.webaudioOutput=Nh,a.webaudioRepl=Lh,a.when=sp,a.whenKey=My,a.withValue=Zd,a.within=Wp,a.wrandcat=ny,a.xfade=ia,a.xsdelay=D0,a.zcrush=sf,a.zdelay=uf,a.zip=ta,a.zipWith=Gi,a.zmod=rf,a.znoise=nf,a.zoom=Hm,a.zoomArc=Km,a.zoomarc=Ym,a.zrand=K0,a.zzfx=af,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),a}({});
